
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ed &#8212; LDMud UNRELEASED documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'UNRELEASED',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Prerequisites" href="install.html" />
    <link rel="prev" title="&lt;no title&gt;" href="dependencies.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="ed">
<span id="lpc.command.ed"></span><div class="section" id="COMMAND">
<h2>COMMAND<a class="headerlink" href="#COMMAND" title="Permalink to this headline">¶</a></h2>
<div class="container">
ed</div>
</div>
<div class="section" id="DESCRIPTION">
<h2>DESCRIPTION<a class="headerlink" href="#DESCRIPTION" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#lpc.command.ed" title="ed"><code class="xref lpc lpc-command docutils literal"><span class="pre">ed</span></code></a> command opens a text editor. Ed has two modes, command mode and insert mode. Command mode uses <code class="docutils literal"><span class="pre">:</span></code> for a prompt, while insert mode has no prompt. You exit insert mode by typing a single <code class="docutils literal"><span class="pre">.</span></code> on a line.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">These manpages seem a bit antique, though still correct. For a better detailed help, invoke ed and use the <code class="docutils literal"><span class="pre">h</span></code> command. Also you could look into the man page for ed(1) on your nearest Unix box. And for a bit of fun you can try the good old quiz(6), invoke as <code class="docutils literal"><span class="pre">quiz</span> <span class="pre">function</span> <span class="pre">ed-command</span></code>.</p>
</div>
<div class="section" id="l">
<span id="p"></span><span id="c"></span><span id=":"></span><span id="s"></span><span id="u"></span><span id="b"></span><span id="t"></span><span id="o"></span><span id="p"></span><span id="i"></span><span id="c"></span><h3>syntax forms<a class="headerlink" href="#l" title="Permalink to this headline">¶</a></h3>
<p>All commands entered in either mode use one of the following syntax forms. With a line range:</p>
<div class="highlight-pike"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">X</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">Y</span><span class="o">&gt;&lt;</span><span class="n">cmd</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>With a single line:</p>
<div class="highlight-pike"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">X</span><span class="o">&gt;&lt;</span><span class="n">cmd</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Or with no line specified:</p>
<div class="highlight-pike"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">cmd</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>To print lines 1 to 10, fill the first form with <code class="docutils literal"><span class="pre">1</span></code> and <code class="docutils literal"><span class="pre">10</span></code> and <code class="docutils literal"><span class="pre">p</span></code>:</p>
<div class="highlight-pike"><div class="highlight"><pre><span></span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="n">p</span>
</pre></div>
</div>
<p>To delete lines 1 to 5, fill the first form with <code class="docutils literal"><span class="pre">1</span></code>, <code class="docutils literal"><span class="pre">5</span></code> and <code class="docutils literal"><span class="pre">d</span></code>:</p>
<div class="highlight-pike"><div class="highlight"><pre><span></span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="n">d</span>
</pre></div>
</div>
<p>To print a single line, fill the second form with <code class="docutils literal"><span class="pre">8</span></code> and <code class="docutils literal"><span class="pre">p</span></code>:</p>
<div class="highlight-pike"><div class="highlight"><pre><span></span><span class="mi">8</span><span class="n">p</span>
</pre></div>
</div>
<p>A <code class="docutils literal"><span class="pre">.</span></code> is the &#8220;current line&#8221;. The current line is the last line referenced. If you want to print last line + 10 more:</p>
<div class="highlight-pike"><div class="highlight"><pre><span></span><span class="p">.,.</span><span class="o">+</span><span class="mi">10</span><span class="n">p</span>
</pre></div>
</div>
</div>
<div class="section" id="l">
<span id="p"></span><span id="c"></span><span id=":"></span><span id="s"></span><span id="u"></span><span id="b"></span><span id="t"></span><span id="o"></span><span id="p"></span><span id="i"></span><span id="c"></span><h3>command mode commands<a class="headerlink" href="#l" title="Permalink to this headline">¶</a></h3>
<p>Commands that use a line range (if no line is given, then curent line is printed):</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">p</span></code></dt>
<dd>Print line.</dd>
<dt><code class="docutils literal"><span class="pre">d</span></code></dt>
<dd>Delete line.</dd>
<dt><code class="docutils literal"><span class="pre">l</span></code></dt>
<dd>Print line with control characters.</dd>
<dt><code class="docutils literal"><span class="pre">r</span> <span class="pre">file</span></code></dt>
<dd>Read in a file after the line specified.</dd>
<dt><code class="docutils literal"><span class="pre">s</span></code></dt>
<dd>Substitute patterns. See special documentation.</dd>
<dt><code class="docutils literal"><span class="pre">z</span></code></dt>
<dd>Print 10 lines.</dd>
<dt><code class="docutils literal"><span class="pre">a</span></code></dt>
<dd>Start insert mode after specified line. Exit with <code class="docutils literal"><span class="pre">.&lt;return&gt;</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">i</span></code></dt>
<dd>Start insert mode before specified line. Exit with <code class="docutils literal"><span class="pre">.&lt;return&gt;</span></code>.</dd>
</dl>
<p>Commands used without line specification:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">q</span></code></dt>
<dd>Quit. Won&#8217;t work if file is changed.</dd>
<dt><code class="docutils literal"><span class="pre">Q</span></code></dt>
<dd>Quit and discard all changes if not saved.</dd>
<dt><code class="docutils literal"><span class="pre">w</span></code></dt>
<dd>Write the file out.</dd>
<dt><code class="docutils literal"><span class="pre">w</span> <span class="pre">file</span></code></dt>
<dd>Write the file out with name <code class="docutils literal"><span class="pre">file</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">e</span> <span class="pre">file</span></code></dt>
<dd>Edit a file.</dd>
<dt><code class="docutils literal"><span class="pre">!cmd</span></code></dt>
<dd>Give a game command. For example &#8220;say Wait, I am busy&#8221;.</dd>
</dl>
<p>As line numbers <code class="docutils literal"><span class="pre">.</span></code> is current line, and <code class="docutils literal"><span class="pre">$</span></code> is last line of file. Thus <code class="docutils literal"><span class="pre">1,$p</span></code> will always print all of the file.</p>
</div>
<div class="section" id="l">
<span id="p"></span><span id="c"></span><span id=":"></span><span id="s"></span><span id="u"></span><span id="b"></span><span id="t"></span><span id="o"></span><span id="p"></span><span id="i"></span><span id="c"></span><h3>substitutions<a class="headerlink" href="#l" title="Permalink to this headline">¶</a></h3>
<p>Substitutions are very advanced.</p>
<p>First a simple example:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">s/apa/bepa/</span></code></dt>
<dd>This will substitue the <code class="docutils literal"><span class="pre">apa</span></code> in current line with <code class="docutils literal"><span class="pre">bepa</span></code>. If <code class="docutils literal"><span class="pre">p</span></code> is appended, you will also immediately see the result.</dd>
<dt><code class="docutils literal"><span class="pre">1,$s/apa/bepa/</span></code></dt>
<dd>Same, but all lines in file. Only first occurence on every line.</dd>
</dl>
<p>Any character can used instead of <code class="docutils literal"><span class="pre">/</span></code>:</p>
<div class="highlight-pike"><div class="highlight"><pre><span></span><span class="n">s</span><span class="o">!</span><span class="n">apa</span><span class="o">!</span><span class="n">bepa</span><span class="o">!</span><span class="n">g</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">g</span></code> specifies that all occurences of apa on this line are changed to bepa, instead of just the first.</p>
<p>The replacement pattern can be a regular expression, as covered in the next section.</p>
</div>
<div class="section" id="l">
<span id="p"></span><span id="c"></span><span id=":"></span><span id="s"></span><span id="u"></span><span id="b"></span><span id="t"></span><span id="o"></span><span id="p"></span><span id="i"></span><span id="c"></span><h3>searching<a class="headerlink" href="#l" title="Permalink to this headline">¶</a></h3>
<p>Searching is done with:</p>
<div class="highlight-pike"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">hello</span><span class="o">/</span>
</pre></div>
</div>
<p>This will find first match in or after current line. To repeat the search, use:</p>
<div class="highlight-pike"><div class="highlight"><pre><span></span><span class="c1">//</span>
</pre></div>
</div>
<p>The patterns are regular expressions, where some characters have a special meaning:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">.</span></code></dt>
<dd>Match any character.</dd>
<dt><code class="docutils literal"><span class="pre">x*</span></code></dt>
<dd>Match any numbers of x (0 or more).</dd>
<dt><code class="docutils literal"><span class="pre">[abc]</span></code></dt>
<dd>Match <code class="docutils literal"><span class="pre">a</span></code>, <code class="docutils literal"><span class="pre">b</span></code> or <code class="docutils literal"><span class="pre">c</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">[0-9]</span></code></dt>
<dd>Match any digit 0 - 9.</dd>
<dt><code class="docutils literal"><span class="pre">[a-z]</span></code></dt>
<dd>Match any lowercase letter.</dd>
<dt><code class="docutils literal"><span class="pre">\x</span></code></dt>
<dd>Match <code class="docutils literal"><span class="pre">x</span></code> where <code class="docutils literal"><span class="pre">x</span></code> can be any character except <code class="docutils literal"><span class="pre">(</span></code> and <code class="docutils literal"><span class="pre">)</span></code>.</dd>
</dl>
<div class="section" id="USAGE">
<h4>USAGE<a class="headerlink" href="#USAGE" title="Permalink to this headline">¶</a></h4>
<p>Substitute any string <code class="docutils literal"><span class="pre">abXd</span></code> against <code class="docutils literal"><span class="pre">ABCD</span></code> where X can be any
character:</p>
<div class="highlight-pike"><div class="highlight"><pre><span></span><span class="n">s</span><span class="o">/</span><span class="n">ab</span><span class="p">.</span><span class="n">d</span><span class="o">/</span><span class="n">ABCD</span><span class="o">/</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This only half the truth, there is lots more magic in the regexps.</p>
</div>
<div class="section" id="see2also">
<h3>SEE ALSO<a class="headerlink" href="#see2also" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="../efun/regexp.html#lpc.efun.regexp" title="regexp"><code class="xref lpc lpc-efun docutils literal"><span class="pre">regexp</span></code>(E)</a></p>
</div>
</div>
<div class="section" id="l">
<span id="p"></span><span id="c"></span><span id=":"></span><span id="s"></span><span id="u"></span><span id="b"></span><span id="t"></span><span id="o"></span><span id="p"></span><span id="i"></span><span id="c"></span><h3>copying<a class="headerlink" href="#l" title="Permalink to this headline">¶</a></h3>
<p>How to copy from a standard file.</p>
<p>Enter ed. Then do <code class="docutils literal"><span class="pre">r</span> <span class="pre">/room/vill_green.c</span></code>. Now you have something in the buffer. Change it into what you want it to be. Then <code class="docutils literal"><span class="pre">w</span> <span class="pre">/players/peter/hall.c</span></code>. Or <code class="docutils literal"><span class="pre">w</span> <span class="pre">hall.c</span></code>.</p>
</div>
<div class="section" id="l">
<span id="p"></span><span id="c"></span><span id=":"></span><span id="s"></span><span id="u"></span><span id="b"></span><span id="t"></span><span id="o"></span><span id="p"></span><span id="i"></span><span id="c"></span><h3>insert mode commands<a class="headerlink" href="#l" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">=</span></code></dt>
<dd>prints current line</dd>
<dt><code class="docutils literal"><span class="pre">a</span></code></dt>
<dd>append lines</dd>
<dt><code class="docutils literal"><span class="pre">c</span></code></dt>
<dd>change, that is, delate, than insert</dd>
<dt><code class="docutils literal"><span class="pre">d</span></code></dt>
<dd>delete line(s)</dd>
<dt><code class="docutils literal"><span class="pre">E</span> <span class="pre">&lt;filename&gt;</span></code></dt>
<dd>discard current buffer and edit the file named &lt;filename&gt;</dd>
<dt><code class="docutils literal"><span class="pre">e</span> <span class="pre">&lt;filename&gt;</span></code></dt>
<dd>like e, but refuse if file has been changed</dd>
<dt><code class="docutils literal"><span class="pre">f</span></code></dt>
<dd>print current filename</dd>
<dt><code class="docutils literal"><span class="pre">f</span> <span class="pre">&lt;filename&gt;</span></code></dt>
<dd>set filename</dd>
<dt><code class="docutils literal"><span class="pre">i</span></code></dt>
<dd>insert line(s)</dd>
<dt><code class="docutils literal"><span class="pre">j</span></code></dt>
<dd><p class="first">with no or one argument: join line with following line</p>
<p class="last">with two arguments: join line range given</p>
</dd>
<dt><code class="docutils literal"><span class="pre">k&lt;letter&gt;</span></code></dt>
<dd>set mark &lt;letter&gt; to current line. &lt;letter&gt; must be in the range [a-z] . The mark can be used thereinafter as a line address, with a leading slash. (e.g. ka to set mark a, /ap to print marked line)</dd>
<dt><code class="docutils literal"><span class="pre">l</span></code></dt>
<dd>print line with control characters</dd>
<dt><code class="docutils literal"><span class="pre">&lt;start&gt;,&lt;end&gt;m&lt;dest&gt;</span></code></dt>
<dd>move block (lines from start to end) behind line # dest</dd>
<dt><code class="docutils literal"><span class="pre">&lt;line&gt;m&lt;dest&gt;</span></code></dt>
<dd>move single line</dd>
<dt><code class="docutils literal"><span class="pre">m&lt;dest&gt;</span></code></dt>
<dd>move current line</dd>
<dt><code class="docutils literal"><span class="pre">M</span></code></dt>
<dd>remove Ctrl-M (CR) characters.</dd>
<dt><code class="docutils literal"><span class="pre">p</span></code></dt>
<dd>print line</dd>
<dt><code class="docutils literal"><span class="pre">P</span></code></dt>
<dd>print line</dd>
<dt><code class="docutils literal"><span class="pre">Q</span></code></dt>
<dd>quit, discarding the buffer</dd>
<dt><code class="docutils literal"><span class="pre">q</span></code></dt>
<dd>the same, but refuse if file has been changed since last write</dd>
<dt><code class="docutils literal"><span class="pre">r</span></code></dt>
<dd>read in file. If no adress is given, at the last insert position, if also nothing was inserted, at the end of the buffer</dd>
<dt><code class="docutils literal"><span class="pre">s</span></code></dt>
<dd>substitute</dd>
<dt><code class="docutils literal"><span class="pre">&lt;start&gt;,&lt;end&gt;t&lt;dest&gt;</span></code></dt>
<dd>copy block ( lines from start to end ) behind line position dest</dd>
<dt><code class="docutils literal"><span class="pre">&lt;line&gt;t&lt;dest&gt;</span></code></dt>
<dd>copy single line</dd>
<dt><code class="docutils literal"><span class="pre">t&lt;dest&gt;</span></code></dt>
<dd>copy current line</dd>
<dt><code class="docutils literal"><span class="pre">w</span></code></dt>
<dd>write file</dd>
<dt><code class="docutils literal"><span class="pre">W</span></code></dt>
<dd>write file</dd>
<dt><code class="docutils literal"><span class="pre">x</span></code></dt>
<dd>write file if buffer has been changed since last change, then quit</dd>
<dt><code class="docutils literal"><span class="pre">z</span></code></dt>
<dd>show approx. a screenful of lines</dd>
</dl>
</div>
<div class="section" id="l">
<span id="p"></span><span id="c"></span><span id=":"></span><span id="s"></span><span id="u"></span><span id="b"></span><span id="t"></span><span id="o"></span><span id="p"></span><span id="i"></span><span id="c"></span><h3>tips &amp; tricks<a class="headerlink" href="#l" title="Permalink to this headline">¶</a></h3>
<ol class="loweralpha simple">
<li>never use <code class="docutils literal"><span class="pre">1,$p</span></code> to print out an editfile, because you will be thrown out &#8216;cause of too much text transfereed to you.</li>
<li><code class="docutils literal"><span class="pre">$</span></code>: jump to end of file.</li>
<li><code class="docutils literal"><span class="pre">?anything?</span></code> and <code class="docutils literal"><span class="pre">??</span></code> : search from bottom to up. (like &#8216;/&#8217; from beginning to end of file. (also with substitutions, try it out...)</li>
<li>( <code class="docutils literal"><span class="pre">g/xxx/p</span></code> search global xxx and print corresponding lines, <code class="docutils literal"><span class="pre">/xxx/s/new/old/p</span></code> : search xxx, substitute new to old in this line and print out. (try this concatenations with other commands)</li>
<li><code class="docutils literal"><span class="pre">1,nmx</span></code> ( see ed5 ), but also: <code class="docutils literal"><span class="pre">1,ntx</span></code> : don&#8217;t move the lines, but make a copy of them.</li>
<li><code class="docutils literal"><span class="pre">x,y</span> <span class="pre">w</span> <span class="pre">name</span></code> : save lines <code class="docutils literal"><span class="pre">x</span></code> to <code class="docutils literal"><span class="pre">y</span></code> to <code class="docutils literal"><span class="pre">file</span></code> name (if you don&#8217;t know the line numbers : <code class="docutils literal"><span class="pre">=</span></code> current line number)</li>
<li><code class="docutils literal"><span class="pre">s/$/text/p</span></code> : append text to the end of current LINE and print line</li>
<li><code class="docutils literal"><span class="pre">s/^/text/p</span></code> : insert text at beginning of current LINE and print line</li>
</ol>
</div>
<div class="section" id="see2also">
<h2>SEE ALSO<a class="headerlink" href="#see2also" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../efun/ed.html#lpc.efun.ed" title="ed"><code class="xref lpc lpc-efun docutils literal"><span class="pre">ed</span></code>(E)</a></p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">ed</a><ul>
<li><a class="reference internal" href="#COMMAND">COMMAND</a></li>
<li><a class="reference internal" href="#DESCRIPTION">DESCRIPTION</a><ul>
<li><a class="reference internal" href="#l">syntax forms</a></li>
<li><a class="reference internal" href="#l">command mode commands</a></li>
<li><a class="reference internal" href="#l">substitutions</a></li>
<li><a class="reference internal" href="#l">searching</a><ul>
<li><a class="reference internal" href="#USAGE">USAGE</a></li>
<li><a class="reference internal" href="#see2also">SEE ALSO</a></li>
</ul>
</li>
<li><a class="reference internal" href="#l">copying</a></li>
<li><a class="reference internal" href="#l">insert mode commands</a></li>
<li><a class="reference internal" href="#l">tips &amp; tricks</a></li>
<li><a class="reference internal" href="#see2also">SEE ALSO</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="overview.html">Administrating an ldmud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applied/overview.html">Driver-applied methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../efun/overview.html">External functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hook/overview.html">Driver-supported hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../internals/overview.html">Driver-internal docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../master/overview.html">Master-object methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../syntax/overview.html">LPC syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/overview.html">Other topics</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;good question.
      
      |
      <a href="../_sources/admin/ed.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>
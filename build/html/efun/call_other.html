<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>call_other &mdash; LDMud UNRELEASED documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'UNRELEASED',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="LDMud UNRELEASED documentation" href="../index.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="call_other">
<div class="section" id="SYNOPSIS">
<h2>SYNOPSIS<a class="headerlink" href="#SYNOPSIS" title="Permalink to this headline">¶</a></h2>
<table class="efun" style="border-spacing:0;">
<tr id="lpc.call_other">
<td>
unknown </td><td>
<code class="descname">call_other</code></td><td><span class="sig-paren">(</span></td><td>
object<em>&nbsp;ob</em>, </td><td>
string<em>&nbsp;fun</em>, </td><td>
mixed<em>&nbsp;arg</em>, </td><td>
...</td><td colspan="1000" style="border:0;padding:0;margin:0;text-align:right;"><span class="sig-paren">)</span></td><a class="headerlink" href="#lpc.call_other" title="Permalink to this definition">¶</a></tr>
<tr>
<td>
unknown </td><td>
<code class="descname">call_other</code></td><td><span class="sig-paren">(</span></td><td>
object<em>&nbsp;*ob</em>, </td><td>
string<em>&nbsp;fun</em>, </td><td>
mixed<em>&nbsp;arg</em>, </td><td>
...</td><td colspan="1000" style="border:0;padding:0;margin:0;text-align:right;"><span class="sig-paren">)</span></td></tr>
</table></div>
<div class="section" id="DESCRIPTION">
<h2>DESCRIPTION<a class="headerlink" href="#DESCRIPTION" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In LPC syntax <a class="reference internal" href="../LPC/arrow.html#lpc.-&gt;" title="-&gt;"><span class="xref lpc lpc-lang">-&gt;</span>(LPC)</a> is an alias for this efun. Because the syntax form is easier to read, <a class="reference internal" href="#lpc.call_other" title="call_other"><code class="xref lpc lpc-efun docutils literal"><span class="pre">call_other</span></code>(E)</a> is rarely used directly in new code. See the syntax form&#8217;s documentation for usage notes.</p>
</div>
<p>Call a member function &lt;fun&gt; in another object &lt;ob&gt; with an the argument(s) &lt;arg...&gt;. Result is the value returned from the called function (or 0 for non-existing or void functions).</p>
<p>Additionally the efun accepts an array of objects as &lt;ob&gt;: the function is called with the same arguments in all the given objects. The single results are collected in an array and yield the final result. Array elements can be objects or the names of existing objects; destructed objects and 0s will yield a &#8216;0&#8217; as result, but don&#8217;t cause an error.</p>
<p>The object(s) can be given directly or via a string (i.e. its object_name). If it is given by a string and the object does not exist yet, it will be loaded.</p>
<p>If ob::fun does not define a publicly accessible function, the efun will call the H_DEFAULT_METHOD hook if set. If the hook is not set or can&#8217;t resolve the call either, call_other() will return 0, which is indistinguishable from a function returning 0.</p>
<p>Calls to the master object never use the H_DEFAULT_METHOD hook. To force non-default calls, the efun call_direct() can be used.</p>
<p>&#8220;publicly accessible&#8221; means &#8220;public&#8221; when calling other objects, and &#8220;public&#8221; or &#8220;static&#8221; when calling this_object(). &#8220;private&#8221; and &#8220;protected&#8221; function can never be called with call_other().</p>
<p>The return type of call_other() is &#8216;any&#8217; be default. However, if your LPC code uses #pragma strict_types, the return type is &#8216;unknown&#8217;, and the result of call_other() must be casted to the appropriate type before you can use it for anything.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>You may find calls to unlikely functions, especially in older code. For example:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="o">!</span><span class="nl">Compat</span><span class="p">:</span> <span class="n">call_other</span><span class="p">(</span><span class="s">&quot;/users/luser/thing&quot;</span><span class="p">,</span> <span class="s">&quot;???&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
 <span class="nl">Compat</span><span class="p">:</span> <span class="n">call_other</span><span class="p">(</span><span class="s">&quot;users/luser/thing&quot;</span><span class="p">,</span> <span class="s">&quot;???&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</pre></div>
</div>
<p class="last">This looks a bit weird but it was used very often to just load the object by calling a non-existing function like &#8221;???&#8221;. Fortunately nowadays there is an efun load_object() for this purpose.</p>
</div>
<h2 id="USAGE">USAGE<a class="headerlink" href="#DESCRIPTION" title="Permalink to this headline">¶</a></h2>
<p>First let&#8217;s do some setup:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">string</span> <span class="n">str</span><span class="p">,</span> <span class="n">fun</span><span class="p">;</span>
<span class="n">fun</span> <span class="o">=</span> <span class="s">&quot;QueryProp&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>Now we&#8217;ll use these variables with the basic <a class="reference internal" href="#lpc.call_other" title="call_other"><code class="xref lpc lpc-efun docutils literal"><span class="pre">call_other</span></code>(E)</a>. Both of the following statements call the lfun <span class="xref lpc lpc-any">QueryProp()</span> in the current player object with a single argument, P_SHORT:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">str</span> <span class="o">=</span> <span class="p">(</span><span class="n">string</span><span class="p">)</span><span class="n">call_other</span><span class="p">(</span><span class="n">this_player</span><span class="p">(),</span> <span class="s">&quot;QueryProp&quot;</span><span class="p">,</span> <span class="n">P_SHORT</span><span class="p">);</span>
<span class="n">str</span> <span class="o">=</span> <span class="p">(</span><span class="n">string</span><span class="p">)</span><span class="n">call_other</span><span class="p">(</span><span class="n">this_player</span><span class="p">(),</span> <span class="n">fun</span><span class="p">,</span> <span class="n">P_SHORT</span><span class="p">);</span>
</pre></div>
</div>
<p>If you have set #pragma strict_types, you have to do explicit type casting because of the unknown return type.</p>
<p>You can also pass <a class="reference internal" href="#lpc.call_other" title="call_other"><code class="xref lpc lpc-efun docutils literal"><span class="pre">call_other</span></code>(E)</a> an array of objects, causing the function to be called for each object. The following statement calls the lfun <span class="xref lpc lpc-any">short()</span> in all interactive users and stores the result in an array of strings:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">string</span> <span class="o">*</span><span class="n">s</span><span class="p">;</span>
<span class="n">s</span> <span class="o">=</span> <span class="p">(</span><span class="n">string</span> <span class="o">*</span><span class="p">)</span><span class="n">call_other</span><span class="p">(</span><span class="n">users</span><span class="p">(),</span> <span class="s">&quot;short&quot;</span><span class="p">);</span>
</pre></div>
</div>
<h2 id="HISTORY">HISTORY<a class="headerlink" href="#DESCRIPTION" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>changed</strong> (<em>3.2.8</em>) &#8211; <ul>
<li>a simul_efun call_other() also catches -&gt;() calls.</li>
<li>call_other can be applied on arrays of objects.</li>
</ul>
</li>
<li><strong>change</strong> (<em>3.2.10</em>) &#8211; made the call on arrays of objects configurable.</li>
<li><strong>changed</strong> (<em>3.3.113</em>) &#8211; the <a class="reference internal" href="../hook/default_method.html#lpc.H_DEFAULT_METHOD" title="H_DEFAULT_METHOD"><code class="xref lpc lpc-hook docutils literal"><span class="pre">H_DEFAULT_METHOD</span></code>(H)</a> hook was introduced.</li>
<li><strong>changed</strong> (<em>3.5.0</em>) &#8211; made the call on arrays of objects non-optional.</li>
</ul>
<h2 id="see2also">SEE ALSO<a class="headerlink" href="#DESCRIPTION" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../LPC/arrow.html#lpc.-&gt;" title="-&gt;"><span class="xref lpc lpc-lang">-&gt;</span>(LPC)</a>, <a class="reference internal" href="call_direct.html#lpc.call_direct" title="call_direct"><code class="xref lpc lpc-efun docutils literal"><span class="pre">call_direct</span></code>(E)</a>, <a class="reference internal" href="call_direct_resolved.html#lpc.call_direct_resolved" title="call_direct_resolved"><code class="xref lpc lpc-efun docutils literal"><span class="pre">call_direct_resolved</span></code>(E)</a>, <a class="reference internal" href="call_resolved.html#lpc.call_resolved" title="call_resolved"><code class="xref lpc lpc-efun docutils literal"><span class="pre">call_resolved</span></code>(E)</a>, <a class="reference internal" href="../applied/create.html#lpc.create" title="create"><code class="xref lpc lpc-applied docutils literal"><span class="pre">create</span></code>(A)</a>, <a class="reference internal" href="../LPC/pragma.html#lpc.pragma" title="pragma"><span class="xref lpc lpc-lang">pragma</span>(LPC)</a>, <a class="reference internal" href="extern_call.html#lpc.extern_call" title="extern_call"><code class="xref lpc lpc-efun docutils literal"><span class="pre">extern_call</span></code>(E)</a>, <a class="reference internal" href="function_exists.html#lpc.function_exists" title="function_exists"><code class="xref lpc lpc-efun docutils literal"><span class="pre">function_exists</span></code>(E)</a>, <span class="xref lpc lpc-lang">functions</span>, <a class="reference internal" href="map_objects.html#lpc.map_objects" title="map_objects"><code class="xref lpc lpc-efun docutils literal"><span class="pre">map_objects</span></code>(E)</a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">call_other</a><ul>
<li><a class="reference internal" href="#SYNOPSIS">SYNOPSIS</a></li>
<li><a class="reference internal" href="#DESCRIPTION">DESCRIPTION</a></li>
</ul>
</li>
</ul>
<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../hook/hook.html">hooks</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;good question.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
      |
      <a href="../_sources/efun/call_other.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>tls_init_connection &mdash; LDMud UNRELEASED documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'UNRELEASED',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="LDMud UNRELEASED documentation" href="../index.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tls_init_connection">
<div class="section" id="SYNOPSIS">
<h2>SYNOPSIS (PRELIMINARY)<a class="headerlink" href="#SYNOPSIS" title="Permalink to this headline">¶</a></h2>
<dl class="efun">
<dt id="lpc.tls_init_connection">
int <code class="descname">tls_init_connection</code><span class="sig-paren">(</span>object<em>&nbsp;ob</em><span class="sig-paren">)</span><a class="headerlink" href="#lpc.tls_init_connection" title="Permalink to this definition">¶</a></dt>
<dt>
int <code class="descname">tls_init_connection</code><span class="sig-paren">(</span>object<em>&nbsp;ob</em>, string<em>&nbsp;fun</em>, string|object<em>&nbsp;fob</em>, mixed<em>&nbsp;extra...</em><span class="sig-paren">)</span></dt>
<dt>
int <code class="descname">tls_init_connection</code><span class="sig-paren">(</span>object<em>&nbsp;ob</em>, closure<em>&nbsp;fun</em>, mixed<em>&nbsp;extra...</em><span class="sig-paren">)</span></dt>
</dl>

</div>
<div class="section" id="DESCRIPTION">
<h2>DESCRIPTION<a class="headerlink" href="#DESCRIPTION" title="Permalink to this headline">¶</a></h2>
<p>tls_init_connection() tries to start a TLS-secured connection to
the interactive object &lt;ob&gt; (or this_object() if &lt;ob&gt; is not given).</p>
<dl class="docutils">
<dt>Result:</dt>
<dd><dl class="first docutils">
<dt>errorcode &lt; 0: unsuccessful, use tls_error() to get a useful</dt>
<dd>description of the error</dd>
<dt>number &gt; 0 <span class="classifier-delimiter">:</span> <span class="classifier">the secure connection is still being set up in the</span></dt>
<dd>background</dd>
</dl>
<p class="last">number == 0  : the secure connection is active.</p>
</dd>
</dl>
<p>OpenSSL only:</p>
<blockquote>
<div>If the callback &lt;fun&gt;/&lt;fun&gt;:&lt;fob&gt; is specified, it will be called
once the fate of the secure connection has been determined. The
first argument will be the return code from the handshake
(errorcode &lt; 0 on failure, or 0 on success), followed by the
interactive object &lt;ob&gt; and any &lt;extra&gt; arguments.</div></blockquote>
<p>If the TLS setup fails, it is not necessary to call
tls_deinit_connection().</p>
<p>IMPORTANT: During the TLS handshake nothing else must be sent
to the client! For the most cases (TLS-capable clients logging in)
this means that the TLS handshake is the first and only thing the
client gets to see while the handshake is in progress.</p>
<p>The driver automatically suppresses the printing of the prompt
while the TLS handshake is in progress.</p>
<p>If tls_init_connection() is called in the master::connect() function,
the driver will either call the set callback in place of logon(), or
if no callback has been set, delay the call of logon() until the
state of the connection is clear.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">tls_init_connection</a><ul>
<li><a class="reference internal" href="#SYNOPSIS">SYNOPSIS (PRELIMINARY)</a></li>
<li><a class="reference internal" href="#DESCRIPTION">DESCRIPTION</a></li>
</ul>
</li>
</ul>
<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../hook/hook.html">hooks</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;good question.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
      |
      <a href="../_sources/efun/tls_init_connection.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>
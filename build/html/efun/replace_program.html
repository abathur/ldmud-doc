
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>efun::replace_program() &#8212; LDMud UNRELEASED documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'UNRELEASED',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="efun::restore_object()" href="restore_object.html" />
    <link rel="prev" title="efun::rename_object()" href="rename_object.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section">
<div class="section" id="SYNOPSIS">
<span id="replace_program"></span><h2>SYNOPSIS<a class="headerlink" href="#SYNOPSIS" title="Permalink to this headline">¶</a></h2>
<table class="function" style="border-spacing:0;">
<tr id="lpc.efun.replace_program">
<!--[lpc.efun.replace_program]--><td>
<a class="reference internal" href="../syntax/void.html#lpc.type.void" title="void">void</a> </td><td>
<code class="descname">replace_program</code></td><td><span class="sig-paren">(</span></td><td colspan="1000" style="border:0;padding:0;margin:0;text-align:right;"><span class="sig-paren">)</span></td><a class="headerlink" href="#lpc.efun.replace_program" title="Permalink to this definition">¶</a></tr>
<tr>
<td>
<a class="reference internal" href="../syntax/void.html#lpc.type.void" title="void">void</a> </td><td>
<code class="descname">replace_program</code></td><td><span class="sig-paren">(</span></td><td id="id1">
string<em>&nbsp;program</em></td><td colspan="1000" style="border:0;padding:0;margin:0;text-align:right;"><span class="sig-paren">)</span></td></tr>
</table></div>
<div class="section" id="DESCRIPTION">
<h2>DESCRIPTION<a class="headerlink" href="#DESCRIPTION" title="Permalink to this headline">¶</a></h2>
<p>Substitutes a program with the inherited program <a class="reference internal" href="#efun/replace_program.arg.program" title="program"><code class="xref lpc lpc-arg docutils literal"><span class="pre">program</span></code></a>. If the object inherits only one program, the argument may be omitted and the efun will automatically select the one inherited program.</p>
<p>This efun is useful if you consider the performance and memory consumption of the driver. A program which doesn&#8217;t need any additional variables and functions (except during creation) can call <a class="reference internal" href="#lpc.efun.replace_program" title="replace_program"><code class="xref lpc lpc-efun docutils literal"><span class="pre">replace_program</span></code>(E)</a> to increase the function-cache hit-rate of the driver which decreases with the number of programs in the system.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Replacing an object&#8217;s program removes all of its shadows.</p>
</div>
<p>Rooms are a good example for the application of this function, as many rooms just consist of an inherit statement and the configure function. Any object can call <a class="reference internal" href="#lpc.efun.replace_program" title="replace_program"><code class="xref lpc lpc-efun docutils literal"><span class="pre">replace_program</span></code>(E)</a> but looses all extra variables and functions which are not defined by the inherited program.</p>
<p>It is not possible to replace the program of an object after (lambda) closures have been bound to it. It is of course possible to first replace the program and then bind lambda closures to it.</p>
<p>The program replacement does not take place with the call to the efun, but is merely scheduled to be carried out at the end of the backend cycle. This may cause closures to have references to then vanished lfuns of the object. This poses no problem as long as these references are never executed after they became invalid.</p>
<div class="admonition limit">
<p class="first admonition-title">Limit</p>
<p class="last">If the replacement program contains virtually inherited variables, it must be the first inherited program. Without this restriction, the wrong variables would survive the replacement process.</p>
</div>
<div class="section" id="HISTORY">
<h2>HISTORY<a class="headerlink" href="#HISTORY" title="Permalink to this headline">¶</a></h2>
<ul>
<li><strong>changed</strong> (<em>3.2&#64;166</em>) &#8211; removes shadows from the object</li>
<li><strong>changed</strong> (<em>3.2.9</em>) &#8211; allowed to omit the argument if only one inherit exists.</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">efun::replace_program()</a><ul>
<li><a class="reference internal" href="#SYNOPSIS">SYNOPSIS</a></li>
<li><a class="reference internal" href="#DESCRIPTION">DESCRIPTION</a><ul>
<li><a class="reference internal" href="#HISTORY">HISTORY</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../admin/overview.html">Administrating an ldmud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applied/overview.html">Driver-applied methods</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="overview.html">External functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hook/overview.html">Driver-supported hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../internals/overview.html">Driver-internal docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../master/overview.html">Master-object methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../syntax/overview.html">LPC syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/overview.html">Other topics</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;good question.
      
      |
      <a href="../_sources/efun/replace_program.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>
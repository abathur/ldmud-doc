<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>efun::restore_object() &mdash; LDMud UNRELEASED documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'UNRELEASED',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="LDMud UNRELEASED documentation" href="../index.html" />
    <link rel="up" title="efun" href="efun.html" />
    <link rel="next" title="efun::restore_value()" href="restore_value.html" />
    <link rel="prev" title="efun::replace_program()" href="replace_program.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section">
<div class="section" id="SYNOPSIS">
<span id="restore_object"></span><h2>SYNOPSIS<a class="headerlink" href="#SYNOPSIS" title="Permalink to this headline">¶</a></h2>
<table class="function" style="border-spacing:0;">
<tr id="lpc.restore_object">
<td>
<a class="reference internal" href="../LPC/int.html#lpc.int" title="int">int</a> </td><td>
<code class="descname">restore_object</code></td><td><span class="sig-paren">(</span></td><td>
<a class="reference internal" href="../LPC/string.html#lpc.string" title="string">string</a><em>&nbsp;name</em></td><td colspan="1000" style="border:0;padding:0;margin:0;text-align:right;"><span class="sig-paren">)</span></td><a class="headerlink" href="#lpc.restore_object" title="Permalink to this definition">¶</a></tr>
<tr>
<td>
<a class="reference internal" href="../LPC/int.html#lpc.int" title="int">int</a> </td><td>
<code class="descname">restore_object</code></td><td><span class="sig-paren">(</span></td><td>
<a class="reference internal" href="../LPC/string.html#lpc.string" title="string">string</a><em>&nbsp;str</em></td><td colspan="1000" style="border:0;padding:0;margin:0;text-align:right;"><span class="sig-paren">)</span></td></tr>
</table></div>
<div class="section" id="DESCRIPTION">
<h2>DESCRIPTION<a class="headerlink" href="#DESCRIPTION" title="Permalink to this headline">¶</a></h2>
</div>
</div>
<p>Restore values of variables for current object from the file &lt;name&gt;,
or directly from the string &lt;str&gt;.</p>
<p>To restore directly from a string &lt;str&gt;, the string must begin
with the typical line &#8220;#x:y&#8221; as it is created by the save_object()
efun.</p>
<p>When restoring from a file, the name may end in &#8221;.c&#8221; which is stripped
off by the parser. The master object will probably append a .o to the
&lt;name&gt;. The validity of the filename is checked with a call to
check_valid_path().</p>
<p>Return 1 on success, 0 if there was nothing to restore.</p>
<p>Variables that has the type modifer &#8216;nosave&#8217; will not be restored.
Example: nosave int xxx;</p>
<p>Lfun, variable and simul_efun closures are restored only if they
can be found (this excludes closures of private lfuns as well) - if
not, they are restored as value &#8216;0&#8217;.</p>
<p>If inheritance is used, then it might be possible that a
variable will exist with the same name in more than one place,
and thus appear in the  save file multiple times. When
restoring, the variables are restored in the order they are
found in the inheritance tree.  A good practice is to have
verbose and unique name on non-static variables, which also
will make it more easy to read or patch the save file
manually.</p>
<p>Restoring directly from a string was added in LDMud 3.2.8 and
may be moved in future into a separate efun.
LDMud 3.2.9 added the restoring of non-lambda closures, symbols,
and quoted arrays, using a new savefile format version.
LDMud 3.5.0 added the possibility to restore version 2 with its higher
float precision.</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">See Also:</th><td class="field-body"><a class="reference internal" href="save_object.html#lpc.save_object" title="save_object"><code class="xref lpc lpc-efun docutils literal"><span class="pre">save_object()</span></code>(E)</a>, <a class="reference internal" href="restore_value.html#lpc.restore_value" title="restore_value"><code class="xref lpc lpc-efun docutils literal"><span class="pre">restore_value()</span></code>(E)</a>, <a class="reference internal" href="../master/valid_read.html#lpc.valid_read" title="valid_read"><code class="xref lpc lpc-master docutils literal"><span class="pre">valid_read</span></code>(M)</a></td>
</tr>
</tbody>
</table>
</div></blockquote>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">efun::restore_object()</a><ul>
<li><a class="reference internal" href="#SYNOPSIS">SYNOPSIS</a></li>
<li><a class="reference internal" href="#DESCRIPTION">DESCRIPTION</a></li>
</ul>
</li>
</ul>
<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../applied/applied.html">applied</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/concepts.html">concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../driver/driver.html">driver</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="efun.html">efun</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hook/hook.html">hook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../internals/internals.html">internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../master/master.html">master</a></li>
<li class="toctree-l1"><a class="reference internal" href="../obsolete/obsolete.html">obsolete</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LPC/lpc.html">LPC</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;good question.
      
      |
      <a href="../_sources/efun/restore_object.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>
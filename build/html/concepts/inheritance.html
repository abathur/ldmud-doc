<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>inheritance &mdash; LDMud UNRELEASED documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'UNRELEASED',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="LDMud UNRELEASED documentation" href="../index.html" />
    <link rel="up" title="concepts" href="concepts.html" />
    <link rel="next" title="initialisation" href="initialisation.html" />
    <link rel="prev" title="imp" href="imp.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="inheritance">
<span id="lpc.inheritance"></span><div class="section" id="CONCEPT">
<h2>CONCEPT<a class="headerlink" href="#CONCEPT" title="Permalink to this headline">¶</a></h2>
<p>inheritance</p>
</div>
<div class="section" id="DESCRIPTION">
<h2>DESCRIPTION<a class="headerlink" href="#DESCRIPTION" title="Permalink to this headline">¶</a></h2>
<p>Have you noticed how many objects in the system have the same functionality in common? Let&#8217;s look at rooms for instance, they all have the ability to host people and provide commands. It&#8217;s not that every room is programmed with the same basic functions again and again, rather it will use a model room and then make some special changes to it. That doesn&#8217;t work by copying the file.. Ouch! Don&#8217;t replicate code! But by putting a tiny inherit declaration:</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="n">inherit</span> <span class="s">&quot;&lt;model-class&gt;&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>at the beginning of your new file. This must come before any local variables or functions. Once inherited your class will behave just like the model class, because all the public methods are available to the outside world. Now it is in your hands to change such an inherited behaviour. You have the following tools to do so:</p>
<div class="section" id="glossary">
<h3>ACCESS TO VARIABLES<a class="headerlink" href="#glossary" title="Permalink to this headline">¶</a></h3>
<p>It is one of the best design decisions in LPC that variables are not accessible from outside, but you can use inherited variables just as if they were your own. Modifiers apply however.</p>
</div>
<div class="section" id="glossary">
<h3>METHOD OVERLOADING<a class="headerlink" href="#glossary" title="Permalink to this headline">¶</a></h3>
<p>You can simply rewrite a method that is also defined in the model class, and thus change how it behaves:</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">method_that_also_exists_in_the_model</span><span class="p">()</span> <span class="p">{</span>
  <span class="o">&lt;</span><span class="n">your</span> <span class="n">new</span> <span class="n">code</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Contrary to other languages in LPC method overloading only matches the name of the method, so even by changing the amount and type of parameters you will mask out the original version of the method. You can even apply other modifiers to it as the original.</p>
</div>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">refine how this doc uses example/usage/advanced* to fall into line with what we want the conventions to be across all docs...</p>
</div>
<div class="section" id="glossary">
<h3>EXAMPLE<a class="headerlink" href="#glossary" title="Permalink to this headline">¶</a></h3>
<p>Let&#8217;s imagine very simple food in a file called &#8220;/the/food.c&#8221;:</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="c1">// unless &quot;modified&quot; variables are accessible by inheritors</span>
<span class="kt">int</span> <span class="n">vitamins</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>

<span class="c1">// please overload this function with your own description</span>
<span class="n">public</span> <span class="nf">short</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s">&quot;something edible&quot;</span><span class="p">;</span> <span class="p">}</span>

<span class="c1">// let&#39;s do some standard action for food</span>
<span class="n">public</span> <span class="nf">consume</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">this_player</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">nourish</span><span class="p">(</span><span class="n">vitamins</span><span class="p">);</span>
  <span class="n">destruct</span><span class="p">(</span><span class="n">this_object</span><span class="p">());</span>
<span class="p">}</span>
</pre></div>
</div>
<p>And now someone else decides to do some italian cooking in a file called &#8220;/the/fusilli.c&#8221;:</p>
<div class="highlight-c"><div class="highlight"><pre><span></span>inherit &quot;/the/food&quot;;

// we have our own variables.
int gone_cold = 0;

// and we simply redefine the short() function to replace it
public short() {
  // description changes depending on gone_cold
  return &quot;a &quot;+( gone_cold ? &quot;stinking&quot; : &quot;steaming&quot; )+&quot; plate of fusilli&quot;;
}

// we have a new function to make food go cold
private deteriorate() {
  gone_cold = 1;
  write(&quot;The fusilli have gone cold.\n&quot;);
}

// assume this gets called at creation
private create() {
  // we can access the variable we inherited from food.c
  vitamins = 44;           // tomato has plenty of vitamins

  // go cold in 5 minutes
  call_out( #&#39;deteriorate, 5 * 60 );
}

// we can overload the function even with new parameters
public consume(how) {
  // fetch the name of the person, or use &quot;Someone&quot;
  string name = this_player() -&gt; name() || &quot;Someone&quot;;

  if (!gone_cold) {
    write(&quot;You enjoy a delicious plate of fusilli.\n&quot;);
    say(name +&quot; guzzles a plate of hot fusilli.\n&quot;);
  }
  else if (how == &quot;quickly&quot;) {
    write(&quot;You eat the fusilli so quickly you hardly notice they have gone cold.\n&quot;);
    say(name +&quot; wolfs down a plate of cold fusilli.\n&quot;);
  }
  else {
    write(&quot;You eye the plate and wonder if you really feel like eating cold fusilli.\n&quot;);
    return; // don&#39;t eat
  }

  // and here comes the most important part:
  // we execute consume() from food.c, so we
  // actually inherit its behaviour.
  ::consume();
}
</pre></div>
</div>
</div>
<div class="section" id="glossary">
<h3>ADVANCED USAGE<a class="headerlink" href="#glossary" title="Permalink to this headline">¶</a></h3>
<div class="section" id="glossary">
<h4>DOING MULTIPLE INHERITANCE<a class="headerlink" href="#glossary" title="Permalink to this headline">¶</a></h4>
<p>While the Java(TM) language has so-called interfaces as a kludge, LPC doesn&#8217;t need them as it supports real multiple inheritance. A very powerful feature, it lets you combine the behaviour of several classes into a new one. Simply put several lines of inherit declarations underneath each other. If you have name collisions in the namespace of inherited methods, you will have to address them explicitely with a &#8220;the/file&#8221;::method(args) syntax.</p>
</div>
</div>
<div class="section" id="glossary">
<h3>ADVANCED EXAMPLE<a class="headerlink" href="#glossary" title="Permalink to this headline">¶</a></h3>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="n">inherit</span> <span class="s">&quot;foo&quot;</span><span class="p">;</span>
<span class="n">inherit</span> <span class="s">&quot;bar&quot;</span><span class="p">;</span>
<span class="n">inherit</span> <span class="s">&quot;baz&quot;</span><span class="p">;</span>
<span class="n">inherit</span> <span class="s">&quot;ball&quot;</span><span class="p">;</span>

<span class="n">reset</span><span class="p">()</span> <span class="p">{</span>
  <span class="s">&quot;ba?&quot;</span><span class="o">::</span><span class="n">reset</span><span class="p">();</span>
  <span class="c1">// calls bar::reset() and baz::reset()</span>

  <span class="s">&quot;ba*&quot;</span><span class="o">::</span><span class="n">reset</span><span class="p">();</span>
  <span class="c1">// calls bar::reset(), baz::reset() and ball::reset()</span>

  <span class="s">&quot;*&quot;</span><span class="o">::</span><span class="n">reset</span><span class="p">();</span>
  <span class="c1">// calls every inherited reset() function.</span>

  <span class="s">&quot;ball&quot;</span><span class="o">::</span><span class="n">rejoice</span><span class="p">(</span><span class="s">&quot;Listen to italectro today!&quot;</span><span class="p">);</span>
  <span class="c1">// only explicit filename of model class allows</span>
  <span class="c1">// passing arguments to the inherited method</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="LORE">
<h2>LORE<a class="headerlink" href="#LORE" title="Permalink to this headline">¶</a></h2>
<p>AUTHOR:</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="n">symlynX</span> <span class="n">of</span> <span class="n">PSYC</span> <span class="n">and</span> <span class="n">Nemesis</span><span class="p">,</span> <span class="n">with</span> <span class="n">a</span> <span class="n">little</span> <span class="n">help</span> <span class="n">from</span> <span class="n">Someone</span>
</pre></div>
</div>
</div>
<div class="section" id="see2also">
<h2>SEE ALSO<a class="headerlink" href="#see2also" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../LPC/functions.html#lpc.functions" title="functions"><code class="xref lpc lpc-concept docutils literal"><span class="pre">functions</span></code>(C)</a>, <a class="reference internal" href="initialisation.html#lpc.initialisation" title="initialisation"><code class="xref lpc lpc-concept docutils literal"><span class="pre">initialisation</span></code>(C)</a>, <a class="reference internal" href="../LPC/modifiers.html#lpc.modifiers" title="modifiers"><code class="xref lpc lpc-lang docutils literal"><span class="pre">modifiers</span></code>(LPC)</a>, <a class="reference internal" href="../LPC/pragma.html#lpc.pragma" title="pragma"><code class="xref lpc lpc-lang docutils literal"><span class="pre">pragma</span></code>(LPC)</a>, <a class="reference internal" href="overloading.html#lpc.overloading" title="overloading"><code class="xref lpc lpc-concept docutils literal"><span class="pre">overloading</span></code>(C)</a>, <a class="reference internal" href="../efun/function_exists.html#lpc.function_exists" title="function_exists"><code class="xref lpc lpc-efun docutils literal"><span class="pre">function_exists()</span></code>(E)</a>, <a class="reference internal" href="../efun/functionlist.html#lpc.functionlist" title="functionlist"><code class="xref lpc lpc-efun docutils literal"><span class="pre">functionlist()</span></code>(E)</a>, <a class="reference internal" href="../efun/inherit_list.html#lpc.inherit_list" title="inherit_list"><code class="xref lpc lpc-efun docutils literal"><span class="pre">inherit_list()</span></code>(E)</a>, <a class="reference internal" href="../efun/symbol_variable.html#lpc.symbol_variable" title="symbol_variable"><code class="xref lpc lpc-efun docutils literal"><span class="pre">symbol_variable()</span></code>(E)</a>, <a class="reference internal" href="../efun/variable_exists.html#lpc.variable_exists" title="variable_exists"><code class="xref lpc lpc-efun docutils literal"><span class="pre">variable_exists()</span></code>(E)</a>, <a class="reference internal" href="../efun/variable_list.html#lpc.variable_list" title="variable_list"><code class="xref lpc lpc-efun docutils literal"><span class="pre">variable_list()</span></code>(E)</a></p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">inheritance</a><ul>
<li><a class="reference internal" href="#CONCEPT">CONCEPT</a></li>
<li><a class="reference internal" href="#DESCRIPTION">DESCRIPTION</a><ul>
<li><a class="reference internal" href="#glossary">ACCESS TO VARIABLES</a></li>
<li><a class="reference internal" href="#glossary">METHOD OVERLOADING</a></li>
<li><a class="reference internal" href="#glossary">EXAMPLE</a></li>
<li><a class="reference internal" href="#glossary">ADVANCED USAGE</a><ul>
<li><a class="reference internal" href="#glossary">DOING MULTIPLE INHERITANCE</a></li>
</ul>
</li>
<li><a class="reference internal" href="#glossary">ADVANCED EXAMPLE</a></li>
<li><a class="reference internal" href="#LORE">LORE</a></li>
<li><a class="reference internal" href="#see2also">SEE ALSO</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../applied/applied.html">applied</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="concepts.html">concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../driver/driver.html">driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../efun/efun.html">efun</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hook/hook.html">hook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../internals/internals.html">internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../master/master.html">master</a></li>
<li class="toctree-l1"><a class="reference internal" href="../obsolete/obsolete.html">obsolete</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LPC/lpc.html">LPC</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;good question.
      
      |
      <a href="../_sources/concepts/inheritance.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>tls &mdash; LDMud UNRELEASED documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'UNRELEASED',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="LDMud UNRELEASED documentation" href="../index.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tls">
<div class="section" id="SYNOPSIS">
<h2>SYNOPSIS<a class="headerlink" href="#SYNOPSIS" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" id="lpc.tls" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">tls:</th><td class="field-body"><span class="first last">transport layer security</span></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="DESCRIPTION">
<h2>DESCRIPTION<a class="headerlink" href="#DESCRIPTION" title="Permalink to this headline">¶</a></h2>
<p>TLS stands for Transport Layer Security which is the successor
of the well known SSL (Secure Socket Layer). Both techniques
provide a way to authenticate and encrypt the data send through
a network connection.</p>
<p>By enabling TLS during compilation of the driver you can provide
a secure channel into the mud to your players.</p>
<p>In difference to other solutions as &#8220;sslwrap&#8221; or &#8220;stunnel&#8221; the
driver integrated approach has the advantage that the mud sees
the real IP of the player, not the IP of the local mud host.</p>
<h2 id="USAGE">USAGE<a class="headerlink" href="#DESCRIPTION" title="Permalink to this headline">¶</a></h2>
<p>To use TLS configure your driver with &#8211;enable-tls option.
After starting your driver you have five new efuns
(tls_init_connection(), tls_deinit_connection(), tls_error(),
tls_query_connection_info(), tls_query_connection_state()).</p>
<p>You can switch on TLS by calling tls_init_connection().
This can happen in three ways:</p>
<ol class="arabic">
<li><p class="first">in telnet_neg()</p>
<blockquote>
<div><p>Advantage of this method is that you can offer TLS on a normal
mud port. If you have a limited number of ports this can
become important. The TLS connection will be started by
the client with help of telnet option STARTTLS. Currently
there are no mudclients that support this method.</p>
<p>You will have to implement the telnet option STARTTLS (46) for
this method. The draft for this can be found here:
<a class="reference external" href="http://www.ietf.org/proceedings/99mar/I-D/draft-ietf-tn3270e-telnet-tls-01.txt">http://www.ietf.org/proceedings/99mar/I-D/draft-ietf-tn3270e-telnet-tls-01.txt</a>
Call tls_init_connection() to initiate the TLS handshake.</p>
</div></blockquote>
</li>
<li><p class="first">in master_ob-&gt;connect()</p>
<blockquote>
<div><p>Advantage of this method is that your users can connect with
any program that supports TLS/SSL. Examples are telnet-ssl,
sslwrap or stunnel. Disadvantage is that you have to spend
a dedicated port for this.</p>
<p>You have to call tls_init_connection() as first command
after the player connected (normally in master_ob-&gt;connect())</p>
</div></blockquote>
</li>
<li><p class="first">in an interactive object using a callback.</p>
<blockquote>
<div><p>This method is similar to method (1), but not limited to
telnet: it is useful for implementing protocols that use
STARTTLS like SMTP or IMAP. tls_init_connection() can be
called at any time by the interactive object.</p>
<p>You must not write to the connection after calling this
efun until the callback is executed (the prompt will
be supressed automatically during this time).</p>
</div></blockquote>
</li>
</ol>
<p>To test your code, you can use the openssl binary.
<a href="#id1"><span class="problematic" id="id2">`</span></a>openssl s_client -connect host:port&#8217; should display your certificate
and anything you write after the callback is executed. If you
encounter the error message <a href="#id3"><span class="problematic" id="id4">`</span></a>SSL3_GET_RECORD: wrong version number&#8217;
you&#8217;re probably writing to the connection while you should not.</p>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">This manpage might be not quite up to date with the implementation.</p>
</div>
<h2 id="HISTORY">HISTORY<a class="headerlink" href="#DESCRIPTION" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>introduced</strong> (<em>3.3.474</em>)</li>
<li><strong>backported</strong> (<em>3.2.11</em>)</li>
</ul>
<h2 id="see2also">SEE ALSO<a class="headerlink" href="#DESCRIPTION" title="Permalink to this headline">¶</a></h2>
<p>tls_* efuns</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">tls</a><ul>
<li><a class="reference internal" href="#SYNOPSIS">SYNOPSIS</a></li>
<li><a class="reference internal" href="#DESCRIPTION">DESCRIPTION</a></li>
</ul>
</li>
</ul>
<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../hook/hook.html">hooks</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;good question.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
      |
      <a href="../_sources/concepts/tls.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>
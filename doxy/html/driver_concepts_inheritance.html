<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Tsunami: inheritance</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tsunami
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('driver_concepts_inheritance.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">inheritance </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Have you noticed how many objects in the system have the same functionality in common? Let's look at rooms for instance, they all have the ability to host people and provide commands. It's not that every room is programmed with the same basic functions again and again, rather it will use a model room and then make some special changes to it. That doesn't work by copying the file.. Ouch! Don't replicate code! But by putting a tiny inherit declaration:</p>
<div class="fragment"><div class="line">inherit <span class="stringliteral">&quot;&lt;model-class&gt;&quot;</span>;</div>
</div><!-- fragment --><p> at the beginning of your new file. This must come before any local variables or functions. Once inherited your class will behave just like the model class, because all the public methods are available to the outside world. Now it is in your hands to change such an inherited behaviour. You have the following tools to do so:</p>
<h2>ACCESS TO VARIABLES</h2>
<p>It is one of the best design decisions in LPC that variables are not accessible from outside, but you can use inherited variables just as if they were your own. Modifiers apply however.</p>
<h2>METHOD OVERLOADING</h2>
<p>You can simply rewrite a method that is also defined in the model class, and thus change how it behaves:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> method_that_also_exists_in_the_model() {</div>
<div class="line">  &lt;your <span class="keyword">new</span> code&gt;</div>
<div class="line">}</div>
</div><!-- fragment --><p> Contrary to other languages in LPC method overloading only matches the name of the method, so even by changing the amount and type of parameters you will mask out the original version of the method. You can even apply other modifiers to it as the original.</p>
<h2>EXAMPLE</h2>
<p>Let's imagine very simple food in a file called "/the/food.c":</p>
<div class="fragment"><div class="line"><span class="comment">// unless &quot;modified&quot; variables are accessible by inheritors</span></div>
<div class="line"><span class="keywordtype">int</span> vitamins = 10;</div>
<div class="line"></div>
<div class="line"><span class="comment">// please overload this function with your own description</span></div>
<div class="line"><span class="keyword">public</span> short() { <span class="keywordflow">return</span> <span class="stringliteral">&quot;something edible&quot;</span>; }</div>
<div class="line"></div>
<div class="line"><span class="comment">// let&#39;s do some standard action for food</span></div>
<div class="line"><span class="keyword">public</span> consume() {</div>
<div class="line">  this_player() -&gt; nourish(vitamins);</div>
<div class="line">  destruct(this_object());</div>
<div class="line">}</div>
</div><!-- fragment --><p> And now someone else decides to do some italian cooking in a file called "/the/fusilli.c":</p>
<div class="fragment"><div class="line">inherit <span class="stringliteral">&quot;/the/food&quot;</span>;</div>
<div class="line"></div>
<div class="line"><span class="comment">// we have our own variables.</span></div>
<div class="line"><span class="keywordtype">int</span> gone_cold = 0;</div>
<div class="line"></div>
<div class="line"><span class="comment">// and we simply redefine the short() function to replace it</span></div>
<div class="line"><span class="keyword">public</span> short() {</div>
<div class="line">  <span class="comment">// description changes depending on gone_cold</span></div>
<div class="line">  <span class="keywordflow">return</span> <span class="stringliteral">&quot;a &quot;</span>+( gone_cold ? <span class="stringliteral">&quot;stinking&quot;</span> : <span class="stringliteral">&quot;steaming&quot;</span> )+<span class="stringliteral">&quot; plate of fusilli&quot;</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// we have a new function to make food go cold</span></div>
<div class="line"><span class="keyword">private</span> deteriorate() {</div>
<div class="line">  gone_cold = 1;</div>
<div class="line">  write(<span class="stringliteral">&quot;The fusilli have gone cold.\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// assume this gets called at creation</span></div>
<div class="line"><span class="keyword">private</span> create() {</div>
<div class="line">  <span class="comment">// we can access the variable we inherited from food.c</span></div>
<div class="line">  vitamins = 44;           <span class="comment">// tomato has plenty of vitamins</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">// go cold in 5 minutes</span></div>
<div class="line">  call_out( #<span class="stringliteral">&#39;deteriorate, 5 * 60 );</span></div>
<div class="line"><span class="stringliteral">}</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">// we can overload the function even with new parameters</span></div>
<div class="line"><span class="stringliteral">public consume(how) {</span></div>
<div class="line"><span class="stringliteral">  // fetch the name of the person, or use &quot;Someone&quot;</span></div>
<div class="line"><span class="stringliteral">  string name = this_player() -&gt; name() || &quot;Someone&quot;;</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">  if (!gone_cold) {</span></div>
<div class="line"><span class="stringliteral">    write(&quot;You enjoy a delicious plate of fusilli.\n&quot;);</span></div>
<div class="line"><span class="stringliteral">    say(name +&quot; guzzles a plate of hot fusilli.\n&quot;);</span></div>
<div class="line"><span class="stringliteral">  }</span></div>
<div class="line"><span class="stringliteral">  else if (how == &quot;quickly&quot;) {</span></div>
<div class="line"><span class="stringliteral">    write(&quot;You eat the fusilli so quickly you hardly notice they have gone cold.\n&quot;);</span></div>
<div class="line"><span class="stringliteral">    say(name +&quot; wolfs down a plate of cold fusilli.\n&quot;);</span></div>
<div class="line"><span class="stringliteral">  }</span></div>
<div class="line"><span class="stringliteral">  else {</span></div>
<div class="line"><span class="stringliteral">    write(&quot;You eye the plate and wonder if you really feel like eating cold fusilli.\n&quot;);</span></div>
<div class="line"><span class="stringliteral">    return; // don&#39;</span>t eat</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// and here comes the most important part:</span></div>
<div class="line">  <span class="comment">// we execute consume() from food.c, so we</span></div>
<div class="line">  <span class="comment">// actually inherit its behaviour.</span></div>
<div class="line">  ::consume();</div>
<div class="line">}</div>
</div><!-- fragment --><h2>ADVANCED USAGE</h2>
<h3>DOING MULTIPLE INHERITANCE</h3>
<p>While the Java(TM) language has so-called interfaces as a kludge, LPC doesn't need them as it supports real multiple inheritance. A very powerful feature, it lets you combine the behaviour of several classes into a new one. Simply put several lines of inherit declarations underneath each other. If you have name collisions in the namespace of inherited methods, you will have to address them explicitely with a "the/file"::method(args) syntax.</p>
<h2>ADVANCED EXAMPLE</h2>
<div class="fragment"><div class="line">inherit <span class="stringliteral">&quot;foo&quot;</span>;</div>
<div class="line">inherit <span class="stringliteral">&quot;bar&quot;</span>;</div>
<div class="line">inherit <span class="stringliteral">&quot;baz&quot;</span>;</div>
<div class="line">inherit <span class="stringliteral">&quot;ball&quot;</span>;</div>
<div class="line"></div>
<div class="line">reset() {</div>
<div class="line">  <span class="stringliteral">&quot;ba?&quot;</span>::reset();</div>
<div class="line">  <span class="comment">// calls bar::reset() and baz::reset()</span></div>
<div class="line"></div>
<div class="line">  <span class="stringliteral">&quot;ba*&quot;</span>::reset();</div>
<div class="line">  <span class="comment">// calls bar::reset(), baz::reset() and ball::reset()</span></div>
<div class="line"></div>
<div class="line">  <span class="stringliteral">&quot;*&quot;</span>::reset();</div>
<div class="line">  <span class="comment">// calls every inherited reset() function.</span></div>
<div class="line"></div>
<div class="line">  <span class="stringliteral">&quot;ball&quot;</span>::rejoice(<span class="stringliteral">&quot;Listen to italectro today!&quot;</span>);</div>
<div class="line">  <span class="comment">// only explicit filename of model class allows</span></div>
<div class="line">  <span class="comment">// passing arguments to the inherited method</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>AUTHOR:</p>
<div class="fragment"><div class="line">symlynX of PSYC and Nemesis, with a little help from Someone</div>
</div><!-- fragment --><dl class="section see"><dt>See Also</dt><dd><a class="el" href="driver_LPC_functions.html">functions</a>, <a class="el" href="driver_concepts_initialisation.html">initialisation</a>, <a class="el" href="driver_LPC_modifiers.html">modifiers</a>, <a class="el" href="driver_LPC_pragma.html">pragma</a>, <a class="el" href="driver_concepts_overloading.html">overloading</a>, <a class="el" href="classefun.html#a5d01aa2cfe41a64bb709d8ef3db87b58" title="Look up a function &lt;str&gt; in the current object, respectively in the object &lt;ob&gt;. ">efun::function_exists()</a>, <a class="el" href="classefun.html#ae6f59c9fb98b3b61c5cc313efa4f831d" title="Returns an array with information about &lt;ob&gt;s lfunctions. ">efun::functionlist()</a>, <a class="el" href="classefun.html#a7a664980523bf7f74ca905ee06b70a8b" title="Returns the names of all files inherited by &lt;ob&gt;, including &lt;ob&gt;s own filename. ">efun::inherit_list()</a>, <a class="el" href="classefun.html#ac7fc587fe8fda9d328a501c95f70bc92">efun::symbol_variable()</a>, <a class="el" href="classefun.html#a2801e7dd302b68995897babaee958d39">efun::variable_exists()</a>, <a class="el" href="classefun.html#a5b94e483c0d2c57a5860cfd36280c100">efun::variable_list()</a> </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="driver_todo.html">todo</a></li>
    <li class="footer">Generated on Sat Jun 11 2016 14:24:11 for Tsunami by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>

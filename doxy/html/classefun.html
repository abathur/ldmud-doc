<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>LDMud: efun Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LDMud
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classefun.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pac-methods">Package Functions</a> &#124;
<a href="classefun-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">efun Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pac-methods"></a>
Package Functions</h2></td></tr>
<tr class="memitem:ab3455bc278e2680045694e1aa4bd4a22"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ab3455bc278e2680045694e1aa4bd4a22">abs</a> (float number)</td></tr>
<tr class="memdesc:ab3455bc278e2680045694e1aa4bd4a22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the absolute value of <code>number</code>.  <a href="#ab3455bc278e2680045694e1aa4bd4a22">More...</a><br/></td></tr>
<tr class="separator:ab3455bc278e2680045694e1aa4bd4a22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07648648c7f857cfd1479821d4389751"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a07648648c7f857cfd1479821d4389751">acos</a> (float)</td></tr>
<tr class="memdesc:a07648648c7f857cfd1479821d4389751"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the arcus cosine of the argument.  <a href="#a07648648c7f857cfd1479821d4389751">More...</a><br/></td></tr>
<tr class="separator:a07648648c7f857cfd1479821d4389751"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1a689311c00f31fcf25985a16a6eaef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#aa1a689311c00f31fcf25985a16a6eaef">add_action</a> (string|closure fun, string cmd, int flag)</td></tr>
<tr class="memdesc:aa1a689311c00f31fcf25985a16a6eaef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up a local function fun to be called when user input matches the command cmd.  <a href="#aa1a689311c00f31fcf25985a16a6eaef">More...</a><br/></td></tr>
<tr class="separator:aa1a689311c00f31fcf25985a16a6eaef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e91c4d0a0078128a5d34bd386282244"><td class="memItemLeft" align="right" valign="top">object *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a4e91c4d0a0078128a5d34bd386282244">all_environment</a> (object obj)</td></tr>
<tr class="memdesc:a4e91c4d0a0078128a5d34bd386282244"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an array with all environments object <code>obj</code> is in.  <a href="#a4e91c4d0a0078128a5d34bd386282244">More...</a><br/></td></tr>
<tr class="separator:a4e91c4d0a0078128a5d34bd386282244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab14beb1b749c799c34e81490763bc26f"><td class="memItemLeft" align="right" valign="top">object *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ab14beb1b749c799c34e81490763bc26f">all_inventory</a> (object ob)</td></tr>
<tr class="memdesc:ab14beb1b749c799c34e81490763bc26f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an array of the objects contained in the inventory of <code>ob</code>, or of <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code>, if no arg given.  <a href="#ab14beb1b749c799c34e81490763bc26f">More...</a><br/></td></tr>
<tr class="separator:ab14beb1b749c799c34e81490763bc26f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af929b0398229dda16008ec4bc23a5f99"><td class="memItemLeft" align="right" valign="top">mixed *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#af929b0398229dda16008ec4bc23a5f99">allocate</a> (int  *sizes, mixed init_value)</td></tr>
<tr class="memdesc:af929b0398229dda16008ec4bc23a5f99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate an array of size elements.  <a href="#af929b0398229dda16008ec4bc23a5f99">More...</a><br/></td></tr>
<tr class="separator:af929b0398229dda16008ec4bc23a5f99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a481a071b1544dd0eb27556efb3768cb6"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a481a071b1544dd0eb27556efb3768cb6">and_bits</a> (string str1, string str2)</td></tr>
<tr class="memdesc:a481a071b1544dd0eb27556efb3768cb6"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>str1</code> and <code>str2</code> are both bitstrings.  <a href="#a481a071b1544dd0eb27556efb3768cb6">More...</a><br/></td></tr>
<tr class="separator:a481a071b1544dd0eb27556efb3768cb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf018e933ee843dfe67f2916aeeb51a1"><td class="memItemLeft" align="right" valign="top">mixed&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#aaf018e933ee843dfe67f2916aeeb51a1">apply</a> (closure cl,...)</td></tr>
<tr class="memdesc:aaf018e933ee843dfe67f2916aeeb51a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluates the closure <code>cl</code> with the following arguments.  <a href="#aaf018e933ee843dfe67f2916aeeb51a1">More...</a><br/></td></tr>
<tr class="separator:aaf018e933ee843dfe67f2916aeeb51a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78b9d0583bd0699e2eac30d2a136817a"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a78b9d0583bd0699e2eac30d2a136817a">asin</a> (float)</td></tr>
<tr class="memdesc:a78b9d0583bd0699e2eac30d2a136817a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the arcus sine of its argument.  <a href="#a78b9d0583bd0699e2eac30d2a136817a">More...</a><br/></td></tr>
<tr class="separator:a78b9d0583bd0699e2eac30d2a136817a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b28d79466130f759e16240979e44f0d"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a0b28d79466130f759e16240979e44f0d">atan</a> (int|float)</td></tr>
<tr class="memdesc:a0b28d79466130f759e16240979e44f0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the argument's arcus tangent.  <a href="#a0b28d79466130f759e16240979e44f0d">More...</a><br/></td></tr>
<tr class="separator:a0b28d79466130f759e16240979e44f0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11e580e05e7a7739cc880834099778b1"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a11e580e05e7a7739cc880834099778b1">atan2</a> (int|float y, int|float x)</td></tr>
<tr class="memdesc:a11e580e05e7a7739cc880834099778b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the angle part of the polar coordinates of the point (x, y) in the range (-pi, pi).  <a href="#a11e580e05e7a7739cc880834099778b1">More...</a><br/></td></tr>
<tr class="separator:a11e580e05e7a7739cc880834099778b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5576cf9792eb99b7cb6fb45d3a95e478"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a5576cf9792eb99b7cb6fb45d3a95e478">attach_erq_demon</a> (string obname, int do_close)</td></tr>
<tr class="memdesc:a5576cf9792eb99b7cb6fb45d3a95e478"><td class="mdescLeft">&#160;</td><td class="mdescRight">This privileged efun is to set/change the connection of the driver to the external erq demon, thus in effect changing the demons.  <a href="#a5576cf9792eb99b7cb6fb45d3a95e478">More...</a><br/></td></tr>
<tr class="separator:a5576cf9792eb99b7cb6fb45d3a95e478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b1d6366b19ef84232863b29facb9a42"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a2b1d6366b19ef84232863b29facb9a42">baseof</a> (struct b, struct s)</td></tr>
<tr class="memdesc:a2b1d6366b19ef84232863b29facb9a42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if the type of struct <code>b</code> is a base of struct <code>s</code> (the values of <code>b</code> and <code>s</code> are irrelevant).  <a href="#a2b1d6366b19ef84232863b29facb9a42">More...</a><br/></td></tr>
<tr class="separator:a2b1d6366b19ef84232863b29facb9a42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a969d03a0a9e5b5ff3c6a969a0db7a9c0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a969d03a0a9e5b5ff3c6a969a0db7a9c0">binary_message</a> (int *|string message, int flags)</td></tr>
<tr class="memdesc:a969d03a0a9e5b5ff3c6a969a0db7a9c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush output and send output directly with write <b>without IAC quoting</b>.  <a href="#a969d03a0a9e5b5ff3c6a969a0db7a9c0">More...</a><br/></td></tr>
<tr class="separator:a969d03a0a9e5b5ff3c6a969a0db7a9c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e512d3268244957695f1a9fcf988f33"><td class="memItemLeft" align="right" valign="top">closure&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a8e512d3268244957695f1a9fcf988f33">bind_lambda</a> (closure, object ob)</td></tr>
<tr class="memdesc:a8e512d3268244957695f1a9fcf988f33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Binds an unbound lambda closure to an object and return it.  <a href="#a8e512d3268244957695f1a9fcf988f33">More...</a><br/></td></tr>
<tr class="separator:a8e512d3268244957695f1a9fcf988f33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a63228deda22102b5b98b541b392834"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a3a63228deda22102b5b98b541b392834">blueprint</a> (string|object ob)</td></tr>
<tr class="memdesc:a3a63228deda22102b5b98b541b392834"><td class="mdescLeft">&#160;</td><td class="mdescRight">The efuns returns the blueprint for the given object <code>ob</code>, or for the current object if <code>ob</code> is not specified.  <a href="#a3a63228deda22102b5b98b541b392834">More...</a><br/></td></tr>
<tr class="separator:a3a63228deda22102b5b98b541b392834"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af38c2aa695e4b3e22f55fc1a6530aabe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#af38c2aa695e4b3e22f55fc1a6530aabe">break_point</a> ()</td></tr>
<tr class="memdesc:af38c2aa695e4b3e22f55fc1a6530aabe"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is for system internal use and should never be called by user objects.  <a href="#af38c2aa695e4b3e22f55fc1a6530aabe">More...</a><br/></td></tr>
<tr class="separator:af38c2aa695e4b3e22f55fc1a6530aabe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac16fffdf5b556d500d5249d4842c46e"><td class="memItemLeft" align="right" valign="top">unknown&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#aac16fffdf5b556d500d5249d4842c46e">call_direct</a> (object  *ob, string fun, mixed arg,...)</td></tr>
<tr class="memdesc:aac16fffdf5b556d500d5249d4842c46e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call a member function <code>fun</code> in another object <code>ob</code> with argument(s) <code>arg</code>...  <a href="#aac16fffdf5b556d500d5249d4842c46e">More...</a><br/></td></tr>
<tr class="separator:aac16fffdf5b556d500d5249d4842c46e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab1c8fc1fc94fc634d5b77e74aa8a7c8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#aab1c8fc1fc94fc634d5b77e74aa8a7c8">call_direct_resolved</a> (mixed result, object ob, string func,...)</td></tr>
<tr class="memdesc:aab1c8fc1fc94fc634d5b77e74aa8a7c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Similar to <a class="el" href="classefun.html#aac16fffdf5b556d500d5249d4842c46e" title="Call a member function fun in another object ob with argument(s) arg... ">efun::call_direct()</a>.  <a href="#aab1c8fc1fc94fc634d5b77e74aa8a7c8">More...</a><br/></td></tr>
<tr class="separator:aab1c8fc1fc94fc634d5b77e74aa8a7c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14431f7de9bcc796d309ac6f3193f5d4"><td class="memItemLeft" align="right" valign="top">unknown&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">call_other</a> (object  *ob, string fun, mixed arg,...)</td></tr>
<tr class="separator:a14431f7de9bcc796d309ac6f3193f5d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80949ae9919cf34ceed353d2f3a005b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a80949ae9919cf34ceed353d2f3a005b8">call_out</a> (closure cl, int delay, mixed arg,...)</td></tr>
<tr class="memdesc:a80949ae9919cf34ceed353d2f3a005b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up a call to function fun in the current object, or to closure cl.  <a href="#a80949ae9919cf34ceed353d2f3a005b8">More...</a><br/></td></tr>
<tr class="separator:a80949ae9919cf34ceed353d2f3a005b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab38f224f65efce3dad779451c371e87b"><td class="memItemLeft" align="right" valign="top">mixed *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ab38f224f65efce3dad779451c371e87b">call_out_info</a> (void)</td></tr>
<tr class="memdesc:ab38f224f65efce3dad779451c371e87b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get information about all pending call outs.  <a href="#ab38f224f65efce3dad779451c371e87b">More...</a><br/></td></tr>
<tr class="separator:ab38f224f65efce3dad779451c371e87b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00b4bc507accbe808ae0c1ae25b7aed6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a00b4bc507accbe808ae0c1ae25b7aed6">call_resolved</a> (mixed result, object ob, string func,...)</td></tr>
<tr class="memdesc:a00b4bc507accbe808ae0c1ae25b7aed6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Similar to <a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a>.  <a href="#a00b4bc507accbe808ae0c1ae25b7aed6">More...</a><br/></td></tr>
<tr class="separator:a00b4bc507accbe808ae0c1ae25b7aed6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ceb41476c36b9f172725cde9515f74a"><td class="memItemLeft" align="right" valign="top">object *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a7ceb41476c36b9f172725cde9515f74a">caller_stack</a> (int add_interactive)</td></tr>
<tr class="memdesc:a7ceb41476c36b9f172725cde9515f74a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an array of the previous objects who caused the <a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a> to <a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">efun::this_object()</a>.  <a href="#a7ceb41476c36b9f172725cde9515f74a">More...</a><br/></td></tr>
<tr class="separator:a7ceb41476c36b9f172725cde9515f74a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d3ec4c35f8417da08202e813f8c40be"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a6d3ec4c35f8417da08202e813f8c40be">caller_stack_depth</a> (void)</td></tr>
<tr class="memdesc:a6d3ec4c35f8417da08202e813f8c40be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of previous objects on the stack.  <a href="#a6d3ec4c35f8417da08202e813f8c40be">More...</a><br/></td></tr>
<tr class="separator:a6d3ec4c35f8417da08202e813f8c40be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0587036475bd3f7ba65855ac3aaa114"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ad0587036475bd3f7ba65855ac3aaa114">capitalize</a> (string str)</td></tr>
<tr class="memdesc:ad0587036475bd3f7ba65855ac3aaa114"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the first character in str to upper case, and return the new string.  <a href="#ad0587036475bd3f7ba65855ac3aaa114">More...</a><br/></td></tr>
<tr class="separator:ad0587036475bd3f7ba65855ac3aaa114"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5c7019db4983c1c09bbf9ebe1b93869"><td class="memItemLeft" align="right" valign="top">mixed&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ae5c7019db4983c1c09bbf9ebe1b93869">catch</a> (expr, expr,...; modifiers)</td></tr>
<tr class="memdesc:ae5c7019db4983c1c09bbf9ebe1b93869"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluate the expressions.  <a href="#ae5c7019db4983c1c09bbf9ebe1b93869">More...</a><br/></td></tr>
<tr class="separator:ae5c7019db4983c1c09bbf9ebe1b93869"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5c93b9b06a11a60e5920f4c099937e0"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#af5c93b9b06a11a60e5920f4c099937e0">ceil</a> (int|float number)</td></tr>
<tr class="memdesc:af5c93b9b06a11a60e5920f4c099937e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Round the <code>number</code> upwards the nearest whole number, returning that value.  <a href="#af5c93b9b06a11a60e5920f4c099937e0">More...</a><br/></td></tr>
<tr class="separator:af5c93b9b06a11a60e5920f4c099937e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9820c9a0cc652f0f9054e8dd9d7e56b0"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a9820c9a0cc652f0f9054e8dd9d7e56b0">clear_bit</a> (string str, int n)</td></tr>
<tr class="memdesc:a9820c9a0cc652f0f9054e8dd9d7e56b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the new string where bit n is cleared in string str.  <a href="#a9820c9a0cc652f0f9054e8dd9d7e56b0">More...</a><br/></td></tr>
<tr class="separator:a9820c9a0cc652f0f9054e8dd9d7e56b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac48b7a182d90218465e671cd6f2dcd68"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ac48b7a182d90218465e671cd6f2dcd68">clone_object</a> (object template)</td></tr>
<tr class="memdesc:ac48b7a182d90218465e671cd6f2dcd68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clone a new object from definition <code>name</code>, or alternatively from the object <code>template</code>.  <a href="#ac48b7a182d90218465e671cd6f2dcd68">More...</a><br/></td></tr>
<tr class="separator:ac48b7a182d90218465e671cd6f2dcd68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62a23bfd4fb3823c9d808b3bff345980"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a62a23bfd4fb3823c9d808b3bff345980">clonep</a> (mixed  arg)</td></tr>
<tr class="memdesc:a62a23bfd4fb3823c9d808b3bff345980"><td class="mdescLeft">&#160;</td><td class="mdescRight">The efun returns 1 if <code>obj</code> is a clone, and 0 if it is not.  <a href="#a62a23bfd4fb3823c9d808b3bff345980">More...</a><br/></td></tr>
<tr class="separator:a62a23bfd4fb3823c9d808b3bff345980"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa73a51eacc31271eff38a1b46ff3b6c2"><td class="memItemLeft" align="right" valign="top">object *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#aa73a51eacc31271eff38a1b46ff3b6c2">clones</a> (string|object obj [, int what])</td></tr>
<tr class="memdesc:aa73a51eacc31271eff38a1b46ff3b6c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The efuns returns an array with all clones of a certain blueprint.  <a href="#aa73a51eacc31271eff38a1b46ff3b6c2">More...</a><br/></td></tr>
<tr class="separator:aa73a51eacc31271eff38a1b46ff3b6c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af96696b3733777271624be5575c72726"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#af96696b3733777271624be5575c72726">closurep</a> (mixed)</td></tr>
<tr class="memdesc:af96696b3733777271624be5575c72726"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns 1 if the argument is a closure.  <a href="#af96696b3733777271624be5575c72726">More...</a><br/></td></tr>
<tr class="separator:af96696b3733777271624be5575c72726"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0ce5d3f989d2054ce6b26d5fb22ab6d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ae0ce5d3f989d2054ce6b26d5fb22ab6d">command</a> (string str, object ob)</td></tr>
<tr class="memdesc:ae0ce5d3f989d2054ce6b26d5fb22ab6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute str as a command given directly by the user.  <a href="#ae0ce5d3f989d2054ce6b26d5fb22ab6d">More...</a><br/></td></tr>
<tr class="separator:ae0ce5d3f989d2054ce6b26d5fb22ab6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d1ff18e70214ed8123b3038b933f7c1"><td class="memItemLeft" align="right" valign="top">mixed *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a5d1ff18e70214ed8123b3038b933f7c1">command_stack</a> (void)</td></tr>
<tr class="memdesc:a5d1ff18e70214ed8123b3038b933f7c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return an array describing the current command stack.  <a href="#a5d1ff18e70214ed8123b3038b933f7c1">More...</a><br/></td></tr>
<tr class="separator:a5d1ff18e70214ed8123b3038b933f7c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13d2426a21824e043059b208346833ed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a13d2426a21824e043059b208346833ed">command_stack_depth</a> (void)</td></tr>
<tr class="memdesc:a13d2426a21824e043059b208346833ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of nested commands, ie.  <a href="#a13d2426a21824e043059b208346833ed">More...</a><br/></td></tr>
<tr class="separator:a13d2426a21824e043059b208346833ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a754455d5996efd0b45ddebf2028cea09"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a754455d5996efd0b45ddebf2028cea09">configure_driver</a> (int what, mixed data)</td></tr>
<tr class="memdesc:a754455d5996efd0b45ddebf2028cea09"><td class="mdescLeft">&#160;</td><td class="mdescRight">This efun configures runtime adjustable bahviour of the driver.  <a href="#a754455d5996efd0b45ddebf2028cea09">More...</a><br/></td></tr>
<tr class="separator:a754455d5996efd0b45ddebf2028cea09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68840ff50b3f2328be081a1f98fc32fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a68840ff50b3f2328be081a1f98fc32fe">configure_interactive</a> (object ob, int what, mixed data)</td></tr>
<tr class="memdesc:a68840ff50b3f2328be081a1f98fc32fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the option <code>what</code> to the value <code>data</code> on the interactive <code>ob</code> or the default for all interactives if <code>ob</code> is 0.  <a href="#a68840ff50b3f2328be081a1f98fc32fe">More...</a><br/></td></tr>
<tr class="separator:a68840ff50b3f2328be081a1f98fc32fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acffbc5493c554e688efabc660f2cac56"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#acffbc5493c554e688efabc660f2cac56">convert_charset</a> (string str, string from_cs, string to_cs)</td></tr>
<tr class="memdesc:acffbc5493c554e688efabc660f2cac56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the string <code>str</code> from charset <code>from_cs</code> to charset <code>to_cs</code> and return the converted string.  <a href="#acffbc5493c554e688efabc660f2cac56">More...</a><br/></td></tr>
<tr class="separator:acffbc5493c554e688efabc660f2cac56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d1d4e6c303dc08e0b9952e38361b028"><td class="memItemLeft" align="right" valign="top">mixed&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a1d1d4e6c303dc08e0b9952e38361b028">copy</a> (mixed value)</td></tr>
<tr class="memdesc:a1d1d4e6c303dc08e0b9952e38361b028"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a shallow copy of <code>value</code> and return it.  <a href="#a1d1d4e6c303dc08e0b9952e38361b028">More...</a><br/></td></tr>
<tr class="separator:a1d1d4e6c303dc08e0b9952e38361b028"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcb4b753b24046893741d3c3e0c33e62"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#afcb4b753b24046893741d3c3e0c33e62">copy_bits</a> (string src, string dest[, int srcstart [, int deststart [, int copylen ]]])</td></tr>
<tr class="memdesc:afcb4b753b24046893741d3c3e0c33e62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy the bitrange <code>[&lt;em&gt;srcstart&lt;/em&gt;..&lt;em&gt;srcstart&lt;/em&gt;+&lt;em&gt;copylen&lt;/em&gt;]</code> from bitstring <code>src</code> and copy it into the bitstring <code>dest</code> starting at <code>deststart</code>, overwriting the original bits at those positions.  <a href="#afcb4b753b24046893741d3c3e0c33e62">More...</a><br/></td></tr>
<tr class="separator:afcb4b753b24046893741d3c3e0c33e62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32df4398750cc0fbab7b4e55f30a536b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a32df4398750cc0fbab7b4e55f30a536b">copy_file</a> (string from, string to)</td></tr>
<tr class="memdesc:a32df4398750cc0fbab7b4e55f30a536b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the file <code>from</code> to the new name <code>to</code>.  <a href="#a32df4398750cc0fbab7b4e55f30a536b">More...</a><br/></td></tr>
<tr class="separator:a32df4398750cc0fbab7b4e55f30a536b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6e6d9edd947ede82b886aa6fb924761"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#af6e6d9edd947ede82b886aa6fb924761">cos</a> (int|float)</td></tr>
<tr class="memdesc:af6e6d9edd947ede82b886aa6fb924761"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the cosinus of the argument.  <a href="#af6e6d9edd947ede82b886aa6fb924761">More...</a><br/></td></tr>
<tr class="separator:af6e6d9edd947ede82b886aa6fb924761"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4219dca74e569f12726df9bd9e11669d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a4219dca74e569f12726df9bd9e11669d">count_bits</a> (string str)</td></tr>
<tr class="memdesc:a4219dca74e569f12726df9bd9e11669d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count the number of set bits in bitstring <code>str</code> and return the number as result.  <a href="#a4219dca74e569f12726df9bd9e11669d">More...</a><br/></td></tr>
<tr class="separator:a4219dca74e569f12726df9bd9e11669d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55343a0ba8533a02cda89031a6fa91b7"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a55343a0ba8533a02cda89031a6fa91b7">creator</a> (object ob)</td></tr>
<tr class="memdesc:a55343a0ba8533a02cda89031a6fa91b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This efun is for backward compatibility only.  <a href="#a55343a0ba8533a02cda89031a6fa91b7">More...</a><br/></td></tr>
<tr class="separator:a55343a0ba8533a02cda89031a6fa91b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a293b5dd324033d04f2b6da0f6ba4654b"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a293b5dd324033d04f2b6da0f6ba4654b">crypt</a> (string str, string seed)</td></tr>
<tr class="memdesc:a293b5dd324033d04f2b6da0f6ba4654b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Crypt the string <code>str</code> the first two characters from the string <code>seed</code> as a seed.  <a href="#a293b5dd324033d04f2b6da0f6ba4654b">More...</a><br/></td></tr>
<tr class="separator:a293b5dd324033d04f2b6da0f6ba4654b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0063aa195f706f56b790a045c06afcb1"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a0063aa195f706f56b790a045c06afcb1">ctime</a> (int  *uclock)</td></tr>
<tr class="memdesc:a0063aa195f706f56b790a045c06afcb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0.00 and convert it to a nice date and time string.  <a href="#a0063aa195f706f56b790a045c06afcb1">More...</a><br/></td></tr>
<tr class="separator:a0063aa195f706f56b790a045c06afcb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a189f629b6f5461a8a6637c4fae69e7e4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a189f629b6f5461a8a6637c4fae69e7e4">db_affected_rows</a> (int handle)</td></tr>
<tr class="memdesc:a189f629b6f5461a8a6637c4fae69e7e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of affected rows of the last SQL-statement that has been sent to the SQL-server via handle <code>handle</code>.  <a href="#a189f629b6f5461a8a6637c4fae69e7e4">More...</a><br/></td></tr>
<tr class="separator:a189f629b6f5461a8a6637c4fae69e7e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5286f8999424c84309cbed60dde101f4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a5286f8999424c84309cbed60dde101f4">db_close</a> (int handle)</td></tr>
<tr class="memdesc:a5286f8999424c84309cbed60dde101f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the server-connection with the handle <code>handle</code> Return the handle-number on success.  <a href="#a5286f8999424c84309cbed60dde101f4">More...</a><br/></td></tr>
<tr class="separator:a5286f8999424c84309cbed60dde101f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e7193b4798e703cbd1b39050711b6d3"><td class="memItemLeft" align="right" valign="top">string *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a5e7193b4798e703cbd1b39050711b6d3">db_coldefs</a> (int handle)</td></tr>
<tr class="memdesc:a5e7193b4798e703cbd1b39050711b6d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return an array with the column names of the current table.  <a href="#a5e7193b4798e703cbd1b39050711b6d3">More...</a><br/></td></tr>
<tr class="separator:a5e7193b4798e703cbd1b39050711b6d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a812dfa6948546b8539038f6924944435"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a812dfa6948546b8539038f6924944435">db_connect</a> (string database, string user, string password)</td></tr>
<tr class="memdesc:a812dfa6948546b8539038f6924944435"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to the database <code>database</code> on the local mySQL-server.  <a href="#a812dfa6948546b8539038f6924944435">More...</a><br/></td></tr>
<tr class="separator:a812dfa6948546b8539038f6924944435"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cbfc312aa2e18ee6693c8a2b38c5aaa"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a5cbfc312aa2e18ee6693c8a2b38c5aaa">db_conv_string</a> (string str)</td></tr>
<tr class="memdesc:a5cbfc312aa2e18ee6693c8a2b38c5aaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the string <code>str</code> into a string that is correctly interpretated for usage as a string in <a class="el" href="classefun.html#ae4a665bd9b3fd1bbfd527d3b1e827763" title="Execute the SQL-statement statement for the connection handle to the SQL-server. ">efun::db_exec()</a>, e.g.  <a href="#a5cbfc312aa2e18ee6693c8a2b38c5aaa">More...</a><br/></td></tr>
<tr class="separator:a5cbfc312aa2e18ee6693c8a2b38c5aaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd85d4e031c2a63ae341b96ba9a71053"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#acd85d4e031c2a63ae341b96ba9a71053">db_error</a> (int handle)</td></tr>
<tr class="memdesc:acd85d4e031c2a63ae341b96ba9a71053"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a string describing the error which occured during the last database transaction.  <a href="#acd85d4e031c2a63ae341b96ba9a71053">More...</a><br/></td></tr>
<tr class="separator:acd85d4e031c2a63ae341b96ba9a71053"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4a665bd9b3fd1bbfd527d3b1e827763"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ae4a665bd9b3fd1bbfd527d3b1e827763">db_exec</a> (int handle, string statement)</td></tr>
<tr class="memdesc:ae4a665bd9b3fd1bbfd527d3b1e827763"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute the SQL-statement <code>statement</code> for the connection <code>handle</code> to the SQL-server.  <a href="#ae4a665bd9b3fd1bbfd527d3b1e827763">More...</a><br/></td></tr>
<tr class="separator:ae4a665bd9b3fd1bbfd527d3b1e827763"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99208794ce39f11037cd4ca56c30ade5"><td class="memItemLeft" align="right" valign="top">mixed&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a99208794ce39f11037cd4ca56c30ade5">db_fetch</a> (int handle)</td></tr>
<tr class="memdesc:a99208794ce39f11037cd4ca56c30ade5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve <em>ONE</em> line of result of the latest SQL-action to the server based on the handle <code>handle</code>.  <a href="#a99208794ce39f11037cd4ca56c30ade5">More...</a><br/></td></tr>
<tr class="separator:a99208794ce39f11037cd4ca56c30ade5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fdefa3fca7e507606cf45baf38b0cbf"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a1fdefa3fca7e507606cf45baf38b0cbf">db_handles</a> ()</td></tr>
<tr class="memdesc:a1fdefa3fca7e507606cf45baf38b0cbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an array with all open handles to the SQL-server.  <a href="#a1fdefa3fca7e507606cf45baf38b0cbf">More...</a><br/></td></tr>
<tr class="separator:a1fdefa3fca7e507606cf45baf38b0cbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dd2821ef141bd777f88608514e23f37"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a6dd2821ef141bd777f88608514e23f37">db_insert_id</a> (int handle)</td></tr>
<tr class="memdesc:a6dd2821ef141bd777f88608514e23f37"><td class="mdescLeft">&#160;</td><td class="mdescRight">After inserting a line into a table with an <code>AUTO_INCREMENT</code> field, this efun can be used to return the (new) value of the <code>AUTO_INCREMENT</code> field.  <a href="#a6dd2821ef141bd777f88608514e23f37">More...</a><br/></td></tr>
<tr class="separator:a6dd2821ef141bd777f88608514e23f37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a7cc530c7ebabb824ee97c5b0a4f18b"><td class="memItemLeft" align="right" valign="top">mixed&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a7a7cc530c7ebabb824ee97c5b0a4f18b">debug_info</a> (int flag, mixed arg2, mixed arg3)</td></tr>
<tr class="memdesc:a7a7cc530c7ebabb824ee97c5b0a4f18b"><td class="mdescLeft">&#160;</td><td class="mdescRight">OBSOLETED_IN_MASTER_IGNORE_FOR_NOW Gather some driver internal debug information according to the setting of <code>flag:</code>  <a href="#a7a7cc530c7ebabb824ee97c5b0a4f18b">More...</a><br/></td></tr>
<tr class="separator:a7a7cc530c7ebabb824ee97c5b0a4f18b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a969ddceb77d814a037ea17410af50e3e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a969ddceb77d814a037ea17410af50e3e">debug_message</a> (string text, int flags)</td></tr>
<tr class="memdesc:a969ddceb77d814a037ea17410af50e3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the given text to stdout, stderr, the <code>&lt;host&gt;.debug.log</code> file, or any combination of these.  <a href="#a969ddceb77d814a037ea17410af50e3e">More...</a><br/></td></tr>
<tr class="separator:a969ddceb77d814a037ea17410af50e3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa7f17ec1022dac35a818c575fef969a"><td class="memItemLeft" align="right" valign="top">mixed&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#aaa7f17ec1022dac35a818c575fef969a">deep_copy</a> (mixed value)</td></tr>
<tr class="memdesc:aaa7f17ec1022dac35a818c575fef969a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a deep copy of <code>value</code> and return it.  <a href="#aaa7f17ec1022dac35a818c575fef969a">More...</a><br/></td></tr>
<tr class="separator:aaa7f17ec1022dac35a818c575fef969a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28946d9af16fa288cf2f243de7f7aa12"><td class="memItemLeft" align="right" valign="top">object *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a28946d9af16fa288cf2f243de7f7aa12">deep_inventory</a> (object ob, int depth)</td></tr>
<tr class="memdesc:a28946d9af16fa288cf2f243de7f7aa12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an array of the objects contained in the inventory of <code>ob</code> (or <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code> if no arg given) and in the inventories of these objects, climbing down recursively.  <a href="#a28946d9af16fa288cf2f243de7f7aa12">More...</a><br/></td></tr>
<tr class="separator:a28946d9af16fa288cf2f243de7f7aa12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89a46c286d5c8b1c09148c9c6e269c0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a89a46c286d5c8b1c09148c9c6e269c0b">destruct</a> (object ob)</td></tr>
<tr class="memdesc:a89a46c286d5c8b1c09148c9c6e269c0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Completely destroy and remove object ob (if not already done so).  <a href="#a89a46c286d5c8b1c09148c9c6e269c0b">More...</a><br/></td></tr>
<tr class="separator:a89a46c286d5c8b1c09148c9c6e269c0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ce5d13400348ab0e9800abba278b6e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a5ce5d13400348ab0e9800abba278b6e3">disable_commands</a> ()</td></tr>
<tr class="memdesc:a5ce5d13400348ab0e9800abba278b6e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable this object to use commands normally accessible to users.  <a href="#a5ce5d13400348ab0e9800abba278b6e3">More...</a><br/></td></tr>
<tr class="separator:a5ce5d13400348ab0e9800abba278b6e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ee9e4fa5066437c75195638c362ee6d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a9ee9e4fa5066437c75195638c362ee6d">ed</a> (string file, string func)</td></tr>
<tr class="memdesc:a9ee9e4fa5066437c75195638c362ee6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calling without arguments will start the editor ed with the name of the error file, that was returned by <code>master-&gt;valid_read(0, geteuid(this_player()), "ed_start", <a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af" title="Return the current command giver. ">this_player()</a>)</code>, usually something like <code>~/.err</code>.  <a href="#a9ee9e4fa5066437c75195638c362ee6d">More...</a><br/></td></tr>
<tr class="separator:a9ee9e4fa5066437c75195638c362ee6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57a7c813f5dd1e9315900171a868d4dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a57a7c813f5dd1e9315900171a868d4dd">enable_commands</a> ()</td></tr>
<tr class="memdesc:a57a7c813f5dd1e9315900171a868d4dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable this object to use commands normally accessible to users.  <a href="#a57a7c813f5dd1e9315900171a868d4dd">More...</a><br/></td></tr>
<tr class="separator:a57a7c813f5dd1e9315900171a868d4dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0edd06bcaa96598da8d8041b8783a2d8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a0edd06bcaa96598da8d8041b8783a2d8">enable_telnet</a> (int num, object obj)</td></tr>
<tr class="memdesc:a0edd06bcaa96598da8d8041b8783a2d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable or disable the telnet machine for the interactive object <code>obj</code>.  <a href="#a0edd06bcaa96598da8d8041b8783a2d8">More...</a><br/></td></tr>
<tr class="separator:a0edd06bcaa96598da8d8041b8783a2d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7f14bd8da9ff16ac3c60d868af1aedb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ab7f14bd8da9ff16ac3c60d868af1aedb">end_mccp_compress</a> ()</td></tr>
<tr class="memdesc:ab7f14bd8da9ff16ac3c60d868af1aedb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This efun must be called inside an interactive player and stops the compression of the driver -&gt; client traffic.  <a href="#ab7f14bd8da9ff16ac3c60d868af1aedb">More...</a><br/></td></tr>
<tr class="separator:ab7f14bd8da9ff16ac3c60d868af1aedb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a657cd0dbc848f16af8079c5d43386952"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a657cd0dbc848f16af8079c5d43386952">environment</a> (string obj)</td></tr>
<tr class="memdesc:a657cd0dbc848f16af8079c5d43386952"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the surrounding object of obj, which may be given by name.  <a href="#a657cd0dbc848f16af8079c5d43386952">More...</a><br/></td></tr>
<tr class="separator:a657cd0dbc848f16af8079c5d43386952"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14bd39c3363f23bbf80260bcd1e30a38"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a14bd39c3363f23bbf80260bcd1e30a38">exec</a> (object new, object old)</td></tr>
<tr class="memdesc:a14bd39c3363f23bbf80260bcd1e30a38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switches the connection from the interactive object old to the object new.  <a href="#a14bd39c3363f23bbf80260bcd1e30a38">More...</a><br/></td></tr>
<tr class="separator:a14bd39c3363f23bbf80260bcd1e30a38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb6f567dff1d19321033c6b4e5b92303"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#acb6f567dff1d19321033c6b4e5b92303">execute_command</a> (string command, object origin, object player)</td></tr>
<tr class="memdesc:acb6f567dff1d19321033c6b4e5b92303"><td class="mdescLeft">&#160;</td><td class="mdescRight">Low-level access to the command parser: take the <code>command</code>, parse it into verb and argument and call the appropriate action added to <code>origin</code> (read: <code>origin</code> is the object 'issuing' the command).  <a href="#acb6f567dff1d19321033c6b4e5b92303">More...</a><br/></td></tr>
<tr class="separator:acb6f567dff1d19321033c6b4e5b92303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50fe46ccac04a290922b0752c2dfa4a5"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a50fe46ccac04a290922b0752c2dfa4a5">exp</a> (int|float)</td></tr>
<tr class="memdesc:a50fe46ccac04a290922b0752c2dfa4a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The exponential function.  <a href="#a50fe46ccac04a290922b0752c2dfa4a5">More...</a><br/></td></tr>
<tr class="separator:a50fe46ccac04a290922b0752c2dfa4a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b1e2c1e9a9dbd9f0206b4422f1277cc"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a4b1e2c1e9a9dbd9f0206b4422f1277cc">expand_define</a> (string name, string arg,...)</td></tr>
<tr class="memdesc:a4b1e2c1e9a9dbd9f0206b4422f1277cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expands the macro <code>name</code> with the argument(s) <code>arg</code> ...  <a href="#a4b1e2c1e9a9dbd9f0206b4422f1277cc">More...</a><br/></td></tr>
<tr class="separator:a4b1e2c1e9a9dbd9f0206b4422f1277cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b90a42c555bc61599b700a31b530082"><td class="memItemLeft" align="right" valign="top">string *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a5b90a42c555bc61599b700a31b530082">explode</a> (string str, string del)</td></tr>
<tr class="memdesc:a5b90a42c555bc61599b700a31b530082"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return an array of strings, created when the string str is split into substrings as divided by del.  <a href="#a5b90a42c555bc61599b700a31b530082">More...</a><br/></td></tr>
<tr class="separator:a5b90a42c555bc61599b700a31b530082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade44122dc7cb16d015937a67cc645939"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ade44122dc7cb16d015937a67cc645939">export_uid</a> (object ob)</td></tr>
<tr class="memdesc:ade44122dc7cb16d015937a67cc645939"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the uid of object <code>ob</code> to the current object's effective uid.  <a href="#ade44122dc7cb16d015937a67cc645939">More...</a><br/></td></tr>
<tr class="separator:ade44122dc7cb16d015937a67cc645939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbad80797e70e6d2fa6ba96cb6e226fb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#adbad80797e70e6d2fa6ba96cb6e226fb">extern_call</a> ()</td></tr>
<tr class="memdesc:adbad80797e70e6d2fa6ba96cb6e226fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns zero, if the function that is currently being executed was called by a local call, non-zero for <a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a>, driver applies, closure calls, etc.  <a href="#adbad80797e70e6d2fa6ba96cb6e226fb">More...</a><br/></td></tr>
<tr class="separator:adbad80797e70e6d2fa6ba96cb6e226fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c87cd9fec8ea173263102f5340e8eeb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a0c87cd9fec8ea173263102f5340e8eeb">file_size</a> (string file)</td></tr>
<tr class="memdesc:a0c87cd9fec8ea173263102f5340e8eeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return:  <a href="#a0c87cd9fec8ea173263102f5340e8eeb">More...</a><br/></td></tr>
<tr class="separator:a0c87cd9fec8ea173263102f5340e8eeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5e7282ed029a438608ee96f18052e33"><td class="memItemLeft" align="right" valign="top">mapping&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ac5e7282ed029a438608ee96f18052e33">filter</a> (mapping arg, closure cl, mixed extra...)</td></tr>
<tr class="memdesc:ac5e7282ed029a438608ee96f18052e33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call the function <code>&lt;ob&gt;-&gt;&lt;func&gt;()</code> resp.  <a href="#ac5e7282ed029a438608ee96f18052e33">More...</a><br/></td></tr>
<tr class="separator:ac5e7282ed029a438608ee96f18052e33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a499fe72696a3dc34028138aa8f465ac8"><td class="memItemLeft" align="right" valign="top">mapping&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a499fe72696a3dc34028138aa8f465ac8">filter_indices</a> (mapping, closure cl,...)</td></tr>
<tr class="memdesc:a499fe72696a3dc34028138aa8f465ac8"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>ob-&gt;func()</code> is called resp.  <a href="#a499fe72696a3dc34028138aa8f465ac8">More...</a><br/></td></tr>
<tr class="separator:a499fe72696a3dc34028138aa8f465ac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa561f6cfab3f611e89688d5aff8a5851"><td class="memItemLeft" align="right" valign="top">object *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#aa561f6cfab3f611e89688d5aff8a5851">filter_objects</a> (object  *arr, string fun, mixed extra,...)</td></tr>
<tr class="memdesc:aa561f6cfab3f611e89688d5aff8a5851"><td class="mdescLeft">&#160;</td><td class="mdescRight">Similar to <code>filter_array()</code> but calls <code>arr[n]-&gt;fun(extra, ...)</code>.  <a href="#aa561f6cfab3f611e89688d5aff8a5851">More...</a><br/></td></tr>
<tr class="separator:aa561f6cfab3f611e89688d5aff8a5851"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92bee49ec4c05a18a4b152ba54656377"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a92bee49ec4c05a18a4b152ba54656377">find_call_out</a> (closure func)</td></tr>
<tr class="memdesc:a92bee49ec4c05a18a4b152ba54656377"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the first call-out due to be executed for function <code>func</code> in the current object resp.  <a href="#a92bee49ec4c05a18a4b152ba54656377">More...</a><br/></td></tr>
<tr class="separator:a92bee49ec4c05a18a4b152ba54656377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93b1b26ca8321d256d3613066fab2966"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a93b1b26ca8321d256d3613066fab2966">find_input_to</a> (object player, object ob, string fun)</td></tr>
<tr class="memdesc:a93b1b26ca8321d256d3613066fab2966"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the input_to most recently added to the interactive <code>player</code> object matching the <code>fun</code> argument:  <a href="#a93b1b26ca8321d256d3613066fab2966">More...</a><br/></td></tr>
<tr class="separator:a93b1b26ca8321d256d3613066fab2966"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12339d2d254849a1342fd79bdb89f638"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a12339d2d254849a1342fd79bdb89f638">find_object</a> (string str)</td></tr>
<tr class="memdesc:a12339d2d254849a1342fd79bdb89f638"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find an object with the object_name str.  <a href="#a12339d2d254849a1342fd79bdb89f638">More...</a><br/></td></tr>
<tr class="separator:a12339d2d254849a1342fd79bdb89f638"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa33aa7a0208e0b334af0d05bc9386d3d"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#aa33aa7a0208e0b334af0d05bc9386d3d">first_inventory</a> (object ob)</td></tr>
<tr class="memdesc:aa33aa7a0208e0b334af0d05bc9386d3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the first object in the inventory of <code>ob</code>, where <code>ob</code> is either an object or the file name of an object.  <a href="#aa33aa7a0208e0b334af0d05bc9386d3d">More...</a><br/></td></tr>
<tr class="separator:aa33aa7a0208e0b334af0d05bc9386d3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1493e7a68d0e7eb19f5f60d3c5761e9c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a1493e7a68d0e7eb19f5f60d3c5761e9c">floatp</a> (mixed)</td></tr>
<tr class="memdesc:a1493e7a68d0e7eb19f5f60d3c5761e9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns 1 if the arg is a floating point number, 0 else.  <a href="#a1493e7a68d0e7eb19f5f60d3c5761e9c">More...</a><br/></td></tr>
<tr class="separator:a1493e7a68d0e7eb19f5f60d3c5761e9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a15332be362222ad502e21d511bd239"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a3a15332be362222ad502e21d511bd239">floor</a> (float number)</td></tr>
<tr class="memdesc:a3a15332be362222ad502e21d511bd239"><td class="mdescLeft">&#160;</td><td class="mdescRight">Round the <code>number</code> downwards the nearest whole number, returning that value.  <a href="#a3a15332be362222ad502e21d511bd239">More...</a><br/></td></tr>
<tr class="separator:a3a15332be362222ad502e21d511bd239"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a665f686219e1bffdb5e89a5158167473"><td class="memItemLeft" align="right" valign="top">mixed&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a665f686219e1bffdb5e89a5158167473">funcall</a> (closure cl, mixed arg ...)</td></tr>
<tr class="memdesc:a665f686219e1bffdb5e89a5158167473"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluates the closure.  <a href="#a665f686219e1bffdb5e89a5158167473">More...</a><br/></td></tr>
<tr class="separator:a665f686219e1bffdb5e89a5158167473"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d01aa2cfe41a64bb709d8ef3db87b58"><td class="memItemLeft" align="right" valign="top">mixed&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a5d01aa2cfe41a64bb709d8ef3db87b58">function_exists</a> (string str, object ob, int flags)</td></tr>
<tr class="memdesc:a5d01aa2cfe41a64bb709d8ef3db87b58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look up a function <code>str</code> in the current object, respectively in the object <code>ob</code>.  <a href="#a5d01aa2cfe41a64bb709d8ef3db87b58">More...</a><br/></td></tr>
<tr class="separator:a5d01aa2cfe41a64bb709d8ef3db87b58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6f59c9fb98b3b61c5cc313efa4f831d"><td class="memItemLeft" align="right" valign="top">mixed *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ae6f59c9fb98b3b61c5cc313efa4f831d">functionlist</a> (object ob, int flags)</td></tr>
<tr class="memdesc:ae6f59c9fb98b3b61c5cc313efa4f831d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an array with information about functions defined in <code>ob</code>.  <a href="#ae6f59c9fb98b3b61c5cc313efa4f831d">More...</a><br/></td></tr>
<tr class="separator:ae6f59c9fb98b3b61c5cc313efa4f831d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67ed52ff313f35d713201c8427a64d05"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a67ed52ff313f35d713201c8427a64d05">garbage_collection</a> (string filename, int flag)</td></tr>
<tr class="memdesc:a67ed52ff313f35d713201c8427a64d05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell the parser to initiate a garbage collection after the current execution ended.  <a href="#a67ed52ff313f35d713201c8427a64d05">More...</a><br/></td></tr>
<tr class="separator:a67ed52ff313f35d713201c8427a64d05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f7dfc134c4c4ebdcf02dd7d87e86945"><td class="memItemLeft" align="right" valign="top">mixed&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a2f7dfc134c4c4ebdcf02dd7d87e86945">get_combine_charset</a> (int mode)</td></tr>
<tr class="memdesc:a2f7dfc134c4c4ebdcf02dd7d87e86945"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the combine charset of the current interactive in the form requested by <code>mode:</code>  <a href="#a2f7dfc134c4c4ebdcf02dd7d87e86945">More...</a><br/></td></tr>
<tr class="separator:a2f7dfc134c4c4ebdcf02dd7d87e86945"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd261176f0cf637f88ffed5450bed7e8"><td class="memItemLeft" align="right" valign="top">mixed&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#afd261176f0cf637f88ffed5450bed7e8">get_connection_charset</a> (int mode)</td></tr>
<tr class="memdesc:afd261176f0cf637f88ffed5450bed7e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the connection charset of the current interactive in the form requested by <code>mode:</code>  <a href="#afd261176f0cf637f88ffed5450bed7e8">More...</a><br/></td></tr>
<tr class="separator:afd261176f0cf637f88ffed5450bed7e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a457ca99271d2dd61e3378e952e34291a"><td class="memItemLeft" align="right" valign="top">mixed *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a457ca99271d2dd61e3378e952e34291a">get_dir</a> (string str, int mask)</td></tr>
<tr class="memdesc:a457ca99271d2dd61e3378e952e34291a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function takes a path as argument and returns an array of file names and attributes in that directory.  <a href="#a457ca99271d2dd61e3378e952e34291a">More...</a><br/></td></tr>
<tr class="separator:a457ca99271d2dd61e3378e952e34291a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a4bda269528a61482e43104716b43e2"><td class="memItemLeft" align="right" valign="top">mixed *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a1a4bda269528a61482e43104716b43e2">get_error_file</a> (string name, int set_forget_flag)</td></tr>
<tr class="memdesc:a1a4bda269528a61482e43104716b43e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return information about the last error which occured for <code>name</code> (where <code>name</code> is a valid name from the wiz list).  <a href="#a1a4bda269528a61482e43104716b43e2">More...</a><br/></td></tr>
<tr class="separator:a1a4bda269528a61482e43104716b43e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91b15fc4ef6d406fc7caf7e26d67223d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a91b15fc4ef6d406fc7caf7e26d67223d">get_eval_cost</a> ()</td></tr>
<tr class="memdesc:a91b15fc4ef6d406fc7caf7e26d67223d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the remaining evaluation cost the current execution (the current command) may use up.  <a href="#a91b15fc4ef6d406fc7caf7e26d67223d">More...</a><br/></td></tr>
<tr class="separator:a91b15fc4ef6d406fc7caf7e26d67223d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d02f1b3e1eba1feaf5edb4d894c29e6"><td class="memItemLeft" align="right" valign="top">mixed&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a8d02f1b3e1eba1feaf5edb4d894c29e6">get_extra_wizinfo</a> (int wiz)</td></tr>
<tr class="memdesc:a8d02f1b3e1eba1feaf5edb4d894c29e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the 'extra' information that was set for the given wizard <code>wiz</code> in the wizlist.  <a href="#a8d02f1b3e1eba1feaf5edb4d894c29e6">More...</a><br/></td></tr>
<tr class="separator:a8d02f1b3e1eba1feaf5edb4d894c29e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abacc5106be40e401a1f39db35581434b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#abacc5106be40e401a1f39db35581434b">get_max_commands</a> (object obj)</td></tr>
<tr class="memdesc:abacc5106be40e401a1f39db35581434b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the max number of commands the interactive <code>obj</code> is allowed to execute per second.  <a href="#abacc5106be40e401a1f39db35581434b">More...</a><br/></td></tr>
<tr class="separator:abacc5106be40e401a1f39db35581434b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac251ce3e185e6ef6e265806ba711e871"><td class="memItemLeft" align="right" valign="top">mixed&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ac251ce3e185e6ef6e265806ba711e871">get_type_info</a> (mixed value, int flag)</td></tr>
<tr class="memdesc:ac251ce3e185e6ef6e265806ba711e871"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns info about the type of <code>value</code>, as controlled by the flag.  <a href="#ac251ce3e185e6ef6e265806ba711e871">More...</a><br/></td></tr>
<tr class="separator:ac251ce3e185e6ef6e265806ba711e871"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d2464ee0d105312cb194da96f14179d"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a8d2464ee0d105312cb194da96f14179d">geteuid</a> (object ob)</td></tr>
<tr class="memdesc:a8d2464ee0d105312cb194da96f14179d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the effective user-id of the object (mostly a wizard or domain name).  <a href="#a8d2464ee0d105312cb194da96f14179d">More...</a><br/></td></tr>
<tr class="separator:a8d2464ee0d105312cb194da96f14179d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cee8cfd71595afe5cb29db76705b601"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a1cee8cfd71595afe5cb29db76705b601">getuid</a> (object ob)</td></tr>
<tr class="memdesc:a1cee8cfd71595afe5cb29db76705b601"><td class="mdescLeft">&#160;</td><td class="mdescRight">User-ids are not used in compat mode.  <a href="#a1cee8cfd71595afe5cb29db76705b601">More...</a><br/></td></tr>
<tr class="separator:a1cee8cfd71595afe5cb29db76705b601"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af44be4217f00942db63875e6988a0f56"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#af44be4217f00942db63875e6988a0f56">gmtime</a> (int  *uclock)</td></tr>
<tr class="memdesc:af44be4217f00942db63875e6988a0f56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interpret the argument clock as number of seconds since <code>Jan, 1st, 1970, 0:00</code>, and return the time in UTC in a nice structure.  <a href="#af44be4217f00942db63875e6988a0f56">More...</a><br/></td></tr>
<tr class="separator:af44be4217f00942db63875e6988a0f56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ae8a96180aad2e6b720a153546b2c25"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a2ae8a96180aad2e6b720a153546b2c25">hash</a> (int method, int *arg [, int iterations ])</td></tr>
<tr class="memdesc:a2ae8a96180aad2e6b720a153546b2c25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the hash from <code>arg</code> as determined by <code>method</code>.  <a href="#a2ae8a96180aad2e6b720a153546b2c25">More...</a><br/></td></tr>
<tr class="separator:a2ae8a96180aad2e6b720a153546b2c25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7561f541e0ab0c03ee82b700e06db31e"><td class="memItemLeft" align="right" valign="top">object *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a7561f541e0ab0c03ee82b700e06db31e">heart_beat_info</a> ()</td></tr>
<tr class="memdesc:a7561f541e0ab0c03ee82b700e06db31e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns an array of all objects having their heart beat turned on.  <a href="#a7561f541e0ab0c03ee82b700e06db31e">More...</a><br/></td></tr>
<tr class="separator:a7561f541e0ab0c03ee82b700e06db31e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fcc22b543fc2a8229c4739af28fbcae"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a2fcc22b543fc2a8229c4739af28fbcae">hmac</a> (int method, string key, int * arg)</td></tr>
<tr class="memdesc:a2fcc22b543fc2a8229c4739af28fbcae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the Hashed Message Authenication Code for <code>value</code> based on the digest <code>method</code> and the password <code>key</code>.  <a href="#a2fcc22b543fc2a8229c4739af28fbcae">More...</a><br/></td></tr>
<tr class="separator:a2fcc22b543fc2a8229c4739af28fbcae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a577d34e6ad73183274b24e5072b72b16"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a577d34e6ad73183274b24e5072b72b16">idna_stringprep</a> (string str, int profile, int flags)</td></tr>
<tr class="memdesc:a577d34e6ad73183274b24e5072b72b16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare the UTF-8 string <code>str</code> according to the stringprep <code>profile</code> (see also libidn stringprep(3)).  <a href="#a577d34e6ad73183274b24e5072b72b16">More...</a><br/></td></tr>
<tr class="separator:a577d34e6ad73183274b24e5072b72b16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee5eda114231d4cd7809c13057f38c9a"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#aee5eda114231d4cd7809c13057f38c9a">idna_to_ascii</a> (string name)</td></tr>
<tr class="memdesc:aee5eda114231d4cd7809c13057f38c9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert string <code>name</code> from UTF-8 to idna representation (8z punycode).  <a href="#aee5eda114231d4cd7809c13057f38c9a">More...</a><br/></td></tr>
<tr class="separator:aee5eda114231d4cd7809c13057f38c9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae20f06d0b57897f89e5858c7dece465e"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ae20f06d0b57897f89e5858c7dece465e">idna_to_unicode</a> (string name)</td></tr>
<tr class="memdesc:ae20f06d0b57897f89e5858c7dece465e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert string <code>name</code> from idna representation (8z punycode) to UTF-8.  <a href="#ae20f06d0b57897f89e5858c7dece465e">More...</a><br/></td></tr>
<tr class="separator:ae20f06d0b57897f89e5858c7dece465e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ba15ab03672927eae914004b91b2509"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a7ba15ab03672927eae914004b91b2509">implode</a> (mixed  *arr, string del)</td></tr>
<tr class="memdesc:a7ba15ab03672927eae914004b91b2509"><td class="mdescLeft">&#160;</td><td class="mdescRight">Concatenate all strings found in array <code>arr</code>, with the string <code>del</code> between each element.  <a href="#a7ba15ab03672927eae914004b91b2509">More...</a><br/></td></tr>
<tr class="separator:a7ba15ab03672927eae914004b91b2509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1f2f96fbcb047b4d200a9d68f05aa8d"><td class="memItemLeft" align="right" valign="top">string *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ac1f2f96fbcb047b4d200a9d68f05aa8d">inherit_list</a> (object ob, int flag)</td></tr>
<tr class="memdesc:ac1f2f96fbcb047b4d200a9d68f05aa8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the names of all files inherited by <code>ob</code>, including <code>ob</code> own filename.  <a href="#ac1f2f96fbcb047b4d200a9d68f05aa8d">More...</a><br/></td></tr>
<tr class="separator:ac1f2f96fbcb047b4d200a9d68f05aa8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af611da839c18f550d1639881f3f3cade"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#af611da839c18f550d1639881f3f3cade">input_to</a> (string|closure fun, int flag, string|closure prompt,...)</td></tr>
<tr class="memdesc:af611da839c18f550d1639881f3f3cade"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable next line of user input to be sent to the function <code>fun</code> as an argument.  <a href="#af611da839c18f550d1639881f3f3cade">More...</a><br/></td></tr>
<tr class="separator:af611da839c18f550d1639881f3f3cade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f74585c69a687a66806f986fa76b5bd"><td class="memItemLeft" align="right" valign="top">mixed *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a0f74585c69a687a66806f986fa76b5bd">input_to_info</a> (object player)</td></tr>
<tr class="memdesc:a0f74585c69a687a66806f986fa76b5bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct an array of all input_to's pending for this interactive <code>player</code>.  <a href="#a0f74585c69a687a66806f986fa76b5bd">More...</a><br/></td></tr>
<tr class="separator:a0f74585c69a687a66806f986fa76b5bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb6bdbce645e4924d4e99dbb9582c3e5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#abb6bdbce645e4924d4e99dbb9582c3e5">interactive</a> (object ob)</td></tr>
<tr class="memdesc:abb6bdbce645e4924d4e99dbb9582c3e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return non-zero if <code>ob</code> is an interactive user.  <a href="#abb6bdbce645e4924d4e99dbb9582c3e5">More...</a><br/></td></tr>
<tr class="separator:abb6bdbce645e4924d4e99dbb9582c3e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae25e47ee6526e8297fa3d9c822a22be"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#aae25e47ee6526e8297fa3d9c822a22be">intp</a> (mixed arg)</td></tr>
<tr class="memdesc:aae25e47ee6526e8297fa3d9c822a22be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return 1 if arg is an integer number.  <a href="#aae25e47ee6526e8297fa3d9c822a22be">More...</a><br/></td></tr>
<tr class="separator:aae25e47ee6526e8297fa3d9c822a22be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad37a5b85653678afc3bba3b0fb152a3f"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ad37a5b85653678afc3bba3b0fb152a3f">invert_bits</a> (string str)</td></tr>
<tr class="memdesc:ad37a5b85653678afc3bba3b0fb152a3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invert the status of all bits in bitstring <code>str</code> and return the new string.  <a href="#ad37a5b85653678afc3bba3b0fb152a3f">More...</a><br/></td></tr>
<tr class="separator:ad37a5b85653678afc3bba3b0fb152a3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad605c9c8bf3e838e8867b378347afb5f"><td class="memItemLeft" align="right" valign="top">mixed&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ad605c9c8bf3e838e8867b378347afb5f">json_parse</a> (string jsonstring)</td></tr>
<tr class="memdesc:ad605c9c8bf3e838e8867b378347afb5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This efun parses the <code>JSON</code> object encoded as string in <code>jsonstr</code> into a suitable LPC type.  <a href="#ad605c9c8bf3e838e8867b378347afb5f">More...</a><br/></td></tr>
<tr class="separator:ad605c9c8bf3e838e8867b378347afb5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af42d09408a63d42c762b51c94e5c8df6"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#af42d09408a63d42c762b51c94e5c8df6">json_serialize</a> (mixed data)</td></tr>
<tr class="memdesc:af42d09408a63d42c762b51c94e5c8df6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This efun creates a <code>JSON</code> object from the given LPC variable and returns the object encoded as a LPC string.  <a href="#af42d09408a63d42c762b51c94e5c8df6">More...</a><br/></td></tr>
<tr class="separator:af42d09408a63d42c762b51c94e5c8df6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ef2926c525dcf7e7d339d3f424b18a9"><td class="memItemLeft" align="right" valign="top">closure&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a4ef2926c525dcf7e7d339d3f424b18a9">lambda</a> (mixed  *arr, mixed)</td></tr>
<tr class="memdesc:a4ef2926c525dcf7e7d339d3f424b18a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a lambda closure, like lambda function in LISP.  <a href="#a4ef2926c525dcf7e7d339d3f424b18a9">More...</a><br/></td></tr>
<tr class="separator:a4ef2926c525dcf7e7d339d3f424b18a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add033af196d131772d3a99373bd14cd9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#add033af196d131772d3a99373bd14cd9">last_bit</a> (string str)</td></tr>
<tr class="memdesc:add033af196d131772d3a99373bd14cd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of the last set bit in bitstring <code>str</code>.  <a href="#add033af196d131772d3a99373bd14cd9">More...</a><br/></td></tr>
<tr class="separator:add033af196d131772d3a99373bd14cd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4cb90ea7fc1b005d59712643e907865"><td class="memItemLeft" align="right" valign="top">string *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ae4cb90ea7fc1b005d59712643e907865">last_instructions</a> (int length, int verbose)</td></tr>
<tr class="memdesc:ae4cb90ea7fc1b005d59712643e907865"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an array showing the 'length' last executed instructions in disassembled form.  <a href="#ae4cb90ea7fc1b005d59712643e907865">More...</a><br/></td></tr>
<tr class="separator:ae4cb90ea7fc1b005d59712643e907865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ae3872648557b6f90a3ccda1665b84b"><td class="memItemLeft" align="right" valign="top">mixed&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a2ae3872648557b6f90a3ccda1665b84b">limited</a> (closure fun, int  *limits, mixed  *args)</td></tr>
<tr class="memdesc:a2ae3872648557b6f90a3ccda1665b84b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call the function <code>fun</code> with any given <code>args</code> as parameters, and execute it with the given runtime limits.  <a href="#a2ae3872648557b6f90a3ccda1665b84b">More...</a><br/></td></tr>
<tr class="separator:a2ae3872648557b6f90a3ccda1665b84b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84dd5e31020dfbdb2f748f7837d6a7ee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a84dd5e31020dfbdb2f748f7837d6a7ee">living</a> (object ob)</td></tr>
<tr class="memdesc:a84dd5e31020dfbdb2f748f7837d6a7ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if <code>ob</code> is a living object (that is, <a class="el" href="classefun.html#a57a7c813f5dd1e9315900171a868d4dd" title="Enable this object to use commands normally accessible to users. ">efun::enable_commands()</a> has been called from inside the <code>ob</code>).  <a href="#a84dd5e31020dfbdb2f748f7837d6a7ee">More...</a><br/></td></tr>
<tr class="separator:a84dd5e31020dfbdb2f748f7837d6a7ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a844fa0ed8be8f868d0d4b7a98a20f707"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a844fa0ed8be8f868d0d4b7a98a20f707">load_name</a> (string obj)</td></tr>
<tr class="memdesc:a844fa0ed8be8f868d0d4b7a98a20f707"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the load name for the object <code>obj</code> which may be given directly or by its name.  <a href="#a844fa0ed8be8f868d0d4b7a98a20f707">More...</a><br/></td></tr>
<tr class="separator:a844fa0ed8be8f868d0d4b7a98a20f707"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ef004651be5805383aca5b9a3f8291b"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a8ef004651be5805383aca5b9a3f8291b">load_object</a> (string name)</td></tr>
<tr class="memdesc:a8ef004651be5805383aca5b9a3f8291b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the object from the file <code>name</code> (which can not be empty) and return it.  <a href="#a8ef004651be5805383aca5b9a3f8291b">More...</a><br/></td></tr>
<tr class="separator:a8ef004651be5805383aca5b9a3f8291b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd45e9336d29a4f03307ff89318e26ee"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#acd45e9336d29a4f03307ff89318e26ee">localtime</a> (int  *uclock)</td></tr>
<tr class="memdesc:acd45e9336d29a4f03307ff89318e26ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interpret the argument clock as number of seconds since <code>Jan, 1st, 1970, 0:00</code>, and return the time in local time in a nice structure.  <a href="#acd45e9336d29a4f03307ff89318e26ee">More...</a><br/></td></tr>
<tr class="separator:acd45e9336d29a4f03307ff89318e26ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14fd4cedd664420252059fe942d96424"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a14fd4cedd664420252059fe942d96424">log</a> (int|float arg)</td></tr>
<tr class="memdesc:a14fd4cedd664420252059fe942d96424"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the natural logarithm of its argument.  <a href="#a14fd4cedd664420252059fe942d96424">More...</a><br/></td></tr>
<tr class="separator:a14fd4cedd664420252059fe942d96424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa09b025daf57d621ec68445ba592caeb"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#aa09b025daf57d621ec68445ba592caeb">lower_case</a> (string str)</td></tr>
<tr class="memdesc:aa09b025daf57d621ec68445ba592caeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert all characters in str to lower case, and return the new string.  <a href="#aa09b025daf57d621ec68445ba592caeb">More...</a><br/></td></tr>
<tr class="separator:aa09b025daf57d621ec68445ba592caeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc510db961553dfdf2856f0e1de7eefc"><td class="memItemLeft" align="right" valign="top">mapping&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#acc510db961553dfdf2856f0e1de7eefc">m_add</a> (mapping map, mixed key, [mixed data...])</td></tr>
<tr class="memdesc:acc510db961553dfdf2856f0e1de7eefc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add (or replace) an entry with index <code>key</code> in mapping <code>map</code>.  <a href="#acc510db961553dfdf2856f0e1de7eefc">More...</a><br/></td></tr>
<tr class="separator:acc510db961553dfdf2856f0e1de7eefc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ae4e2d42d75ad4aa7f4e100c60c3d41"><td class="memItemLeft" align="right" valign="top">mapping&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a9ae4e2d42d75ad4aa7f4e100c60c3d41">m_allocate</a> (int size, int width)</td></tr>
<tr class="memdesc:a9ae4e2d42d75ad4aa7f4e100c60c3d41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reserve memory for a mapping.  <a href="#a9ae4e2d42d75ad4aa7f4e100c60c3d41">More...</a><br/></td></tr>
<tr class="separator:a9ae4e2d42d75ad4aa7f4e100c60c3d41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a149395923f6aed5847a664b568d55124"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a149395923f6aed5847a664b568d55124">m_contains</a> (mixed  &amp;data1,...,&amp;dataN, <a class="el" href="classefun.html#a33260046a3141e3b6f24f730d13201b9">map</a>, key)</td></tr>
<tr class="memdesc:a149395923f6aed5847a664b568d55124"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the mapping contains the key map, the corresponding values are assigned to the data arguments, which must be passed by reference, and 1 is returned.  <a href="#a149395923f6aed5847a664b568d55124">More...</a><br/></td></tr>
<tr class="separator:a149395923f6aed5847a664b568d55124"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d2bbcf03098048f203304b517a88a29"><td class="memItemLeft" align="right" valign="top">mapping&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a7d2bbcf03098048f203304b517a88a29">m_delete</a> (mapping map, mixed key)</td></tr>
<tr class="memdesc:a7d2bbcf03098048f203304b517a88a29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove the entry with index 'key' from mapping 'map'.  <a href="#a7d2bbcf03098048f203304b517a88a29">More...</a><br/></td></tr>
<tr class="separator:a7d2bbcf03098048f203304b517a88a29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b4d34af1c4ceb2ade88380e2bcfb7b1"><td class="memItemLeft" align="right" valign="top">mixed *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a3b4d34af1c4ceb2ade88380e2bcfb7b1">m_entry</a> (mapping map, mixed key)</td></tr>
<tr class="memdesc:a3b4d34af1c4ceb2ade88380e2bcfb7b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query the mapping <code>map</code> for the entry for <code>key</code> and return all its values in one array.  <a href="#a3b4d34af1c4ceb2ade88380e2bcfb7b1">More...</a><br/></td></tr>
<tr class="separator:a3b4d34af1c4ceb2ade88380e2bcfb7b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a706faae97294c390a3cd88cb080d509a"><td class="memItemLeft" align="right" valign="top">mixed *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a706faae97294c390a3cd88cb080d509a">m_indices</a> (mapping map)</td></tr>
<tr class="memdesc:a706faae97294c390a3cd88cb080d509a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an array containing the indices of mapping 'map'.  <a href="#a706faae97294c390a3cd88cb080d509a">More...</a><br/></td></tr>
<tr class="separator:a706faae97294c390a3cd88cb080d509a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c9bb41a965b9516ff6b86c97c35ab0c"><td class="memItemLeft" align="right" valign="top">mapping&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a8c9bb41a965b9516ff6b86c97c35ab0c">m_reallocate</a> (mapping m, int width)</td></tr>
<tr class="memdesc:a8c9bb41a965b9516ff6b86c97c35ab0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new mapping with <code>width</code> values per key and fill it with the values from mapping <code>m</code>.  <a href="#a8c9bb41a965b9516ff6b86c97c35ab0c">More...</a><br/></td></tr>
<tr class="separator:a8c9bb41a965b9516ff6b86c97c35ab0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bed0d3fd8a81f635ddf28b8f539d4c1"><td class="memItemLeft" align="right" valign="top">mixed *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a2bed0d3fd8a81f635ddf28b8f539d4c1">m_values</a> (mapping map, int index)</td></tr>
<tr class="memdesc:a2bed0d3fd8a81f635ddf28b8f539d4c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an array with the values of mapping <code>map</code>.  <a href="#a2bed0d3fd8a81f635ddf28b8f539d4c1">More...</a><br/></td></tr>
<tr class="separator:a2bed0d3fd8a81f635ddf28b8f539d4c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e6879fb12b588c2762f5f34fe7f83c1"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a7e6879fb12b588c2762f5f34fe7f83c1">make_shared_string</a> (string str)</td></tr>
<tr class="memdesc:a7e6879fb12b588c2762f5f34fe7f83c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Puts <code>str</code> in the table of shared strings of the game.  <a href="#a7e6879fb12b588c2762f5f34fe7f83c1">More...</a><br/></td></tr>
<tr class="separator:a7e6879fb12b588c2762f5f34fe7f83c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33260046a3141e3b6f24f730d13201b9"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a33260046a3141e3b6f24f730d13201b9">map</a> (string arg, mapping m [, int idx])</td></tr>
<tr class="memdesc:a33260046a3141e3b6f24f730d13201b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call the function <code>&lt;ob&gt;-&gt;&lt;func&gt;()</code> resp.  <a href="#a33260046a3141e3b6f24f730d13201b9">More...</a><br/></td></tr>
<tr class="separator:a33260046a3141e3b6f24f730d13201b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2e945661de01cfb0e12608d8851e8e7"><td class="memItemLeft" align="right" valign="top">mapping&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ae2e945661de01cfb0e12608d8851e8e7">map_indices</a> (mapping m, closure cl,...)</td></tr>
<tr class="memdesc:ae2e945661de01cfb0e12608d8851e8e7"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>ob-&gt;func()</code> is called resp.  <a href="#ae2e945661de01cfb0e12608d8851e8e7">More...</a><br/></td></tr>
<tr class="separator:ae2e945661de01cfb0e12608d8851e8e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb24b3547fada366e5356ee5a0891d63"><td class="memItemLeft" align="right" valign="top">mixed *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#afb24b3547fada366e5356ee5a0891d63">map_objects</a> (string  *arr, string fun, mixed extra,...)</td></tr>
<tr class="memdesc:afb24b3547fada366e5356ee5a0891d63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Similar to <a class="el" href="classefun.html#a33260046a3141e3b6f24f730d13201b9" title="Call the function &lt;ob&gt;-&gt;&lt;func&gt;() resp. ">efun::map()</a>, but calls <code>arr[n]-&gt;fun(extra,...)</code>.  <a href="#afb24b3547fada366e5356ee5a0891d63">More...</a><br/></td></tr>
<tr class="separator:afb24b3547fada366e5356ee5a0891d63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a588bcd8d5f59e8c2c08c0d989c530863"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a588bcd8d5f59e8c2c08c0d989c530863">mappingp</a> (mixed arg)</td></tr>
<tr class="memdesc:a588bcd8d5f59e8c2c08c0d989c530863"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns 1 if the argument is a mapping, or 0 if it is not.  <a href="#a588bcd8d5f59e8c2c08c0d989c530863">More...</a><br/></td></tr>
<tr class="separator:a588bcd8d5f59e8c2c08c0d989c530863"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab609a7360590189eb371e1229b440599"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ab609a7360590189eb371e1229b440599">master</a> (int dont_load)</td></tr>
<tr class="memdesc:ab609a7360590189eb371e1229b440599"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the master object.  <a href="#ab609a7360590189eb371e1229b440599">More...</a><br/></td></tr>
<tr class="separator:ab609a7360590189eb371e1229b440599"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a227176867b02eec1fee0731bead44a48"><td class="memItemLeft" align="right" valign="top">mixed *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a227176867b02eec1fee0731bead44a48">match_command</a> (string command, object origin)</td></tr>
<tr class="memdesc:a227176867b02eec1fee0731bead44a48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Take the command <code>command</code>, parse it, and return an array of all matching actions added to <code>origin</code> (read: <code>origin</code> is the object 'issuing' the command).  <a href="#a227176867b02eec1fee0731bead44a48">More...</a><br/></td></tr>
<tr class="separator:a227176867b02eec1fee0731bead44a48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a739d49b2b01d227fb40edfa965954dc7"><td class="memItemLeft" align="right" valign="top">int float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a739d49b2b01d227fb40edfa965954dc7">max</a> (int|float  *arg_array)</td></tr>
<tr class="memdesc:a739d49b2b01d227fb40edfa965954dc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determaxe the maximum value of the arguments and return it.  <a href="#a739d49b2b01d227fb40edfa965954dc7">More...</a><br/></td></tr>
<tr class="separator:a739d49b2b01d227fb40edfa965954dc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f75178a00fc81b8384aa3a757d0902f"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a4f75178a00fc81b8384aa3a757d0902f">md5</a> (int *arg [, int iterations])</td></tr>
<tr class="memdesc:a4f75178a00fc81b8384aa3a757d0902f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create and return a <em>MD5</em> message digest from <code>arg</code>.  <a href="#a4f75178a00fc81b8384aa3a757d0902f">More...</a><br/></td></tr>
<tr class="separator:a4f75178a00fc81b8384aa3a757d0902f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31c2c39301c169902bdd78369dab70ae"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a31c2c39301c169902bdd78369dab70ae">md5_crypt</a> (string str, string seed)</td></tr>
<tr class="memdesc:a31c2c39301c169902bdd78369dab70ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Crypt the string <code>str</code> the first two characters from the string <code>seed</code> as a seed.  <a href="#a31c2c39301c169902bdd78369dab70ae">More...</a><br/></td></tr>
<tr class="separator:a31c2c39301c169902bdd78369dab70ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf2253b4467a0eb544f67ff5777d2fa2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#adf2253b4467a0eb544f67ff5777d2fa2">member</a> (mapping m, mixed key)</td></tr>
<tr class="memdesc:adf2253b4467a0eb544f67ff5777d2fa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">For arrays and strings, returns the index of the first occurance of second arg in the first arg, or -1 if none found.  <a href="#adf2253b4467a0eb544f67ff5777d2fa2">More...</a><br/></td></tr>
<tr class="separator:adf2253b4467a0eb544f67ff5777d2fa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a744a0a207cfdcfea8095cf0ae7cab584"><td class="memItemLeft" align="right" valign="top">int float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a744a0a207cfdcfea8095cf0ae7cab584">min</a> (int|float  *arg_array)</td></tr>
<tr class="memdesc:a744a0a207cfdcfea8095cf0ae7cab584"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the minimum value of the arguments and return it.  <a href="#a744a0a207cfdcfea8095cf0ae7cab584">More...</a><br/></td></tr>
<tr class="separator:a744a0a207cfdcfea8095cf0ae7cab584"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04954648bada0ed418aae3b3d42e552c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a04954648bada0ed418aae3b3d42e552c">mkdir</a> (string path)</td></tr>
<tr class="memdesc:a04954648bada0ed418aae3b3d42e552c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make a directory named path.  <a href="#a04954648bada0ed418aae3b3d42e552c">More...</a><br/></td></tr>
<tr class="separator:a04954648bada0ed418aae3b3d42e552c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cd46ef2f89a1b7f5a4ec5f4cb7beee1"><td class="memItemLeft" align="right" valign="top">mapping&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a6cd46ef2f89a1b7f5a4ec5f4cb7beee1">mkmapping</a> (struct st)</td></tr>
<tr class="memdesc:a6cd46ef2f89a1b7f5a4ec5f4cb7beee1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The first form returns a mapping with indices from <code>arr1</code> and values from <code>arr2</code>...  <a href="#a6cd46ef2f89a1b7f5a4ec5f4cb7beee1">More...</a><br/></td></tr>
<tr class="separator:a6cd46ef2f89a1b7f5a4ec5f4cb7beee1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6926710136aed0f66cfd4b825055e2f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ae6926710136aed0f66cfd4b825055e2f">mktime</a> (int  *ts)</td></tr>
<tr class="memdesc:ae6926710136aed0f66cfd4b825055e2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the argument <code>ts</code> is an array with 9 elements (int) according to the result of <a class="el" href="classefun.html#acd45e9336d29a4f03307ff89318e26ee" title="Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0:00, and return the time in ...">efun::localtime()</a> or <a class="el" href="classefun.html#af44be4217f00942db63875e6988a0f56" title="Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0:00, and return the time in ...">efun::gmtime()</a>, this function returns the number of seconds passed since the epoch (<code>00:00:00 UTC, January 1, 1970</code>).  <a href="#ae6926710136aed0f66cfd4b825055e2f">More...</a><br/></td></tr>
<tr class="separator:ae6926710136aed0f66cfd4b825055e2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4190a089c412b88e938a4a34865e8366"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a4190a089c412b88e938a4a34865e8366">move_object</a> (mixed item, mixed dest)</td></tr>
<tr class="memdesc:a4190a089c412b88e938a4a34865e8366"><td class="mdescLeft">&#160;</td><td class="mdescRight">The item, which can be an object_name or an object, is moved into it's new environment dest, which can also be an object_name or an object.  <a href="#a4190a089c412b88e938a4a34865e8366">More...</a><br/></td></tr>
<tr class="separator:a4190a089c412b88e938a4a34865e8366"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a972de3027b97c5e0a9862c259e5e41ee"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a972de3027b97c5e0a9862c259e5e41ee">negate</a> (float)</td></tr>
<tr class="memdesc:a972de3027b97c5e0a9862c259e5e41ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unary minus.  <a href="#a972de3027b97c5e0a9862c259e5e41ee">More...</a><br/></td></tr>
<tr class="separator:a972de3027b97c5e0a9862c259e5e41ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50b582275c81599cd83339f4bf394b02"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a50b582275c81599cd83339f4bf394b02">net_connect</a> (string host, int port)</td></tr>
<tr class="memdesc:a50b582275c81599cd83339f4bf394b02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a non-blocking TCP network connection to <code>host</code> and <code>port</code>.  <a href="#a50b582275c81599cd83339f4bf394b02">More...</a><br/></td></tr>
<tr class="separator:a50b582275c81599cd83339f4bf394b02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9a22225f7ecf80a5bcd52261d1b27c0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ae9a22225f7ecf80a5bcd52261d1b27c0">next_bit</a> (string str, int start, int find_cleared)</td></tr>
<tr class="memdesc:ae9a22225f7ecf80a5bcd52261d1b27c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of the next bit in bitstring <code>str</code> after position <code>start</code>.  <a href="#ae9a22225f7ecf80a5bcd52261d1b27c0">More...</a><br/></td></tr>
<tr class="separator:ae9a22225f7ecf80a5bcd52261d1b27c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac27f5d278c0e4c64697f3737a973e0e4"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ac27f5d278c0e4c64697f3737a973e0e4">next_inventory</a> (object ob)</td></tr>
<tr class="memdesc:ac27f5d278c0e4c64697f3737a973e0e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get next object in the same inventory as ob.  <a href="#ac27f5d278c0e4c64697f3737a973e0e4">More...</a><br/></td></tr>
<tr class="separator:ac27f5d278c0e4c64697f3737a973e0e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe008c0344508051dcc4d07d79dd0bc4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#afe008c0344508051dcc4d07d79dd0bc4">notify_fail</a> (closure cl)</td></tr>
<tr class="memdesc:afe008c0344508051dcc4d07d79dd0bc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store <code>str</code> as the error message given instead of the default message "What ?".  <a href="#afe008c0344508051dcc4d07d79dd0bc4">More...</a><br/></td></tr>
<tr class="separator:afe008c0344508051dcc4d07d79dd0bc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab9124b64b9785b1e39a723b16ea255d"><td class="memItemLeft" align="right" valign="top">mixed *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#aab9124b64b9785b1e39a723b16ea255d">object_info</a> (object ob, int what, int index)</td></tr>
<tr class="memdesc:aab9124b64b9785b1e39a723b16ea255d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns some internal information about object <code>ob</code>, collected in an array.  <a href="#aab9124b64b9785b1e39a723b16ea255d">More...</a><br/></td></tr>
<tr class="separator:aab9124b64b9785b1e39a723b16ea255d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eae6e47ac233059b5613c83cf5855e0"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a4eae6e47ac233059b5613c83cf5855e0">object_name</a> (object ob)</td></tr>
<tr class="memdesc:a4eae6e47ac233059b5613c83cf5855e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the name of an object <code>ob</code> or, if no argument is given, of the current object.  <a href="#a4eae6e47ac233059b5613c83cf5855e0">More...</a><br/></td></tr>
<tr class="separator:a4eae6e47ac233059b5613c83cf5855e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefff271f12574b28300fa6ff9ac5ab87"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#aefff271f12574b28300fa6ff9ac5ab87">object_time</a> (object ob)</td></tr>
<tr class="memdesc:aefff271f12574b28300fa6ff9ac5ab87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the creation time of the given object.  <a href="#aefff271f12574b28300fa6ff9ac5ab87">More...</a><br/></td></tr>
<tr class="separator:aefff271f12574b28300fa6ff9ac5ab87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc5e526acbd3a54f8f9625cc1fdc7f75"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#acc5e526acbd3a54f8f9625cc1fdc7f75">objectp</a> (mixed arg)</td></tr>
<tr class="memdesc:acc5e526acbd3a54f8f9625cc1fdc7f75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return 1 if arg is an object.  <a href="#acc5e526acbd3a54f8f9625cc1fdc7f75">More...</a><br/></td></tr>
<tr class="separator:acc5e526acbd3a54f8f9625cc1fdc7f75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af939d33eba6b16a15e87e0737206b0e2"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#af939d33eba6b16a15e87e0737206b0e2">or_bits</a> (string str1, string str2)</td></tr>
<tr class="memdesc:af939d33eba6b16a15e87e0737206b0e2"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>str1</code> and <code>str2</code> are both bitstrings.  <a href="#af939d33eba6b16a15e87e0737206b0e2">More...</a><br/></td></tr>
<tr class="separator:af939d33eba6b16a15e87e0737206b0e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a52a8bbc893c49d46cb6f61fa5ea07a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a0a52a8bbc893c49d46cb6f61fa5ea07a">parse_command</a> (string cmd, object  *arr, string fmt, mixed  &amp;var,...)</td></tr>
<tr class="memdesc:a0a52a8bbc893c49d46cb6f61fa5ea07a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classefun.html#a0a52a8bbc893c49d46cb6f61fa5ea07a" title="efun::parse_command() is basically a spiffed up sscanf operating on word basis and targeted at recogn...">efun::parse_command()</a> is basically a spiffed up sscanf operating on word basis and targeted at recognizing object descriptions from command strings.  <a href="#a0a52a8bbc893c49d46cb6f61fa5ea07a">More...</a><br/></td></tr>
<tr class="separator:a0a52a8bbc893c49d46cb6f61fa5ea07a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af515fed93c159176fd6f70b68583000d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#af515fed93c159176fd6f70b68583000d">pg_close</a> ()</td></tr>
<tr class="memdesc:af515fed93c159176fd6f70b68583000d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the database connection for the current object, if there is one.  <a href="#af515fed93c159176fd6f70b68583000d">More...</a><br/></td></tr>
<tr class="separator:af515fed93c159176fd6f70b68583000d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2627e35aea75411cdb12f292a0f59fa2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a2627e35aea75411cdb12f292a0f59fa2">pg_connect</a> (string conn, closure cl, mixed extra,...)</td></tr>
<tr class="memdesc:a2627e35aea75411cdb12f292a0f59fa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a database connection as directed by <code>conn</code>, and assign the callback function <code>fun/<code>cl</code> with</code> the optional <code>extra</code> parameters to it.  <a href="#a2627e35aea75411cdb12f292a0f59fa2">More...</a><br/></td></tr>
<tr class="separator:a2627e35aea75411cdb12f292a0f59fa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b8133dc1526061d917d0c1fadfc77f2"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a2b8133dc1526061d917d0c1fadfc77f2">pg_conv_string</a> (string str)</td></tr>
<tr class="memdesc:a2b8133dc1526061d917d0c1fadfc77f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the string <code>str</code> into a string that is correctly interpretated for usage as a string in <a class="el" href="classefun.html#a9cb6bbf099caea3b28576b74c16af36b" title="Queue a new query query to the database connection on the current object. ">efun::pg_query()</a>, e.g.  <a href="#a2b8133dc1526061d917d0c1fadfc77f2">More...</a><br/></td></tr>
<tr class="separator:a2b8133dc1526061d917d0c1fadfc77f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8257ddb4d5bb730ffe7ad169e41832cf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a8257ddb4d5bb730ffe7ad169e41832cf">pg_pending</a> (object obj)</td></tr>
<tr class="memdesc:a8257ddb4d5bb730ffe7ad169e41832cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of pending queries for the connection on the given object <code>obj</code> (default is the current object).  <a href="#a8257ddb4d5bb730ffe7ad169e41832cf">More...</a><br/></td></tr>
<tr class="separator:a8257ddb4d5bb730ffe7ad169e41832cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cb6bbf099caea3b28576b74c16af36b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a9cb6bbf099caea3b28576b74c16af36b">pg_query</a> (string query, int flags)</td></tr>
<tr class="memdesc:a9cb6bbf099caea3b28576b74c16af36b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue a new query <code>query</code> to the database connection on the current object.  <a href="#a9cb6bbf099caea3b28576b74c16af36b">More...</a><br/></td></tr>
<tr class="separator:a9cb6bbf099caea3b28576b74c16af36b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c94a0dd0f29e1f90f48d17e53fec879"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a3c94a0dd0f29e1f90f48d17e53fec879">pointerp</a> (mixed arg)</td></tr>
<tr class="memdesc:a3c94a0dd0f29e1f90f48d17e53fec879"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return 1 if arg is a pointer, i.e.  <a href="#a3c94a0dd0f29e1f90f48d17e53fec879">More...</a><br/></td></tr>
<tr class="separator:a3c94a0dd0f29e1f90f48d17e53fec879"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23db3b9d4dcad4bf886083af59f2f5a2"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a23db3b9d4dcad4bf886083af59f2f5a2">pow</a> (int|float base, int|float exp)</td></tr>
<tr class="memdesc:a23db3b9d4dcad4bf886083af59f2f5a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function returns the value of <code>base</code> raised to the power of <code>exp</code>.  <a href="#a23db3b9d4dcad4bf886083af59f2f5a2">More...</a><br/></td></tr>
<tr class="separator:a23db3b9d4dcad4bf886083af59f2f5a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63902725c750bf04e6a6383310dd3610"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a63902725c750bf04e6a6383310dd3610">present</a> (object ob, object env)</td></tr>
<tr class="memdesc:a63902725c750bf04e6a6383310dd3610"><td class="mdescLeft">&#160;</td><td class="mdescRight">This efun checks if an object is present in a given environment.  <a href="#a63902725c750bf04e6a6383310dd3610">More...</a><br/></td></tr>
<tr class="separator:a63902725c750bf04e6a6383310dd3610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bb6390381b4cd2768beb7b59df5abfb"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a4bb6390381b4cd2768beb7b59df5abfb">present_clone</a> (object obj, object env, int n)</td></tr>
<tr class="memdesc:a4bb6390381b4cd2768beb7b59df5abfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This efun searches the inventory of object <code>env</code> (default is <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code>) for an object with a specific blueprint.  <a href="#a4bb6390381b4cd2768beb7b59df5abfb">More...</a><br/></td></tr>
<tr class="separator:a4bb6390381b4cd2768beb7b59df5abfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d720f6391a992bf62bb528a3c48ba14"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a8d720f6391a992bf62bb528a3c48ba14">previous_object</a> (int i)</td></tr>
<tr class="memdesc:a8d720f6391a992bf62bb528a3c48ba14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an object pointer to the object that did a call (<a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a>, <a class="el" href="classefun.html#a665f686219e1bffdb5e89a5158167473" title="Evaluates the closure. ">efun::funcall()</a>, etc) to the current object, if any.  <a href="#a8d720f6391a992bf62bb528a3c48ba14">More...</a><br/></td></tr>
<tr class="separator:a8d720f6391a992bf62bb528a3c48ba14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f50b85e38b1f7510cddbe6dc5435942"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a2f50b85e38b1f7510cddbe6dc5435942">printf</a> (string format,...)</td></tr>
<tr class="memdesc:a2f50b85e38b1f7510cddbe6dc5435942"><td class="mdescLeft">&#160;</td><td class="mdescRight">A cross between <a class="el" href="classefun.html#afda00b52a57aac8ce24bc5f5a5dc9cc8" title="Most of the characters in the format string fmt get passed straight through to the output (i...">efun::sprintf()</a> and <a class="el" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662" title="Write out something to the current user. ">efun::write()</a>.  <a href="#a2f50b85e38b1f7510cddbe6dc5435942">More...</a><br/></td></tr>
<tr class="separator:a2f50b85e38b1f7510cddbe6dc5435942"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58338c1e30d3a60a84db85cc2680684b"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a58338c1e30d3a60a84db85cc2680684b">process_string</a> (string str)</td></tr>
<tr class="memdesc:a58338c1e30d3a60a84db85cc2680684b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches string <code>str</code> for occurences of a "value by function call", which is an implicit function call surrounded by <code>@@</code>.  <a href="#a58338c1e30d3a60a84db85cc2680684b">More...</a><br/></td></tr>
<tr class="separator:a58338c1e30d3a60a84db85cc2680684b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29da7cfd7195efb63c82bd788a609e93"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a29da7cfd7195efb63c82bd788a609e93">program_name</a> (object obj)</td></tr>
<tr class="memdesc:a29da7cfd7195efb63c82bd788a609e93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the program of <code>obj</code>, resp.  <a href="#a29da7cfd7195efb63c82bd788a609e93">More...</a><br/></td></tr>
<tr class="separator:a29da7cfd7195efb63c82bd788a609e93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf0bef5d723794d143a7d159773b0520"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#acf0bef5d723794d143a7d159773b0520">program_time</a> (object ob)</td></tr>
<tr class="memdesc:acf0bef5d723794d143a7d159773b0520"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the creation (compilation) time of the object's program.  <a href="#acf0bef5d723794d143a7d159773b0520">More...</a><br/></td></tr>
<tr class="separator:acf0bef5d723794d143a7d159773b0520"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef589eba43ba68459f79f4af465e666d"><td class="memItemLeft" align="right" valign="top">mixed *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#aef589eba43ba68459f79f4af465e666d">query_actions</a> (object ob, mixed mask_or_verb)</td></tr>
<tr class="memdesc:aef589eba43ba68459f79f4af465e666d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes either an object or a filename as first argument and a bitmask (int) or string as a second argument.  <a href="#aef589eba43ba68459f79f4af465e666d">More...</a><br/></td></tr>
<tr class="separator:aef589eba43ba68459f79f4af465e666d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d55fac98f23ae1ce0e8c4394fe63716"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a9d55fac98f23ae1ce0e8c4394fe63716">query_command</a> (void)</td></tr>
<tr class="memdesc:a9d55fac98f23ae1ce0e8c4394fe63716"><td class="mdescLeft">&#160;</td><td class="mdescRight">Give the text of the current command, or 0 if not executing from a command.  <a href="#a9d55fac98f23ae1ce0e8c4394fe63716">More...</a><br/></td></tr>
<tr class="separator:a9d55fac98f23ae1ce0e8c4394fe63716"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f089a53d6e885fc1cb5901fe8cb7729"><td class="memItemLeft" align="right" valign="top">mixed&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a0f089a53d6e885fc1cb5901fe8cb7729">query_editing</a> (object ob)</td></tr>
<tr class="memdesc:a0f089a53d6e885fc1cb5901fe8cb7729"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns 1 if the <code>ob</code> is interactive and currently editing with <a class="el" href="classefun.html#a9ee9e4fa5066437c75195638c362ee6d" title="Calling without arguments will start the editor ed with the name of the error file, that was returned by master-&gt;valid_read(0, geteuid(this_player()), &quot;ed_start&quot;, this_player()), usually something like ~/.err. ">efun::ed()</a>.  <a href="#a0f089a53d6e885fc1cb5901fe8cb7729">More...</a><br/></td></tr>
<tr class="separator:a0f089a53d6e885fc1cb5901fe8cb7729"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a20a6def5cbe33d8a54dd17235e1cb5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a2a20a6def5cbe33d8a54dd17235e1cb5">query_idle</a> (object ob)</td></tr>
<tr class="memdesc:a2a20a6def5cbe33d8a54dd17235e1cb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query how many seconds an interactive object <code>ob</code> has been idle.  <a href="#a2a20a6def5cbe33d8a54dd17235e1cb5">More...</a><br/></td></tr>
<tr class="separator:a2a20a6def5cbe33d8a54dd17235e1cb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a580be578b8c57465f68a84e509c12c29"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a580be578b8c57465f68a84e509c12c29">query_input_pending</a> (object ob)</td></tr>
<tr class="memdesc:a580be578b8c57465f68a84e509c12c29"><td class="mdescLeft">&#160;</td><td class="mdescRight">If ob is interactive and currently has an <a class="el" href="classefun.html#af611da839c18f550d1639881f3f3cade" title="Enable next line of user input to be sent to the function fun as an argument. ">efun::input_to()</a> pending, the object that has called the <a class="el" href="classefun.html#af611da839c18f550d1639881f3f3cade" title="Enable next line of user input to be sent to the function fun as an argument. ">efun::input_to()</a> is returned, else 0.  <a href="#a580be578b8c57465f68a84e509c12c29">More...</a><br/></td></tr>
<tr class="separator:a580be578b8c57465f68a84e509c12c29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d730466c50796059128b65fc3153a55"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a2d730466c50796059128b65fc3153a55">query_ip_name</a> (object ob)</td></tr>
<tr class="memdesc:a2d730466c50796059128b65fc3153a55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Give the ip-name for user the current user or for the optional argument ob.  <a href="#a2d730466c50796059128b65fc3153a55">More...</a><br/></td></tr>
<tr class="separator:a2d730466c50796059128b65fc3153a55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2badf1733245cd49bc69b30b610207b"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#af2badf1733245cd49bc69b30b610207b">query_ip_number</a> (mixed &amp; ob)</td></tr>
<tr class="memdesc:af2badf1733245cd49bc69b30b610207b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Give the ip-number for the current user or the optional argument ob.  <a href="#af2badf1733245cd49bc69b30b610207b">More...</a><br/></td></tr>
<tr class="separator:af2badf1733245cd49bc69b30b610207b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a810ac293b0967a7d3129f745c9b2d9e6"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a810ac293b0967a7d3129f745c9b2d9e6">query_limits</a> (int default)</td></tr>
<tr class="memdesc:a810ac293b0967a7d3129f745c9b2d9e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return an array with the current runtime limits, resp.  <a href="#a810ac293b0967a7d3129f745c9b2d9e6">More...</a><br/></td></tr>
<tr class="separator:a810ac293b0967a7d3129f745c9b2d9e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9525e5165c46cccdf21e180f287ec92b"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a9525e5165c46cccdf21e180f287ec92b">query_load_average</a> (void)</td></tr>
<tr class="memdesc:a9525e5165c46cccdf21e180f287ec92b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the load of the mud.  <a href="#a9525e5165c46cccdf21e180f287ec92b">More...</a><br/></td></tr>
<tr class="separator:a9525e5165c46cccdf21e180f287ec92b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6515b75af0e981f626dc18cab2c5e82"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#af6515b75af0e981f626dc18cab2c5e82">query_mccp</a> (object player)</td></tr>
<tr class="memdesc:af6515b75af0e981f626dc18cab2c5e82"><td class="mdescLeft">&#160;</td><td class="mdescRight">This efun returns current whether the client uses compression or not ( default <code><a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af" title="Return the current command giver. ">this_player()</a></code> ).  <a href="#af6515b75af0e981f626dc18cab2c5e82">More...</a><br/></td></tr>
<tr class="separator:af6515b75af0e981f626dc18cab2c5e82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe44b8bace8716fb752a644c53fa1258"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#afe44b8bace8716fb752a644c53fa1258">query_mccp_stats</a> (object player)</td></tr>
<tr class="memdesc:afe44b8bace8716fb752a644c53fa1258"><td class="mdescLeft">&#160;</td><td class="mdescRight">This efun gives you statistics about current compression of the player ( default <code><a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af" title="Return the current command giver. ">this_player()</a></code> ).  <a href="#afe44b8bace8716fb752a644c53fa1258">More...</a><br/></td></tr>
<tr class="separator:afe44b8bace8716fb752a644c53fa1258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af291b7a6bb35f1917f587a57ab3f13be"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#af291b7a6bb35f1917f587a57ab3f13be">query_mud_port</a> (int num)</td></tr>
<tr class="memdesc:af291b7a6bb35f1917f587a57ab3f13be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the port number the parser uses for user connections.  <a href="#af291b7a6bb35f1917f587a57ab3f13be">More...</a><br/></td></tr>
<tr class="separator:af291b7a6bb35f1917f587a57ab3f13be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81fa5c01de0fc1a44122e08ee02f667d"><td class="memItemLeft" align="right" valign="top">mixed&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a81fa5c01de0fc1a44122e08ee02f667d">query_notify_fail</a> (int flag)</td></tr>
<tr class="memdesc:a81fa5c01de0fc1a44122e08ee02f667d"><td class="mdescLeft">&#160;</td><td class="mdescRight">If <code>flag</code> is not given or 0: return the string or closure which was last set as error message for this command (with <a class="el" href="classefun.html#afe008c0344508051dcc4d07d79dd0bc4" title="Store str as the error message given instead of the default message &quot;What ?&quot;. ">efun::notify_fail()</a>).  <a href="#a81fa5c01de0fc1a44122e08ee02f667d">More...</a><br/></td></tr>
<tr class="separator:a81fa5c01de0fc1a44122e08ee02f667d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d819b245fe5d59d0f9da64d3c82f6ac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a1d819b245fe5d59d0f9da64d3c82f6ac">query_once_interactive</a> (object ob)</td></tr>
<tr class="memdesc:a1d819b245fe5d59d0f9da64d3c82f6ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if the object is or once was interactive.  <a href="#a1d819b245fe5d59d0f9da64d3c82f6ac">More...</a><br/></td></tr>
<tr class="separator:a1d819b245fe5d59d0f9da64d3c82f6ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6e2a0ca7c746ee1bc1c56649fe0ffc7"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ac6e2a0ca7c746ee1bc1c56649fe0ffc7">query_shadowing</a> (object obj)</td></tr>
<tr class="memdesc:ac6e2a0ca7c746ee1bc1c56649fe0ffc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function returns the object which <code>obj</code> is currently shadowing, or 0 if <code>obj</code> is not a shadow.  <a href="#ac6e2a0ca7c746ee1bc1c56649fe0ffc7">More...</a><br/></td></tr>
<tr class="separator:ac6e2a0ca7c746ee1bc1c56649fe0ffc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae819f6603be71574e728a51db3feb244"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ae819f6603be71574e728a51db3feb244">query_snoop</a> (object victim)</td></tr>
<tr class="memdesc:ae819f6603be71574e728a51db3feb244"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the user who currently snoops <code>victim</code>.  <a href="#ae819f6603be71574e728a51db3feb244">More...</a><br/></td></tr>
<tr class="separator:ae819f6603be71574e728a51db3feb244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad82e1ff8a6896956baeed081b6eeb5b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#aad82e1ff8a6896956baeed081b6eeb5b">query_udp_port</a> (void)</td></tr>
<tr class="memdesc:aad82e1ff8a6896956baeed081b6eeb5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the port number of the UDP socket.  <a href="#aad82e1ff8a6896956baeed081b6eeb5b">More...</a><br/></td></tr>
<tr class="separator:aad82e1ff8a6896956baeed081b6eeb5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1f08790d1820834e9fb63b7e686f75d"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ae1f08790d1820834e9fb63b7e686f75d">query_verb</a> (int flag)</td></tr>
<tr class="memdesc:ae1f08790d1820834e9fb63b7e686f75d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the verb of the current command, of 0 if not executing from a command.  <a href="#ae1f08790d1820834e9fb63b7e686f75d">More...</a><br/></td></tr>
<tr class="separator:ae1f08790d1820834e9fb63b7e686f75d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78e86c560d9bfc454fc228b3988db651"><td class="memItemLeft" align="right" valign="top">mixed&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a78e86c560d9bfc454fc228b3988db651">quote</a> (mixed)</td></tr>
<tr class="memdesc:a78e86c560d9bfc454fc228b3988db651"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts arrays to quoted arrays and strings to symbols.  <a href="#a78e86c560d9bfc454fc228b3988db651">More...</a><br/></td></tr>
<tr class="separator:a78e86c560d9bfc454fc228b3988db651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a2e9b7b0572256c53dcbc0241cce424"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a1a2e9b7b0572256c53dcbc0241cce424">raise_error</a> (string arg)</td></tr>
<tr class="memdesc:a1a2e9b7b0572256c53dcbc0241cce424"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abort execution.  <a href="#a1a2e9b7b0572256c53dcbc0241cce424">More...</a><br/></td></tr>
<tr class="separator:a1a2e9b7b0572256c53dcbc0241cce424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46d5867364460af09487db7fb71e9574"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a46d5867364460af09487db7fb71e9574">random</a> (int n)</td></tr>
<tr class="memdesc:a46d5867364460af09487db7fb71e9574"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a number in the random range [0 .  <a href="#a46d5867364460af09487db7fb71e9574">More...</a><br/></td></tr>
<tr class="separator:a46d5867364460af09487db7fb71e9574"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45d3491b9a1f26d6816b7409ca785150"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a45d3491b9a1f26d6816b7409ca785150">read_bytes</a> (string file, int start, int number)</td></tr>
<tr class="memdesc:a45d3491b9a1f26d6816b7409ca785150"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a given amount of bytes from file.  <a href="#a45d3491b9a1f26d6816b7409ca785150">More...</a><br/></td></tr>
<tr class="separator:a45d3491b9a1f26d6816b7409ca785150"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a691ba221d2589d03d70a2b024644d250"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a691ba221d2589d03d70a2b024644d250">read_file</a> (string file, int start, int number)</td></tr>
<tr class="memdesc:a691ba221d2589d03d70a2b024644d250"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads lines from file.  <a href="#a691ba221d2589d03d70a2b024644d250">More...</a><br/></td></tr>
<tr class="separator:a691ba221d2589d03d70a2b024644d250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af28bd368a436849fb5195eb34ca53af3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#af28bd368a436849fb5195eb34ca53af3">referencep</a> (mixed arg)</td></tr>
<tr class="memdesc:af28bd368a436849fb5195eb34ca53af3"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns true if arg was passed by reference to the current function, instead of the usual call-by-value.  <a href="#af28bd368a436849fb5195eb34ca53af3">More...</a><br/></td></tr>
<tr class="separator:af28bd368a436849fb5195eb34ca53af3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07319596f18abab5f21aceb457e701af"><td class="memItemLeft" align="right" valign="top">string *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a07319596f18abab5f21aceb457e701af">regexp</a> (string  *list, string pattern, int opt)</td></tr>
<tr class="memdesc:a07319596f18abab5f21aceb457e701af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Match the pattern <code>pattern</code> (interpreted according to <code>opt</code> if given) against all strings in list, and return a new array with all strings that matched.  <a href="#a07319596f18abab5f21aceb457e701af">More...</a><br/></td></tr>
<tr class="separator:a07319596f18abab5f21aceb457e701af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdcf6400eb2e83e3a5ec3d355f4f78bd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#afdcf6400eb2e83e3a5ec3d355f4f78bd">regexp_package</a> ()</td></tr>
<tr class="memdesc:afdcf6400eb2e83e3a5ec3d355f4f78bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return which regexp package is used by default:  <a href="#afdcf6400eb2e83e3a5ec3d355f4f78bd">More...</a><br/></td></tr>
<tr class="separator:afdcf6400eb2e83e3a5ec3d355f4f78bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a785445d41389aab57b55a2bfbccbb436"><td class="memItemLeft" align="right" valign="top">string *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a785445d41389aab57b55a2bfbccbb436">regexplode</a> (string text, string pattern, int opt)</td></tr>
<tr class="memdesc:a785445d41389aab57b55a2bfbccbb436"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is similar to explode but accepts a regular expression <code>pattern</code> as delimiter (interpreted according to <code>opt</code> if given).  <a href="#a785445d41389aab57b55a2bfbccbb436">More...</a><br/></td></tr>
<tr class="separator:a785445d41389aab57b55a2bfbccbb436"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3461a938f0dda8a3ff3f23f4d4a0896"><td class="memItemLeft" align="right" valign="top">string *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#af3461a938f0dda8a3ff3f23f4d4a0896">regmatch</a> (string text, string pattern, int opt, int start)</td></tr>
<tr class="memdesc:af3461a938f0dda8a3ff3f23f4d4a0896"><td class="mdescLeft">&#160;</td><td class="mdescRight">Match the string <code>text</code> against <code>pattern</code> (interpreted according to <code>opt</code> if given).  <a href="#af3461a938f0dda8a3ff3f23f4d4a0896">More...</a><br/></td></tr>
<tr class="separator:af3461a938f0dda8a3ff3f23f4d4a0896"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a9644b0891c8674664e2c80aff7f963"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a1a9644b0891c8674664e2c80aff7f963">regreplace</a> (string txt, string pattern, closure|string replacepattern, int flags)</td></tr>
<tr class="memdesc:a1a9644b0891c8674664e2c80aff7f963"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function looks through txt looking for the regular expression pattern.  <a href="#a1a9644b0891c8674664e2c80aff7f963">More...</a><br/></td></tr>
<tr class="separator:a1a9644b0891c8674664e2c80aff7f963"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a407f5a9d77743e830e1d7a59c0d10d9c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a407f5a9d77743e830e1d7a59c0d10d9c">remove_action</a> (int|string verb, object ob)</td></tr>
<tr class="memdesc:a407f5a9d77743e830e1d7a59c0d10d9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">If <code>verb</code> is a string: remove the first action defined by the current object with the given <code>verb</code> from <code>ob</code> (default is <code><a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af" title="Return the current command giver. ">this_player()</a></code>).  <a href="#a407f5a9d77743e830e1d7a59c0d10d9c">More...</a><br/></td></tr>
<tr class="separator:a407f5a9d77743e830e1d7a59c0d10d9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9d968db432f5efab59603401e05b2c7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#aa9d968db432f5efab59603401e05b2c7">remove_call_out</a> (closure fun)</td></tr>
<tr class="memdesc:aa9d968db432f5efab59603401e05b2c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove next pending call-out for function <code>fun</code> in the current object, resp.  <a href="#aa9d968db432f5efab59603401e05b2c7">More...</a><br/></td></tr>
<tr class="separator:aa9d968db432f5efab59603401e05b2c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a351739113e6cf32a6dd7d274c068bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a5a351739113e6cf32a6dd7d274c068bf">remove_input_to</a> (object player, object ob, string fun)</td></tr>
<tr class="memdesc:a5a351739113e6cf32a6dd7d274c068bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a pending input_to from the interactive <code>player</code> object.  <a href="#a5a351739113e6cf32a6dd7d274c068bf">More...</a><br/></td></tr>
<tr class="separator:a5a351739113e6cf32a6dd7d274c068bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd424d044248f14158748c7085f7879a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#acd424d044248f14158748c7085f7879a">remove_interactive</a> (object ob)</td></tr>
<tr class="memdesc:acd424d044248f14158748c7085f7879a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the connection to the interactive object ob.  <a href="#acd424d044248f14158748c7085f7879a">More...</a><br/></td></tr>
<tr class="separator:acd424d044248f14158748c7085f7879a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46d8559623ca6901276f7c8f393cab40"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a46d8559623ca6901276f7c8f393cab40">rename</a> (string from, string to)</td></tr>
<tr class="memdesc:a46d8559623ca6901276f7c8f393cab40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves <code>from</code> to the new name <code>to</code>.  <a href="#a46d8559623ca6901276f7c8f393cab40">More...</a><br/></td></tr>
<tr class="separator:a46d8559623ca6901276f7c8f393cab40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4de6d3ac3373ec8a4d78ebe32c068ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#af4de6d3ac3373ec8a4d78ebe32c068ff">rename_object</a> (object ob, string new_name)</td></tr>
<tr class="memdesc:af4de6d3ac3373ec8a4d78ebe32c068ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Give the object <code>ob</code> a new object name <code>new_name</code>.  <a href="#af4de6d3ac3373ec8a4d78ebe32c068ff">More...</a><br/></td></tr>
<tr class="separator:af4de6d3ac3373ec8a4d78ebe32c068ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dc3b4d26c35f8eeae78a2cc913dfa07"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a0dc3b4d26c35f8eeae78a2cc913dfa07">replace_program</a> (string program)</td></tr>
<tr class="memdesc:a0dc3b4d26c35f8eeae78a2cc913dfa07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Substitutes a program with the inherited program <code>program</code>.  <a href="#a0dc3b4d26c35f8eeae78a2cc913dfa07">More...</a><br/></td></tr>
<tr class="separator:a0dc3b4d26c35f8eeae78a2cc913dfa07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb378a5ffc2d2142a7bf9cae11a04203"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#afb378a5ffc2d2142a7bf9cae11a04203">restore_object</a> (string str)</td></tr>
<tr class="memdesc:afb378a5ffc2d2142a7bf9cae11a04203"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restore values of variables for current object from the file <code>name</code>, or directly from the string <code>str</code>.  <a href="#afb378a5ffc2d2142a7bf9cae11a04203">More...</a><br/></td></tr>
<tr class="separator:afb378a5ffc2d2142a7bf9cae11a04203"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe6abd17dda2f9ae6d294ee24a750a93"><td class="memItemLeft" align="right" valign="top">mixed&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#afe6abd17dda2f9ae6d294ee24a750a93">restore_value</a> (string str)</td></tr>
<tr class="memdesc:afe6abd17dda2f9ae6d294ee24a750a93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode the string representation <code>str</code> of a value back into the value itself and return it.  <a href="#afe6abd17dda2f9ae6d294ee24a750a93">More...</a><br/></td></tr>
<tr class="separator:afe6abd17dda2f9ae6d294ee24a750a93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5b2e07665e24e34a195e790412ef9c3"><td class="memItemLeft" align="right" valign="top">mixed *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ae5b2e07665e24e34a195e790412ef9c3">reverse</a> (mixed *&amp; arg)</td></tr>
<tr class="memdesc:ae5b2e07665e24e34a195e790412ef9c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reverse the content of array or string <code>arg</code> and return the result.  <a href="#ae5b2e07665e24e34a195e790412ef9c3">More...</a><br/></td></tr>
<tr class="separator:ae5b2e07665e24e34a195e790412ef9c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaec3d134cb8138d71a07a58e90503ff1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#aaec3d134cb8138d71a07a58e90503ff1">rm</a> (string file)</td></tr>
<tr class="memdesc:aaec3d134cb8138d71a07a58e90503ff1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove the file.  <a href="#aaec3d134cb8138d71a07a58e90503ff1">More...</a><br/></td></tr>
<tr class="separator:aaec3d134cb8138d71a07a58e90503ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fb85ac66a311b390a291be362fe3f50"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a2fb85ac66a311b390a291be362fe3f50">rmdir</a> (string dir)</td></tr>
<tr class="memdesc:a2fb85ac66a311b390a291be362fe3f50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove directory dir.  <a href="#a2fb85ac66a311b390a291be362fe3f50">More...</a><br/></td></tr>
<tr class="separator:a2fb85ac66a311b390a291be362fe3f50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac150e7930f842694fd159c15bee0fcc8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ac150e7930f842694fd159c15bee0fcc8">rmember</a> (string s, int elem [, int start])</td></tr>
<tr class="memdesc:ac150e7930f842694fd159c15bee0fcc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">For arrays and strings, returns the index of the last occurance of second arg in the first arg, or -1 if none found.  <a href="#ac150e7930f842694fd159c15bee0fcc8">More...</a><br/></td></tr>
<tr class="separator:ac150e7930f842694fd159c15bee0fcc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83a7cffa7753ffb83fec4e27ed711041"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a83a7cffa7753ffb83fec4e27ed711041">rusage</a> (void)</td></tr>
<tr class="memdesc:a83a7cffa7753ffb83fec4e27ed711041"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return an array with current system resource usage statistics, as returned by the getrusage(2) of Unix.  <a href="#a83a7cffa7753ffb83fec4e27ed711041">More...</a><br/></td></tr>
<tr class="separator:a83a7cffa7753ffb83fec4e27ed711041"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f0c2d12abfcccf088e5a10fe1ebbb90"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a5f0c2d12abfcccf088e5a10fe1ebbb90">save_object</a> ([int format])</td></tr>
<tr class="memdesc:a5f0c2d12abfcccf088e5a10fe1ebbb90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode the saveable variables of the current object into a string.  <a href="#a5f0c2d12abfcccf088e5a10fe1ebbb90">More...</a><br/></td></tr>
<tr class="separator:a5f0c2d12abfcccf088e5a10fe1ebbb90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab676d5b80b93cb2d10179256cf89b316"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ab676d5b80b93cb2d10179256cf89b316">save_value</a> (mixed value, int format)</td></tr>
<tr class="memdesc:ab676d5b80b93cb2d10179256cf89b316"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode the <code>value</code> into a string suitable for restoration with <a class="el" href="classefun.html#afe6abd17dda2f9ae6d294ee24a750a93" title="Decode the string representation str of a value back into the value itself and return it...">efun::restore_value()</a> and return it.  <a href="#ab676d5b80b93cb2d10179256cf89b316">More...</a><br/></td></tr>
<tr class="separator:ab676d5b80b93cb2d10179256cf89b316"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9047308a38d0fbf3c038db31e501851d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a9047308a38d0fbf3c038db31e501851d">say</a> (mixed *|mapping|struct|object msg, object  *excludes)</td></tr>
<tr class="memdesc:a9047308a38d0fbf3c038db31e501851d"><td class="mdescLeft">&#160;</td><td class="mdescRight">There are two major modes of calling:  <a href="#a9047308a38d0fbf3c038db31e501851d">More...</a><br/></td></tr>
<tr class="separator:a9047308a38d0fbf3c038db31e501851d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a795ee539a9ce43bfde252f626e49120c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a795ee539a9ce43bfde252f626e49120c">send_erq</a> (int request, string|int * data, closure callback)</td></tr>
<tr class="memdesc:a795ee539a9ce43bfde252f626e49120c"><td class="mdescLeft">&#160;</td><td class="mdescRight">A request of given type (<code>request</code>, default is 0), equipped with the given <code>data</code>, is sent to the erq.  <a href="#a795ee539a9ce43bfde252f626e49120c">More...</a><br/></td></tr>
<tr class="separator:a795ee539a9ce43bfde252f626e49120c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d5022afb32b76215a3bb2697ce6adcf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a5d5022afb32b76215a3bb2697ce6adcf">send_udp</a> (string host, int port, int * message)</td></tr>
<tr class="memdesc:a5d5022afb32b76215a3bb2697ce6adcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends the <code>message</code> in an UDP packet to the given host and port number.  <a href="#a5d5022afb32b76215a3bb2697ce6adcf">More...</a><br/></td></tr>
<tr class="separator:a5d5022afb32b76215a3bb2697ce6adcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae4303bfb007375b5f182294e1fb274e"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a> (string str, int n)</td></tr>
<tr class="memdesc:aae4303bfb007375b5f182294e1fb274e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the new string where bit <code>n</code> is set in string <code>str</code>.  <a href="#aae4303bfb007375b5f182294e1fb274e">More...</a><br/></td></tr>
<tr class="separator:aae4303bfb007375b5f182294e1fb274e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afba603fec22e1ccc3a12010782944847"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#afba603fec22e1ccc3a12010782944847">set_buffer_size</a> (int size)</td></tr>
<tr class="memdesc:afba603fec22e1ccc3a12010782944847"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the socket buffer size for <code><a class="el" href="classefun.html#af4fe93bc840224313bc10d018ef288ad" title="Returns the current interactive object, if any (i.e., the one who hit the RETURN key). ">this_interactive()</a></code> to <code>size</code>, up to a preconfigured maximum, result is the old buffer size (or -1 on systems which aren't able to change the socket buffer).  <a href="#afba603fec22e1ccc3a12010782944847">More...</a><br/></td></tr>
<tr class="separator:afba603fec22e1ccc3a12010782944847"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a279e14b29d8dae86cda6374631c66e6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a279e14b29d8dae86cda6374631c66e6c">set_combine_charset</a> (0)</td></tr>
<tr class="memdesc:a279e14b29d8dae86cda6374631c66e6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the set of characters which can be combined into a single string when already received en-bloc in charmode from the current interactive user.  <a href="#a279e14b29d8dae86cda6374631c66e6c">More...</a><br/></td></tr>
<tr class="separator:a279e14b29d8dae86cda6374631c66e6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18fb8c8f81826d32e697b2912d969d75"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a18fb8c8f81826d32e697b2912d969d75">set_connection_charset</a> (0, int quote_iac)</td></tr>
<tr class="memdesc:a18fb8c8f81826d32e697b2912d969d75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the set of characters that can be output to the interactive user (this does not apply to <a class="el" href="classefun.html#a969d03a0a9e5b5ff3c6a969a0db7a9c0" title="Flush output and send output directly with write without IAC quoting. ">efun::binary_message()</a>).  <a href="#a18fb8c8f81826d32e697b2912d969d75">More...</a><br/></td></tr>
<tr class="separator:a18fb8c8f81826d32e697b2912d969d75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2756bce82caa9cc75107c97064b16922"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a2756bce82caa9cc75107c97064b16922">set_driver_hook</a> (int what, string  *arg)</td></tr>
<tr class="memdesc:a2756bce82caa9cc75107c97064b16922"><td class="mdescLeft">&#160;</td><td class="mdescRight">This privileged efun sets the driver hook 'what' (values are defined in &lt;driver_hook.h&gt;) to 'arg'.  <a href="#a2756bce82caa9cc75107c97064b16922">More...</a><br/></td></tr>
<tr class="separator:a2756bce82caa9cc75107c97064b16922"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af10a6a3226140343c43ee7b4d0c4878b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#af10a6a3226140343c43ee7b4d0c4878b">set_environment</a> (object item, object env)</td></tr>
<tr class="memdesc:af10a6a3226140343c43ee7b4d0c4878b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The item is moved into its new environment env, which may be 0.  <a href="#af10a6a3226140343c43ee7b4d0c4878b">More...</a><br/></td></tr>
<tr class="separator:af10a6a3226140343c43ee7b4d0c4878b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6621468655305aa773e3fc8dca0e1110"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a6621468655305aa773e3fc8dca0e1110">set_extra_wizinfo</a> (int  wiz, mixed extra)</td></tr>
<tr class="memdesc:a6621468655305aa773e3fc8dca0e1110"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the value <code>extra</code> as the 'extra' information for the wizlist entry of <code>wiz</code>.  <a href="#a6621468655305aa773e3fc8dca0e1110">More...</a><br/></td></tr>
<tr class="separator:a6621468655305aa773e3fc8dca0e1110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21da0513dbfa7f5b70128a79f2812358"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a21da0513dbfa7f5b70128a79f2812358">set_extra_wizinfo_size</a> (int)</td></tr>
<tr class="memdesc:a21da0513dbfa7f5b70128a79f2812358"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that the wizlist should contain an array of this size with extra info foreach wizard.  <a href="#a21da0513dbfa7f5b70128a79f2812358">More...</a><br/></td></tr>
<tr class="separator:a21da0513dbfa7f5b70128a79f2812358"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d6c713394a406430daac52a0067b6d8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a5d6c713394a406430daac52a0067b6d8">set_heart_beat</a> (int flag)</td></tr>
<tr class="memdesc:a5d6c713394a406430daac52a0067b6d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable or disable heart beat.  <a href="#a5d6c713394a406430daac52a0067b6d8">More...</a><br/></td></tr>
<tr class="separator:a5d6c713394a406430daac52a0067b6d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a584f6cb45cd80428d8fb9a8563f4c08a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a584f6cb45cd80428d8fb9a8563f4c08a">set_is_wizard</a> (object ob, int n)</td></tr>
<tr class="memdesc:a584f6cb45cd80428d8fb9a8563f4c08a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change object <code>ob</code> wizardhood flag.  <a href="#a584f6cb45cd80428d8fb9a8563f4c08a">More...</a><br/></td></tr>
<tr class="separator:a584f6cb45cd80428d8fb9a8563f4c08a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37d7da9a3d79ee3a75fdeaf3a3305c0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a37d7da9a3d79ee3a75fdeaf3a3305c0b">set_limits</a> (int  *limits)</td></tr>
<tr class="memdesc:a37d7da9a3d79ee3a75fdeaf3a3305c0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the default runtime limits from the given arguments.  <a href="#a37d7da9a3d79ee3a75fdeaf3a3305c0b">More...</a><br/></td></tr>
<tr class="separator:a37d7da9a3d79ee3a75fdeaf3a3305c0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53d32f9a0ba6e86c3ba46dd681005ee4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a53d32f9a0ba6e86c3ba46dd681005ee4">set_max_commands</a> (int num, object obj)</td></tr>
<tr class="memdesc:a53d32f9a0ba6e86c3ba46dd681005ee4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the max number of commands the interactive <code>obj</code> is allowed to execute per second to <code>num</code>.  <a href="#a53d32f9a0ba6e86c3ba46dd681005ee4">More...</a><br/></td></tr>
<tr class="separator:a53d32f9a0ba6e86c3ba46dd681005ee4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48f9b91df9e47b18043fc33e4c28f6d7"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a48f9b91df9e47b18043fc33e4c28f6d7">set_modify_command</a> (int)</td></tr>
<tr class="memdesc:a48f9b91df9e47b18043fc33e4c28f6d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">All commands for the current object (which must interactive) will be passed to <code>ob-&gt;modify_command()</code> before actually being executed.  <a href="#a48f9b91df9e47b18043fc33e4c28f6d7">More...</a><br/></td></tr>
<tr class="separator:a48f9b91df9e47b18043fc33e4c28f6d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa47ffb6cfbbd9789e05bc4af08e6b530"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#aa47ffb6cfbbd9789e05bc4af08e6b530">set_next_reset</a> (int delay)</td></tr>
<tr class="memdesc:aa47ffb6cfbbd9789e05bc4af08e6b530"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instruct the gamedriver to reset this object not earlier than in <code>delay</code> seconds.  <a href="#aa47ffb6cfbbd9789e05bc4af08e6b530">More...</a><br/></td></tr>
<tr class="separator:aa47ffb6cfbbd9789e05bc4af08e6b530"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f3aeee35045ba028e49b799747f610d"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a0f3aeee35045ba028e49b799747f610d">set_prompt</a> (mixed prompt, object ob)</td></tr>
<tr class="memdesc:a0f3aeee35045ba028e49b799747f610d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the prompt given by the first argument for the interactive object instead of the default prompt.  <a href="#a0f3aeee35045ba028e49b799747f610d">More...</a><br/></td></tr>
<tr class="separator:a0f3aeee35045ba028e49b799747f610d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a2c1dbf6eb3f152cd5dc1116b2439b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a0a2c1dbf6eb3f152cd5dc1116b2439b6">set_this_object</a> (object object_to_pretend_to_be)</td></tr>
<tr class="memdesc:a0a2c1dbf6eb3f152cd5dc1116b2439b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a privileged function, only to be used in the master object or in the simul_efun object.  <a href="#a0a2c1dbf6eb3f152cd5dc1116b2439b6">More...</a><br/></td></tr>
<tr class="separator:a0a2c1dbf6eb3f152cd5dc1116b2439b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1bf3a00c85d227ac9d23d415aec2f0d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ae1bf3a00c85d227ac9d23d415aec2f0d">set_this_player</a> (object ob)</td></tr>
<tr class="memdesc:ae1bf3a00c85d227ac9d23d415aec2f0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the current command giver to <code>ob</code>.  <a href="#ae1bf3a00c85d227ac9d23d415aec2f0d">More...</a><br/></td></tr>
<tr class="separator:ae1bf3a00c85d227ac9d23d415aec2f0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a681286799e121e42a3158f8ca5c2f2f4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a681286799e121e42a3158f8ca5c2f2f4">seteuid</a> (string str)</td></tr>
<tr class="memdesc:a681286799e121e42a3158f8ca5c2f2f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set effective uid to <code>str</code>.  <a href="#a681286799e121e42a3158f8ca5c2f2f4">More...</a><br/></td></tr>
<tr class="separator:a681286799e121e42a3158f8ca5c2f2f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a844989770ac8c827cb57b6999c21b92c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a844989770ac8c827cb57b6999c21b92c">sgn</a> (int|float arg)</td></tr>
<tr class="memdesc:a844989770ac8c827cb57b6999c21b92c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the sign of the argument.  <a href="#a844989770ac8c827cb57b6999c21b92c">More...</a><br/></td></tr>
<tr class="separator:a844989770ac8c827cb57b6999c21b92c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac53ffe809c88eeb6af75fedb41d9bfc3"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ac53ffe809c88eeb6af75fedb41d9bfc3">sha1</a> (int *arg [, int iterations ])</td></tr>
<tr class="memdesc:ac53ffe809c88eeb6af75fedb41d9bfc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create and return a SHA1 message digest from <code>arg</code>.  <a href="#ac53ffe809c88eeb6af75fedb41d9bfc3">More...</a><br/></td></tr>
<tr class="separator:ac53ffe809c88eeb6af75fedb41d9bfc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade3d784e3bea08c4f965f503b9b062d1"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ade3d784e3bea08c4f965f503b9b062d1">shadow</a> (object ob, int flag)</td></tr>
<tr class="memdesc:ade3d784e3bea08c4f965f503b9b062d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">If <code>flag</code> is non-zero the current object will shadow <code>ob</code>.  <a href="#ade3d784e3bea08c4f965f503b9b062d1">More...</a><br/></td></tr>
<tr class="separator:ade3d784e3bea08c4f965f503b9b062d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c6184e20b9727f3f7315013af122117"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a4c6184e20b9727f3f7315013af122117">shutdown</a> (int exit_code)</td></tr>
<tr class="memdesc:a4c6184e20b9727f3f7315013af122117"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shutdown the mud, setting the process result code to <code>exit_code</code>, or 0 if not given.  <a href="#a4c6184e20b9727f3f7315013af122117">More...</a><br/></td></tr>
<tr class="separator:a4c6184e20b9727f3f7315013af122117"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a933a36f652c733f5117565524dcaedf3"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a933a36f652c733f5117565524dcaedf3">sin</a> (int|float)</td></tr>
<tr class="memdesc:a933a36f652c733f5117565524dcaedf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the sine of the argument.  <a href="#a933a36f652c733f5117565524dcaedf3">More...</a><br/></td></tr>
<tr class="separator:a933a36f652c733f5117565524dcaedf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b26f2ff266e671649fc060bea19b228"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a1b26f2ff266e671649fc060bea19b228">sizeof</a> (struct xxx val)</td></tr>
<tr class="memdesc:a1b26f2ff266e671649fc060bea19b228"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of elements of an array or struct, the number of characters in a string, or the number of keys in a mapping.  <a href="#a1b26f2ff266e671649fc060bea19b228">More...</a><br/></td></tr>
<tr class="separator:a1b26f2ff266e671649fc060bea19b228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d350e15339896d085ea396ce81e6fd9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a1d350e15339896d085ea396ce81e6fd9">sl_close</a> ()</td></tr>
<tr class="memdesc:a1d350e15339896d085ea396ce81e6fd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the SQLite database associated with the current object.  <a href="#a1d350e15339896d085ea396ce81e6fd9">More...</a><br/></td></tr>
<tr class="separator:a1d350e15339896d085ea396ce81e6fd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93887966f6a6b49721dc3b22575821d2"><td class="memItemLeft" align="right" valign="top">mixed *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a93887966f6a6b49721dc3b22575821d2">sl_exec</a> (string statement,...)</td></tr>
<tr class="memdesc:a93887966f6a6b49721dc3b22575821d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes the SQL statement <code>statement</code> for the current SQLite database.  <a href="#a93887966f6a6b49721dc3b22575821d2">More...</a><br/></td></tr>
<tr class="separator:a93887966f6a6b49721dc3b22575821d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c6153ce59073c021a9958d325e51cd6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a5c6153ce59073c021a9958d325e51cd6">sl_insert_id</a> ()</td></tr>
<tr class="memdesc:a5c6153ce59073c021a9958d325e51cd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">After inserting a line into a table with an <code>AUTO_INCREMENT</code> field, this efun can be used to return the (new) value of the <code>AUTO_INCREMENT</code> field.  <a href="#a5c6153ce59073c021a9958d325e51cd6">More...</a><br/></td></tr>
<tr class="separator:a5c6153ce59073c021a9958d325e51cd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace394a72e7da146b9eff935f208356ce"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ace394a72e7da146b9eff935f208356ce">sl_open</a> (string filename)</td></tr>
<tr class="memdesc:ace394a72e7da146b9eff935f208356ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens the file <code>filename</code> for use as a SQLite database.  <a href="#ace394a72e7da146b9eff935f208356ce">More...</a><br/></td></tr>
<tr class="separator:ace394a72e7da146b9eff935f208356ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f2f48f11700222aaa6e712ef7992a33"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a9f2f48f11700222aaa6e712ef7992a33">snoop</a> (object snooper, object snoopee)</td></tr>
<tr class="memdesc:a9f2f48f11700222aaa6e712ef7992a33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a snoop from <code>snooper</code> on <code>snoopee</code>, or if <code>snoopee</code> is not given, terminates any snoop from <code>snooper</code>.  <a href="#a9f2f48f11700222aaa6e712ef7992a33">More...</a><br/></td></tr>
<tr class="separator:a9f2f48f11700222aaa6e712ef7992a33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a726e9875b6a71d74e719bf470c00bbf4"><td class="memItemLeft" align="right" valign="top">mixed *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a726e9875b6a71d74e719bf470c00bbf4">sort_array</a> (mixed  *arr, closure cl, mixed extra...)</td></tr>
<tr class="memdesc:a726e9875b6a71d74e719bf470c00bbf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sort the copy either by the ordering function <code>ob-&gt;wrong_order(a, b)</code>, or by the closure expression <code>cl</code>.  <a href="#a726e9875b6a71d74e719bf470c00bbf4">More...</a><br/></td></tr>
<tr class="separator:a726e9875b6a71d74e719bf470c00bbf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afda00b52a57aac8ce24bc5f5a5dc9cc8"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#afda00b52a57aac8ce24bc5f5a5dc9cc8">sprintf</a> (string fmt,...)</td></tr>
<tr class="memdesc:afda00b52a57aac8ce24bc5f5a5dc9cc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Most of the characters in the format string <code>fmt</code> get passed straight through to the output (i.e.  <a href="#afda00b52a57aac8ce24bc5f5a5dc9cc8">More...</a><br/></td></tr>
<tr class="separator:afda00b52a57aac8ce24bc5f5a5dc9cc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01fc0ca89e5b3b03493bd218b85bbd3f"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a01fc0ca89e5b3b03493bd218b85bbd3f">sqrt</a> (int|float)</td></tr>
<tr class="memdesc:a01fc0ca89e5b3b03493bd218b85bbd3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the square root of the argument.  <a href="#a01fc0ca89e5b3b03493bd218b85bbd3f">More...</a><br/></td></tr>
<tr class="separator:a01fc0ca89e5b3b03493bd218b85bbd3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45e3a155fb859f16c2600eac07df15f5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a45e3a155fb859f16c2600eac07df15f5">sscanf</a> (string str, string fmt, mixed var1, mixed var2,...)</td></tr>
<tr class="memdesc:a45e3a155fb859f16c2600eac07df15f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse a string <code>str</code> using the format <code>fmt</code>.  <a href="#a45e3a155fb859f16c2600eac07df15f5">More...</a><br/></td></tr>
<tr class="separator:a45e3a155fb859f16c2600eac07df15f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0942012412ffa3f64f1d7c92352a805e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a0942012412ffa3f64f1d7c92352a805e">start_mccp_compress</a> (int telopt)</td></tr>
<tr class="memdesc:a0942012412ffa3f64f1d7c92352a805e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This efun must be called inside an interactive player and starts the compression of the driver -&gt; client traffic.  <a href="#a0942012412ffa3f64f1d7c92352a805e">More...</a><br/></td></tr>
<tr class="separator:a0942012412ffa3f64f1d7c92352a805e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76c8311a125456baec350628b227e039"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a76c8311a125456baec350628b227e039">strftime</a> (string fmt, int clock, int localized)</td></tr>
<tr class="memdesc:a76c8311a125456baec350628b227e039"><td class="mdescLeft">&#160;</td><td class="mdescRight">Formats the given time in <code>clock</code> as a string, similar to <a class="el" href="classefun.html#a0063aa195f706f56b790a045c06afcb1" title="Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0.00 and convert it to a nice...">efun::ctime()</a>.  <a href="#a76c8311a125456baec350628b227e039">More...</a><br/></td></tr>
<tr class="separator:a76c8311a125456baec350628b227e039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad45cc3605ecbe92c52b8c1c8408da017"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ad45cc3605ecbe92c52b8c1c8408da017">stringp</a> (mixed arg)</td></tr>
<tr class="memdesc:ad45cc3605ecbe92c52b8c1c8408da017"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return 1 if <code>arg</code> is a string.  <a href="#ad45cc3605ecbe92c52b8c1c8408da017">More...</a><br/></td></tr>
<tr class="separator:ad45cc3605ecbe92c52b8c1c8408da017"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61d5a7558155b9c73a1fbecae6d8b36c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a61d5a7558155b9c73a1fbecae6d8b36c">strlen</a> (string str)</td></tr>
<tr class="memdesc:a61d5a7558155b9c73a1fbecae6d8b36c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the length of the string <code>str</code>.  <a href="#a61d5a7558155b9c73a1fbecae6d8b36c">More...</a><br/></td></tr>
<tr class="separator:a61d5a7558155b9c73a1fbecae6d8b36c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd0c94bd4ea45cc6849449ef057d75cf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#abd0c94bd4ea45cc6849449ef057d75cf">strrstr</a> (string str, string str2, int pos)</td></tr>
<tr class="memdesc:abd0c94bd4ea45cc6849449ef057d75cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the index of the first occurence of <code>str2</code> in <code>str</code> searching from position <code>pos</code> (default: <code>-1 == string end</code>) on backward.  <a href="#abd0c94bd4ea45cc6849449ef057d75cf">More...</a><br/></td></tr>
<tr class="separator:abd0c94bd4ea45cc6849449ef057d75cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09de518ee7570ad7b1eb69f575ca3abf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a09de518ee7570ad7b1eb69f575ca3abf">strstr</a> (string str, string str2, int pos)</td></tr>
<tr class="memdesc:a09de518ee7570ad7b1eb69f575ca3abf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the index of <code>str2</code> in <code>str</code>, searching from position <code>pos</code> on.  <a href="#a09de518ee7570ad7b1eb69f575ca3abf">More...</a><br/></td></tr>
<tr class="separator:a09de518ee7570ad7b1eb69f575ca3abf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8280ed5a59ba55516e4b7bd063283287"><td class="memItemLeft" align="right" valign="top">mixed *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a8280ed5a59ba55516e4b7bd063283287">struct_info</a> (struct st, int what)</td></tr>
<tr class="memdesc:a8280ed5a59ba55516e4b7bd063283287"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return an array of information about the structure of struct <code>st</code>.  <a href="#a8280ed5a59ba55516e4b7bd063283287">More...</a><br/></td></tr>
<tr class="separator:a8280ed5a59ba55516e4b7bd063283287"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f75bb586fd744aa865714d4bab27b34"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a1f75bb586fd744aa865714d4bab27b34">structp</a> (mixed arg)</td></tr>
<tr class="memdesc:a1f75bb586fd744aa865714d4bab27b34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return 1 if <code>arg</code> is a struct.  <a href="#a1f75bb586fd744aa865714d4bab27b34">More...</a><br/></td></tr>
<tr class="separator:a1f75bb586fd744aa865714d4bab27b34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e75e21c1d36f34d61a3061795c11c09"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a0e75e21c1d36f34d61a3061795c11c09">swap</a> (object obj)</td></tr>
<tr class="memdesc:a0e75e21c1d36f34d61a3061795c11c09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Swap out an object.  <a href="#a0e75e21c1d36f34d61a3061795c11c09">More...</a><br/></td></tr>
<tr class="separator:a0e75e21c1d36f34d61a3061795c11c09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f70cb143146d31cee7c413d2f0a0b9a"><td class="memItemLeft" align="right" valign="top">closure&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a6f70cb143146d31cee7c413d2f0a0b9a">symbol_function</a> (string arg, object|string ob)</td></tr>
<tr class="memdesc:a6f70cb143146d31cee7c413d2f0a0b9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a lfun closure, efun closure, or operator closure from the first arg (string or symbol).  <a href="#a6f70cb143146d31cee7c413d2f0a0b9a">More...</a><br/></td></tr>
<tr class="separator:a6f70cb143146d31cee7c413d2f0a0b9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7fc587fe8fda9d328a501c95f70bc92"><td class="memItemLeft" align="right" valign="top">closure&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ac7fc587fe8fda9d328a501c95f70bc92">symbol_variable</a> (int arg)</td></tr>
<tr class="memdesc:ac7fc587fe8fda9d328a501c95f70bc92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs an identifier (lfun) closure from the global variable <code>arg</code> of the current program.  <a href="#ac7fc587fe8fda9d328a501c95f70bc92">More...</a><br/></td></tr>
<tr class="separator:ac7fc587fe8fda9d328a501c95f70bc92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0bbde61230276ac5155fa61b54c63f2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#aa0bbde61230276ac5155fa61b54c63f2">symbolp</a> (mixed value)</td></tr>
<tr class="memdesc:aa0bbde61230276ac5155fa61b54c63f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns 1 if <code>value</code> is a symbol.  <a href="#aa0bbde61230276ac5155fa61b54c63f2">More...</a><br/></td></tr>
<tr class="separator:aa0bbde61230276ac5155fa61b54c63f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0d1c93eb42a5e19a95fcf72d189ab2f"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ae0d1c93eb42a5e19a95fcf72d189ab2f">tan</a> (int|float)</td></tr>
<tr class="memdesc:ae0d1c93eb42a5e19a95fcf72d189ab2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the tangent of the argument.  <a href="#ae0d1c93eb42a5e19a95fcf72d189ab2f">More...</a><br/></td></tr>
<tr class="separator:ae0d1c93eb42a5e19a95fcf72d189ab2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac82979d3c13cf20f0fd4b2269248a9ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ac82979d3c13cf20f0fd4b2269248a9ab">tell_object</a> (object|string ob, mixed *|mapping|struct|object msg)</td></tr>
<tr class="memdesc:ac82979d3c13cf20f0fd4b2269248a9ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a message <code>str</code> to object <code>ob</code> (which is looked up and loaded by given name if necessary).  <a href="#ac82979d3c13cf20f0fd4b2269248a9ab">More...</a><br/></td></tr>
<tr class="separator:ac82979d3c13cf20f0fd4b2269248a9ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6b55cee01890c09a421e1c8031bf098"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ad6b55cee01890c09a421e1c8031bf098">tell_room</a> (string|object ob, mixed *|mapping|struct|object msg, object  *exclude)</td></tr>
<tr class="memdesc:ad6b55cee01890c09a421e1c8031bf098"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a message <code>str</code> to all living objects in the room <code>ob</code>.  <a href="#ad6b55cee01890c09a421e1c8031bf098">More...</a><br/></td></tr>
<tr class="separator:ad6b55cee01890c09a421e1c8031bf098"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5174fcc80f51ca366f5cfb84e3dd4f15"><td class="memItemLeft" align="right" valign="top">varargs string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a5174fcc80f51ca366f5cfb84e3dd4f15">terminal_colour</a> (string str, null|mapping|closure map, int wrap, int indent)</td></tr>
<tr class="memdesc:a5174fcc80f51ca366f5cfb84e3dd4f15"><td class="mdescLeft">&#160;</td><td class="mdescRight">If <code>map</code> is given as a non-0 value, this efun expands all colour-defines of the form "%^KEY%^" (see below for details) from the input-string and replaces them by the apropriate values found for the color-key specified by <code>map</code>.  <a href="#a5174fcc80f51ca366f5cfb84e3dd4f15">More...</a><br/></td></tr>
<tr class="separator:a5174fcc80f51ca366f5cfb84e3dd4f15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f992595c33434f4657015ffe765d2bc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a1f992595c33434f4657015ffe765d2bc">test_bit</a> (string str, int n)</td></tr>
<tr class="memdesc:a1f992595c33434f4657015ffe765d2bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return 0 or 1 if bit <code>n</code> was set in string <code>str</code>.  <a href="#a1f992595c33434f4657015ffe765d2bc">More...</a><br/></td></tr>
<tr class="separator:a1f992595c33434f4657015ffe765d2bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4fe93bc840224313bc10d018ef288ad"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#af4fe93bc840224313bc10d018ef288ad">this_interactive</a> (void)</td></tr>
<tr class="memdesc:af4fe93bc840224313bc10d018ef288ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current interactive object, if any (i.e., the one who hit the <code>RETURN</code> key).  <a href="#af4fe93bc840224313bc10d018ef288ad">More...</a><br/></td></tr>
<tr class="separator:af4fe93bc840224313bc10d018ef288ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3beb87980adf6911709c4c431e244488"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488">this_object</a> (void)</td></tr>
<tr class="memdesc:a3beb87980adf6911709c4c431e244488"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the object pointer for this object.  <a href="#a3beb87980adf6911709c4c431e244488">More...</a><br/></td></tr>
<tr class="separator:a3beb87980adf6911709c4c431e244488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23dc6aa65a7477371df722a647b661af"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af">this_player</a> (void)</td></tr>
<tr class="memdesc:a23dc6aa65a7477371df722a647b661af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the current command giver.  <a href="#a23dc6aa65a7477371df722a647b661af">More...</a><br/></td></tr>
<tr class="separator:a23dc6aa65a7477371df722a647b661af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a206a58fea219e3186d92d4adf5c3ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a4a206a58fea219e3186d92d4adf5c3ea">throw</a> (mixed message)</td></tr>
<tr class="memdesc:a4a206a58fea219e3186d92d4adf5c3ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abort execution.  <a href="#a4a206a58fea219e3186d92d4adf5c3ea">More...</a><br/></td></tr>
<tr class="separator:a4a206a58fea219e3186d92d4adf5c3ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa560fa38ca94599aa767ccb916e9bce7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#aa560fa38ca94599aa767ccb916e9bce7">time</a> ()</td></tr>
<tr class="memdesc:aa560fa38ca94599aa767ccb916e9bce7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return number of seconds elapsed since `1.  <a href="#aa560fa38ca94599aa767ccb916e9bce7">More...</a><br/></td></tr>
<tr class="separator:aa560fa38ca94599aa767ccb916e9bce7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a673b9f37b9750af6efb10678180461ab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a673b9f37b9750af6efb10678180461ab">tls_available</a> ()</td></tr>
<tr class="memdesc:a673b9f37b9750af6efb10678180461ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the global TLS initialisation could not be set up, <code>tls_is_available()</code> returns 0, otherwise 1.  <a href="#a673b9f37b9750af6efb10678180461ab">More...</a><br/></td></tr>
<tr class="separator:a673b9f37b9750af6efb10678180461ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c31ebf810d2ec2717c8b6f7245d241b"><td class="memItemLeft" align="right" valign="top">mixed *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a0c31ebf810d2ec2717c8b6f7245d241b">tls_check_certificate</a> (object obj, int extra)</td></tr>
<tr class="memdesc:a0c31ebf810d2ec2717c8b6f7245d241b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the certificate of the secured connection bound to <code>obj</code> (default is the current object).  <a href="#a0c31ebf810d2ec2717c8b6f7245d241b">More...</a><br/></td></tr>
<tr class="separator:a0c31ebf810d2ec2717c8b6f7245d241b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a640eca286d6cfbc9d0f9f40f7b31269d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a640eca286d6cfbc9d0f9f40f7b31269d">tls_deinit_connection</a> (object ob)</td></tr>
<tr class="memdesc:a640eca286d6cfbc9d0f9f40f7b31269d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shuts down a TLS connection to the interactive object <code>ob</code> (or <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code> if <code>ob</code> is not given) but the connection is not closed.  <a href="#a640eca286d6cfbc9d0f9f40f7b31269d">More...</a><br/></td></tr>
<tr class="separator:a640eca286d6cfbc9d0f9f40f7b31269d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab298aabbd06837fdab935ae82260e51f"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ab298aabbd06837fdab935ae82260e51f">tls_error</a> (int errorno)</td></tr>
<tr class="memdesc:ab298aabbd06837fdab935ae82260e51f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string describing the error behind the error number <code>errorno</code>.  <a href="#ab298aabbd06837fdab935ae82260e51f">More...</a><br/></td></tr>
<tr class="separator:ab298aabbd06837fdab935ae82260e51f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b5de31f232caee7f2bdfb50e9a626ec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a8b5de31f232caee7f2bdfb50e9a626ec">tls_init_connection</a> (object ob, closure fun, mixed extra...)</td></tr>
<tr class="memdesc:a8b5de31f232caee7f2bdfb50e9a626ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tries to start a TLS-secured connection to the interactive object <code>ob</code> (or <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code> if <code>ob</code> is not given).  <a href="#a8b5de31f232caee7f2bdfb50e9a626ec">More...</a><br/></td></tr>
<tr class="separator:a8b5de31f232caee7f2bdfb50e9a626ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fff6671c194e17e8d07f03256faf626"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a8fff6671c194e17e8d07f03256faf626">tls_query_connection_info</a> (object ob)</td></tr>
<tr class="memdesc:a8fff6671c194e17e8d07f03256faf626"><td class="mdescLeft">&#160;</td><td class="mdescRight">If <code>ob</code> does not have a TLS connection, if the connection is still being set-up, or if <code>ob</code> is not interactive, the efun returns 0.  <a href="#a8fff6671c194e17e8d07f03256faf626">More...</a><br/></td></tr>
<tr class="separator:a8fff6671c194e17e8d07f03256faf626"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d9e28db0cff9d02318184eb56aafdba"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a1d9e28db0cff9d02318184eb56aafdba">tls_query_connection_state</a> (object ob)</td></tr>
<tr class="memdesc:a1d9e28db0cff9d02318184eb56aafdba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a positive number if <code>ob</code> connection is TLS secured, 0 if it's unsecured, and a negative number if the TLS connection is still being set-up.  <a href="#a1d9e28db0cff9d02318184eb56aafdba">More...</a><br/></td></tr>
<tr class="separator:a1d9e28db0cff9d02318184eb56aafdba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30bd281e29f7465ed9ff74217be3f760"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a30bd281e29f7465ed9ff74217be3f760">tls_refresh_certs</a> ()</td></tr>
<tr class="memdesc:a30bd281e29f7465ed9ff74217be3f760"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reload the certificates and certificate revocation information.  <a href="#a30bd281e29f7465ed9ff74217be3f760">More...</a><br/></td></tr>
<tr class="separator:a30bd281e29f7465ed9ff74217be3f760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6744067ae555fa96eede33f8b186f2e8"><td class="memItemLeft" align="right" valign="top">mixed&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a6744067ae555fa96eede33f8b186f2e8">to_struct</a> (struct data, struct template)</td></tr>
<tr class="memdesc:a6744067ae555fa96eede33f8b186f2e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The given array, mapping or struct <code>data</code> is returned as a struct.  <a href="#a6744067ae555fa96eede33f8b186f2e8">More...</a><br/></td></tr>
<tr class="separator:a6744067ae555fa96eede33f8b186f2e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10ab58b2ef6365c8851dcc8f9d6def03"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a10ab58b2ef6365c8851dcc8f9d6def03">trace</a> (int traceflags)</td></tr>
<tr class="memdesc:a10ab58b2ef6365c8851dcc8f9d6def03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the trace flags and returns the old trace flags.  <a href="#a10ab58b2ef6365c8851dcc8f9d6def03">More...</a><br/></td></tr>
<tr class="separator:a10ab58b2ef6365c8851dcc8f9d6def03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0416a70b75e06959cea1a9a50f9a12e"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#af0416a70b75e06959cea1a9a50f9a12e">traceprefix</a> (int dummy)</td></tr>
<tr class="memdesc:af0416a70b75e06959cea1a9a50f9a12e"><td class="mdescLeft">&#160;</td><td class="mdescRight">If called with a string, only objects matching this prefix will be traced.  <a href="#af0416a70b75e06959cea1a9a50f9a12e">More...</a><br/></td></tr>
<tr class="separator:af0416a70b75e06959cea1a9a50f9a12e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a005a3e81b3a804ec38fbbe1fdadd7beb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a005a3e81b3a804ec38fbbe1fdadd7beb">transfer</a> (object item, object dest)</td></tr>
<tr class="memdesc:a005a3e81b3a804ec38fbbe1fdadd7beb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This efun is for backward compatibility only.  <a href="#a005a3e81b3a804ec38fbbe1fdadd7beb">More...</a><br/></td></tr>
<tr class="separator:a005a3e81b3a804ec38fbbe1fdadd7beb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4a9f331461f994362f7b3cda352dbea"><td class="memItemLeft" align="right" valign="top">mixed *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ab4a9f331461f994362f7b3cda352dbea">transpose_array</a> (mixed  *arr)</td></tr>
<tr class="memdesc:ab4a9f331461f994362f7b3cda352dbea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Applied to an alist, results in an array of <code>({ key, data })</code> pairs, useful if you want to use <a class="el" href="classefun.html#a726e9875b6a71d74e719bf470c00bbf4" title="Sort the copy either by the ordering function ob-&gt;wrong_order(a, b), or by the closure expression cl...">efun::sort_array()</a> or <a class="el" href="classefun.html#ac5e7282ed029a438608ee96f18052e33" title="Call the function &lt;ob&gt;-&gt;&lt;func&gt;() resp. ">efun::filter()</a> on the alist.  <a href="#ab4a9f331461f994362f7b3cda352dbea">More...</a><br/></td></tr>
<tr class="separator:ab4a9f331461f994362f7b3cda352dbea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af80dda2f2c6c28eac1373d859e1ad6b5"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#af80dda2f2c6c28eac1373d859e1ad6b5">trim</a> (string s, int where, string ch)</td></tr>
<tr class="memdesc:af80dda2f2c6c28eac1373d859e1ad6b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all leading and trailing characters <code>ch</code> from the string <code>s</code> and return the new string.  <a href="#af80dda2f2c6c28eac1373d859e1ad6b5">More...</a><br/></td></tr>
<tr class="separator:af80dda2f2c6c28eac1373d859e1ad6b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c59429dab21cfd036e4a73cdb0d6eed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a2c59429dab21cfd036e4a73cdb0d6eed">typeof</a> (mixed)</td></tr>
<tr class="memdesc:a2c59429dab21cfd036e4a73cdb0d6eed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a code for the type of the argument, as defined in &lt;lpctypes.h&gt;.  <a href="#a2c59429dab21cfd036e4a73cdb0d6eed">More...</a><br/></td></tr>
<tr class="separator:a2c59429dab21cfd036e4a73cdb0d6eed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7e5e12d8853c0b52534f8a8e57dcef6"><td class="memItemLeft" align="right" valign="top">closure&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#ad7e5e12d8853c0b52534f8a8e57dcef6">unbound_lambda</a> (mixed  *args, mixed)</td></tr>
<tr class="memdesc:ad7e5e12d8853c0b52534f8a8e57dcef6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a lambda closure that is not bound to an object, like lambda function in LISP.  <a href="#ad7e5e12d8853c0b52534f8a8e57dcef6">More...</a><br/></td></tr>
<tr class="separator:ad7e5e12d8853c0b52534f8a8e57dcef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaf15fda40a0e965f474935d37b905a2"><td class="memItemLeft" align="right" valign="top">mixed&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#afaf15fda40a0e965f474935d37b905a2">unique_array</a> (object  *obarr, string|closure fun, mixed extra..., mixed skip)</td></tr>
<tr class="memdesc:afaf15fda40a0e965f474935d37b905a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Groups objects together for which the separator function returns the same value.  <a href="#afaf15fda40a0e965f474935d37b905a2">More...</a><br/></td></tr>
<tr class="separator:afaf15fda40a0e965f474935d37b905a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadbb0164f8028ef61dbf76a2db6ff243"><td class="memItemLeft" align="right" valign="top">mixed *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#aadbb0164f8028ef61dbf76a2db6ff243">unmkmapping</a> (mapping map)</td></tr>
<tr class="memdesc:aadbb0164f8028ef61dbf76a2db6ff243"><td class="mdescLeft">&#160;</td><td class="mdescRight">Take mapping <code>map</code> and return an array of arrays with the keys and values from the mapping.  <a href="#aadbb0164f8028ef61dbf76a2db6ff243">More...</a><br/></td></tr>
<tr class="separator:aadbb0164f8028ef61dbf76a2db6ff243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a412a4ce68bb23fc7517d0c6c31a1905f"><td class="memItemLeft" align="right" valign="top">string symbol&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a412a4ce68bb23fc7517d0c6c31a1905f">unquote</a> (symbol)</td></tr>
<tr class="memdesc:a412a4ce68bb23fc7517d0c6c31a1905f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a quote from quoted arrays and symbols.  <a href="#a412a4ce68bb23fc7517d0c6c31a1905f">More...</a><br/></td></tr>
<tr class="separator:a412a4ce68bb23fc7517d0c6c31a1905f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05070447e0963d3e53f870fd8a1e1112"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a05070447e0963d3e53f870fd8a1e1112">unshadow</a> (void)</td></tr>
<tr class="memdesc:a05070447e0963d3e53f870fd8a1e1112"><td class="mdescLeft">&#160;</td><td class="mdescRight">The calling object stops shadowing any other object.  <a href="#a05070447e0963d3e53f870fd8a1e1112">More...</a><br/></td></tr>
<tr class="separator:a05070447e0963d3e53f870fd8a1e1112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fa30d4685b1295a17eaf188456796c1"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a3fa30d4685b1295a17eaf188456796c1">upper_case</a> (string str)</td></tr>
<tr class="memdesc:a3fa30d4685b1295a17eaf188456796c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert all characters in str to upper case, and return the new string.  <a href="#a3fa30d4685b1295a17eaf188456796c1">More...</a><br/></td></tr>
<tr class="separator:a3fa30d4685b1295a17eaf188456796c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46c12392d13bc3a5c91c20a6f7de7c7c"><td class="memItemLeft" align="right" valign="top">object *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a46c12392d13bc3a5c91c20a6f7de7c7c">users</a> (void)</td></tr>
<tr class="memdesc:a46c12392d13bc3a5c91c20a6f7de7c7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return an array containing all interactive users.  <a href="#a46c12392d13bc3a5c91c20a6f7de7c7c">More...</a><br/></td></tr>
<tr class="separator:a46c12392d13bc3a5c91c20a6f7de7c7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b84da42b3b5f804d14762ddfcc3da91"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a3b84da42b3b5f804d14762ddfcc3da91">utime</a> ()</td></tr>
<tr class="memdesc:a3b84da42b3b5f804d14762ddfcc3da91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the time since `1.  <a href="#a3b84da42b3b5f804d14762ddfcc3da91">More...</a><br/></td></tr>
<tr class="separator:a3b84da42b3b5f804d14762ddfcc3da91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2801e7dd302b68995897babaee958d39"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a2801e7dd302b68995897babaee958d39">variable_exists</a> (string str, object ob, int flags)</td></tr>
<tr class="memdesc:a2801e7dd302b68995897babaee958d39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look up a variable <code>str</code> in the current object, respectively in the object <code>ob</code>.  <a href="#a2801e7dd302b68995897babaee958d39">More...</a><br/></td></tr>
<tr class="separator:a2801e7dd302b68995897babaee958d39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b94e483c0d2c57a5860cfd36280c100"><td class="memItemLeft" align="right" valign="top">mixed *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a5b94e483c0d2c57a5860cfd36280c100">variable_list</a> (object ob, int flags)</td></tr>
<tr class="memdesc:a5b94e483c0d2c57a5860cfd36280c100"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return an array with information about <code>ob</code> variables.  <a href="#a5b94e483c0d2c57a5860cfd36280c100">More...</a><br/></td></tr>
<tr class="separator:a5b94e483c0d2c57a5860cfd36280c100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82aceeaafc69a2ea441ad52f4657e216"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a82aceeaafc69a2ea441ad52f4657e216">walk_mapping</a> (mapping m, closure cl, mixed extra,...)</td></tr>
<tr class="memdesc:a82aceeaafc69a2ea441ad52f4657e216"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls <code>ob-&gt;func(key, value1, ..., valueN, extra,...)</code> resp.  <a href="#a82aceeaafc69a2ea441ad52f4657e216">More...</a><br/></td></tr>
<tr class="separator:a82aceeaafc69a2ea441ad52f4657e216"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd02e530c8ad0620b241d0933fdc91da"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#abd02e530c8ad0620b241d0933fdc91da">widthof</a> (mapping map)</td></tr>
<tr class="memdesc:abd02e530c8ad0620b241d0933fdc91da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of values per key of mapping <code>map</code>.  <a href="#abd02e530c8ad0620b241d0933fdc91da">More...</a><br/></td></tr>
<tr class="separator:abd02e530c8ad0620b241d0933fdc91da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68a193afd07ce9f74d4722f8ae4e1efd"><td class="memItemLeft" align="right" valign="top">mixed *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a68a193afd07ce9f74d4722f8ae4e1efd">wizlist_info</a> ()</td></tr>
<tr class="memdesc:a68a193afd07ce9f74d4722f8ae4e1efd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an array with the interesting entries of the wizlist.  <a href="#a68a193afd07ce9f74d4722f8ae4e1efd">More...</a><br/></td></tr>
<tr class="separator:a68a193afd07ce9f74d4722f8ae4e1efd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afacd7cdaff7309a4b579f4c14db53662"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a> (mixed msg)</td></tr>
<tr class="memdesc:afacd7cdaff7309a4b579f4c14db53662"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write out something to the current user.  <a href="#afacd7cdaff7309a4b579f4c14db53662">More...</a><br/></td></tr>
<tr class="separator:afacd7cdaff7309a4b579f4c14db53662"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aace43816f21156a6d6f2487d1a4d43c8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#aace43816f21156a6d6f2487d1a4d43c8">write_bytes</a> (string file, int start, string str)</td></tr>
<tr class="memdesc:aace43816f21156a6d6f2487d1a4d43c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write string str to file file by overwriting the old bytes at position start.  <a href="#aace43816f21156a6d6f2487d1a4d43c8">More...</a><br/></td></tr>
<tr class="separator:aace43816f21156a6d6f2487d1a4d43c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a383474b75b88587a17308ed30dfea60d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#a383474b75b88587a17308ed30dfea60d">write_file</a> (string file, string str, int flags)</td></tr>
<tr class="memdesc:a383474b75b88587a17308ed30dfea60d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Append the string <code>str</code> to the file <code>file</code>.  <a href="#a383474b75b88587a17308ed30dfea60d">More...</a><br/></td></tr>
<tr class="separator:a383474b75b88587a17308ed30dfea60d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec4e2d3906875b1b96cfbd0bfa3d7100"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#aec4e2d3906875b1b96cfbd0bfa3d7100">xml_generate</a> (mixed  *xml)</td></tr>
<tr class="memdesc:aec4e2d3906875b1b96cfbd0bfa3d7100"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts the given <code>xml</code> array into an XML conformant string, if possible.  <a href="#aec4e2d3906875b1b96cfbd0bfa3d7100">More...</a><br/></td></tr>
<tr class="separator:aec4e2d3906875b1b96cfbd0bfa3d7100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeda3e1403911d376dd0db4b9b501dc62"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classefun.html#aeda3e1403911d376dd0db4b9b501dc62">xor_bits</a> (string str1, string str2)</td></tr>
<tr class="memdesc:aeda3e1403911d376dd0db4b9b501dc62"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>str1</code> and <code>str2</code> are both bitstrings.  <a href="#aeda3e1403911d376dd0db4b9b501dc62">More...</a><br/></td></tr>
<tr class="separator:aeda3e1403911d376dd0db4b9b501dc62"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="abs_8c_source.html#l00001">1</a> of file <a class="el" href="abs_8c_source.html">abs.c</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab3455bc278e2680045694e1aa4bd4a22"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float abs </td>
          <td>(</td>
          <td class="paramtype">float number&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the absolute value of <code>number</code>. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#ab3455bc278e2680045694e1aa4bd4a22">abs</a>(int number)</div>
<div class="line">float <a class="code" href="classefun.html#ab3455bc278e2680045694e1aa4bd4a22">abs</a>(float number)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><a class="code" href="classefun.html#ab3455bc278e2680045694e1aa4bd4a22">abs</a>(-18)    - returns 18</div>
<div class="line"><a class="code" href="classefun.html#ab3455bc278e2680045694e1aa4bd4a22">abs</a>(11)     - returns 11</div>
<div class="line"><a class="code" href="classefun.html#ab3455bc278e2680045694e1aa4bd4a22">abs</a>(-1.974) - returns 1.974</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.6)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a933a36f652c733f5117565524dcaedf3" title="Returns the sine of the argument. ">efun::sin()</a>, <a class="el" href="classefun.html#a78b9d0583bd0699e2eac30d2a136817a" title="Returns the arcus sine of its argument. ">efun::asin()</a>, <a class="el" href="classefun.html#af6e6d9edd947ede82b886aa6fb924761" title="Returns the cosinus of the argument. ">efun::cos()</a>, <a class="el" href="classefun.html#a07648648c7f857cfd1479821d4389751" title="Returns the arcus cosine of the argument. ">efun::acos()</a>, <a class="el" href="classefun.html#ae0d1c93eb42a5e19a95fcf72d189ab2f" title="Returns the tangent of the argument. ">efun::tan()</a>, <a class="el" href="classefun.html#a0b28d79466130f759e16240979e44f0d" title="Returns the argument&#39;s arcus tangent. ">efun::atan()</a>, <a class="el" href="classefun.html#a14fd4cedd664420252059fe942d96424" title="Returns the natural logarithm of its argument. ">efun::log()</a>, <a class="el" href="classefun.html#a50fe46ccac04a290922b0752c2dfa4a5" title="The exponential function. ">efun::exp()</a>, <a class="el" href="classefun.html#a01fc0ca89e5b3b03493bd218b85bbd3f" title="Returns the square root of the argument. ">efun::sqrt()</a>, <a class="el" href="classefun.html#a3a15332be362222ad502e21d511bd239" title="Round the number downwards the nearest whole number, returning that value. ">efun::floor()</a>, <a class="el" href="classefun.html#af5c93b9b06a11a60e5920f4c099937e0" title="Round the number upwards the nearest whole number, returning that value. ">efun::ceil()</a>, <a class="el" href="classefun.html#a23db3b9d4dcad4bf886083af59f2f5a2" title="The function returns the value of base raised to the power of exp. ">efun::pow()</a>, <a class="el" href="classefun.html#a844989770ac8c827cb57b6999c21b92c" title="Return the sign of the argument. ">efun::sgn()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a07648648c7f857cfd1479821d4389751"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float acos </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the arcus cosine of the argument. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">float</span> <a class="code" href="classefun.html#a07648648c7f857cfd1479821d4389751">acos</a>(<span class="keywordtype">float</span>)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a933a36f652c733f5117565524dcaedf3" title="Returns the sine of the argument. ">efun::sin()</a>, <a class="el" href="classefun.html#a78b9d0583bd0699e2eac30d2a136817a" title="Returns the arcus sine of its argument. ">efun::asin()</a>, <a class="el" href="classefun.html#af6e6d9edd947ede82b886aa6fb924761" title="Returns the cosinus of the argument. ">efun::cos()</a>, <a class="el" href="classefun.html#ae0d1c93eb42a5e19a95fcf72d189ab2f" title="Returns the tangent of the argument. ">efun::tan()</a>, <a class="el" href="classefun.html#a0b28d79466130f759e16240979e44f0d" title="Returns the argument&#39;s arcus tangent. ">efun::atan()</a>, <a class="el" href="classefun.html#a11e580e05e7a7739cc880834099778b1" title="Returns the angle part of the polar coordinates of the point (x, y) in the range (-pi, pi). ">efun::atan2()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aa1a689311c00f31fcf25985a16a6eaef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void add_action </td>
          <td>(</td>
          <td class="paramtype">string|&#160;</td>
          <td class="paramname"><em>closure fun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int flag&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set up a local function fun to be called when user input matches the command cmd. </p>
<p>Functions called by a user command will get the arguments as a string. It must then return 0 if it was the wrong command, otherwise 1.</p>
<p>If it was the wrong command, the parser will continue searching for another command, until one returns 1 or give an error message to the user.</p>
<p>For example, there can be a wand and a rod. Both of these objects define as command "wave". One of them will be randomly called first, and it must look at the argument, and match against "wand" or "rod" respectively.</p>
<p>The function associated to a command will be called with a string as argument which stands for the given words behind the typed command. The verb entered can be retrieved using <a class="el" href="classefun.html#ae1f08790d1820834e9fb63b7e686f75d" title="Return the verb of the current command, of 0 if not executing from a command. ">efun::query_verb()</a> efun and is always the first word in the input line up to the first space.</p>
<p>Always have <a class="el" href="classefun.html#aa1a689311c00f31fcf25985a16a6eaef" title="Set up a local function fun to be called when user input matches the command cmd. ...">efun::add_action()</a> called only from an <a class="el" href="classapplied.html#a02fd73d861ef2e4aabb38c0c9ff82947" title="move_object implements the details of moving objects. ">applied::init()</a> routine. The object defining these commands must be present to the user, either being the user, being carried by the user, being the room around the user, or being an object in the same room as the user. If the player leaves this vicinity of the object, the actions are automatically removed.</p>
<p>Actions can also be removed on demand with <a class="el" href="classefun.html#a407f5a9d77743e830e1d7a59c0d10d9c" title="If verb is a string: remove the first action defined by the current object with the given verb from o...">efun::remove_action()</a>.</p>
<p>If <code>flag</code> is <code>AA_SHORT</code> (1), then the arguments may follow the verb without separating space. Any arguments after the first space are passed as argument string.</p>
<p>If <code>flag</code> is <code>AA_NOSPACE</code> (2), then again the arguments may follow the verb without separating space. In contrast to <code>AA_SHORT</code>, all characters following the verb are passed as the argument string. However, note that the characters immediately following the given verb are passed as argument AND as result of <a class="el" href="classefun.html#ae1f08790d1820834e9fb63b7e686f75d" title="Return the verb of the current command, of 0 if not executing from a command. ">efun::query_verb()</a>.</p>
<p>If <code>flag</code> is <code>AA_IMM_ARGS</code> (3), then again the arguments may follow the verb without separating space. All characters following the given verb are passed as argument, and only as argument.</p>
<p>If <code>flag</code> is negative, the verb given by the player has to match only the first <code>abs(flag)</code> characters of the verb <code>cmd</code>.</p>
<p>Never use one of the functions 'create' 'reset' 'init' 'exit' 'heart_beat' etc as the first argument to <a class="el" href="classefun.html#aa1a689311c00f31fcf25985a16a6eaef" title="Set up a local function fun to be called when user input matches the command cmd. ...">efun::add_action()</a>. In general, a function with a name defined in /doc/applied should have the behaviour defined there.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#aa1a689311c00f31fcf25985a16a6eaef">add_action</a>(<span class="keywordtype">string</span>|closure fun, string cmd)</div>
<div class="line">void <a class="code" href="classefun.html#aa1a689311c00f31fcf25985a16a6eaef">add_action</a>(<span class="keywordtype">string</span>|closure fun, string cmd, int flag)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">In this example, <code>GoInside()</code> is invoked when the user types <code>enter</code>:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#aa1a689311c00f31fcf25985a16a6eaef">add_action</a>(<span class="stringliteral">&quot;GoInside&quot;</span>, <span class="stringliteral">&quot;enter&quot;</span>);</div>
</div><!-- fragment --><p> The <code>AA_SHORT</code> flag used below means <code>DisFunc()</code> will be called if the user enters any command that <em>starts</em> with <code>dis</code>. To get the full first word of the user's command, you have to call <a class="el" href="classefun.html#ae1f08790d1820834e9fb63b7e686f75d" title="Return the verb of the current command, of 0 if not executing from a command. ">efun::query_verb()</a>:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#aa1a689311c00f31fcf25985a16a6eaef">add_action</a>(<span class="stringliteral">&quot;DisFunc&quot;</span>, <span class="stringliteral">&quot;dis&quot;</span>, AA_SHORT);</div>
</div><!-- fragment --><p> Similarly, the <code>AA_NOSPACE</code> means the function <code>DisFunc()</code> will be called for all commands which use <code>disconnect</code> or a shortened form like <code>di</code>, <code>dis</code> or <code>discon</code> as verb. The command <code>disconnecting</code> would <em>not</em> be recognized. To get the real word which was typed in you have to call <a class="el" href="classefun.html#ae1f08790d1820834e9fb63b7e686f75d" title="Return the verb of the current command, of 0 if not executing from a command. ">efun::query_verb()</a>.:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#aa1a689311c00f31fcf25985a16a6eaef">add_action</a>(<span class="stringliteral">&quot;DisFunc&quot;</span>, <span class="stringliteral">&quot;disconnect&quot;</span>, AA_NOSPACE);</div>
</div><!-- fragment --><p> To make the effect of these flags more clear, consider the following commands:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#aa1a689311c00f31fcf25985a16a6eaef">add_action</a>(<span class="stringliteral">&quot;...&quot;</span>, <span class="stringliteral">&quot;cmd&quot;</span>);</div>
<div class="line"><a class="code" href="classefun.html#aa1a689311c00f31fcf25985a16a6eaef">add_action</a>(<span class="stringliteral">&quot;...&quot;</span>, <span class="stringliteral">&quot;xcmd&quot;</span>, AA_SHORT);</div>
<div class="line"><a class="code" href="classefun.html#aa1a689311c00f31fcf25985a16a6eaef">add_action</a>(<span class="stringliteral">&quot;...&quot;</span>, <span class="stringliteral">&quot;scmd&quot;</span>, AA_NOSPACE);</div>
<div class="line"><a class="code" href="classefun.html#aa1a689311c00f31fcf25985a16a6eaef">add_action</a>(<span class="stringliteral">&quot;...&quot;</span>, <span class="stringliteral">&quot;icmd&quot;</span>, AA_IMM_ARGS);</div>
</div><!-- fragment --><p> Next, see the table below for an example of how the driver will parse various commands. In this table, <em>verb</em> is what <a class="el" href="classefun.html#ae1f08790d1820834e9fb63b7e686f75d" title="Return the verb of the current command, of 0 if not executing from a command. ">efun::query_verb()</a> would return, and <em>argument</em> is what would be passed to the command function.</p>
<table class="doxtable">
<tr>
<th>Command </th><th>Verb </th><th>Argument  </th></tr>
<tr>
<td>"cmd" </td><td>"cmd" </td><td>0 </td></tr>
<tr>
<td>"cmd foo bar" </td><td>"cmd" </td><td>"foo bar" </td></tr>
<tr>
<td>"xcmd" </td><td>"xcmd" </td><td>0 </td></tr>
<tr>
<td>"xcmd foo" </td><td>"xcmd" </td><td>"foo" </td></tr>
<tr>
<td>"xcmdfoo" </td><td>"xcmdfoo" </td><td>0 </td></tr>
<tr>
<td></td><td></td><td></td></tr>
<tr>
<td>"xcmd foo bar" </td><td>"xcmd" </td><td>"foo bar" </td></tr>
<tr>
<td></td><td></td><td></td></tr>
<tr>
<td>"xcmdfoo bar" </td><td>"xcmdfoo" </td><td>"bar" </td></tr>
<tr>
<td></td><td></td><td></td></tr>
<tr>
<td>"scmd" </td><td>"scmd" </td><td>0 </td></tr>
<tr>
<td>"scmd foo" </td><td>"scmd" </td><td>" foo" </td></tr>
<tr>
<td>"scmdfoo" </td><td>"scmdfoo" </td><td>"foo" </td></tr>
<tr>
<td></td><td></td><td></td></tr>
<tr>
<td>"scmd foo bar" </td><td>"scmd" </td><td>" foo bar" </td></tr>
<tr>
<td></td><td></td><td></td></tr>
<tr>
<td>"scmdfoo bar" </td><td>"scmdfoo" </td><td>"foo bar" </td></tr>
<tr>
<td></td><td></td><td></td></tr>
<tr>
<td>"icmd" </td><td>"icmd" </td><td>0 </td></tr>
<tr>
<td>"icmd foo" </td><td>"icmd" </td><td>" foo" </td></tr>
<tr>
<td>"icmdfoo" </td><td>"icmd" </td><td>"foo" </td></tr>
<tr>
<td>"icmd foo bar" </td><td>"icmd" </td><td>" foo bar" </td></tr>
<tr>
<td></td><td></td><td></td></tr>
<tr>
<td>"icmdfoo bar" </td><td>"icmd" </td><td>"foo bar" </td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2@127) -- adds partial support <span class="keywordflow">for</span> flag values &lt; 0</div>
<div class="line">changed (3.2.8) -- now actually respects flag values &lt; 0</div>
<div class="line">changed (3.2.9) -- introduced the AA_IMM_ARGS flag.</div>
<div class="line">changed (3.3) -- removed the historical <a class="code" href="classefun.html#aa1a689311c00f31fcf25985a16a6eaef">add_action</a>(fun) notation.</div>
<div class="line">changed (3.5) -- the function can be given as a closure.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ae1f08790d1820834e9fb63b7e686f75d" title="Return the verb of the current command, of 0 if not executing from a command. ">efun::query_verb()</a>, <a class="el" href="classefun.html#a9d55fac98f23ae1ce0e8c4394fe63716" title="Give the text of the current command, or 0 if not executing from a command. ">efun::query_command()</a>, <a class="el" href="classefun.html#a407f5a9d77743e830e1d7a59c0d10d9c" title="If verb is a string: remove the first action defined by the current object with the given verb from o...">efun::remove_action()</a>, <a class="el" href="classapplied.html#a02fd73d861ef2e4aabb38c0c9ff82947" title="move_object implements the details of moving objects. ">applied::init()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a4e91c4d0a0078128a5d34bd386282244"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object* all_environment </td>
          <td>(</td>
          <td class="paramtype">object obj&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an array with all environments object <code>obj</code> is in. </p>
<p>If <code>obj</code> is omitted, the environments of the current object is returned.</p>
<p>If <code>obj</code> has no environment, or if <code>obj</code> is destructed, 0 is returned.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> * <a class="code" href="classefun.html#a4e91c4d0a0078128a5d34bd386282244">all_environment</a>()</div>
<div class="line">object * <a class="code" href="classefun.html#a4e91c4d0a0078128a5d34bd386282244">all_environment</a>(object obj)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">If <code>obj</code> is a match in a matchbox which is in a box in a chest, in a room, <code>all_environment(obj)</code> will return <code>({ matchbox, box, chest, room })</code>.</p>
<p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.6) -- suggested by Tubmud.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a657cd0dbc848f16af8079c5d43386952" title="Returns the surrounding object of obj, which may be given by name. ">efun::environment()</a>, <a class="el" href="classefun.html#ab14beb1b749c799c34e81490763bc26f" title="Returns an array of the objects contained in the inventory of ob, or of this_object(), if no arg given. ">efun::all_inventory()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ab14beb1b749c799c34e81490763bc26f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object* all_inventory </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an array of the objects contained in the inventory of <code>ob</code>, or of <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code>, if no arg given. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> * <a class="code" href="classefun.html#ab14beb1b749c799c34e81490763bc26f">all_inventory</a>()</div>
<div class="line">object * <a class="code" href="classefun.html#ab14beb1b749c799c34e81490763bc26f">all_inventory</a>(object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#aa33aa7a0208e0b334af0d05bc9386d3d" title="Get the first object in the inventory of ob, where ob is either an object or the file name of an obje...">efun::first_inventory()</a>, <a class="el" href="classefun.html#ac27f5d278c0e4c64697f3737a973e0e4" title="Get next object in the same inventory as ob. ">efun::next_inventory()</a>, <a class="el" href="classefun.html#a28946d9af16fa288cf2f243de7f7aa12" title="Returns an array of the objects contained in the inventory of ob (or this_object() if no arg given) a...">efun::deep_inventory()</a>, <a class="el" href="classefun.html#a4e91c4d0a0078128a5d34bd386282244" title="Returns an array with all environments object obj is in. ">efun::all_environment()</a>, <a class="el" href="classefun.html#a657cd0dbc848f16af8079c5d43386952" title="Returns the surrounding object of obj, which may be given by name. ">efun::environment()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af929b0398229dda16008ec4bc23a5f99"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed* allocate </td>
          <td>(</td>
          <td class="paramtype">int  *&#160;</td>
          <td class="paramname"><em>sizes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed init_value&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocate an array of size elements. </p>
<p>The number of elements must be &gt;= 0 and not bigger than a system maximum (usually 1000).</p>
<p>If <code>init_value</code> is given, all array elements will be set to this value (if <code>init_value</code> is an array or mapping, a shallow copy will be created for each element), otherwise they all will be 0.</p>
<p>In the second form (using an array of sizes instead of one size), the efun will allocate a multidimensional array, that is an array of arrays.</p>
<dl class="section user"><dt>obsolete: this function is hardly needed anymore, because arrays can be added by the + operator, and can be constructed and initialized by the ({ }) operator. The functions only use is to construct big empty arrays.</dt><dd></dd></dl>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed * <a class="code" href="classefun.html#af929b0398229dda16008ec4bc23a5f99">allocate</a>(int size)</div>
<div class="line">mixed * <a class="code" href="classefun.html#af929b0398229dda16008ec4bc23a5f99">allocate</a>(int size, mixed init_value)</div>
<div class="line">mixed * <a class="code" href="classefun.html#af929b0398229dda16008ec4bc23a5f99">allocate</a>(int *sizes)</div>
<div class="line">mixed * <a class="code" href="classefun.html#af929b0398229dda16008ec4bc23a5f99">allocate</a>(int *sizes, mixed init_value)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> *buffer;</div>
<div class="line">buffer = <a class="code" href="classefun.html#af929b0398229dda16008ec4bc23a5f99">allocate</a>(50);</div>
<div class="line">buffer = <a class="code" href="classefun.html#af929b0398229dda16008ec4bc23a5f99">allocate</a>(50, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"></div>
<div class="line">buffer = <a class="code" href="classefun.html#af929b0398229dda16008ec4bc23a5f99">allocate</a>( ({ 2, 3 }) )</div>
<div class="line">  --&gt; ({ ({ 0, 0, 0 }), ({ 0, 0, 0 }) })</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.9) -- added the initialization value and the multi-dimensional allocation.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a1b26f2ff266e671649fc060bea19b228" title="Returns the number of elements of an array or struct, the number of characters in a string...">efun::sizeof()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a481a071b1544dd0eb27556efb3768cb6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string and_bits </td>
          <td>(</td>
          <td class="paramtype">string str1&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string str2&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>str1</code> and <code>str2</code> are both bitstrings. </p>
<p>The result of the function is a bitstring with the binary-and of <code>str1</code> and <code>str2</code>, ie. a string in which a bit is set only if both corresponding bits in the input strings are set, too.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a481a071b1544dd0eb27556efb3768cb6">and_bits</a>(string str1, string str2)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> s1, s2, s3;</div>
<div class="line"></div>
<div class="line">s1 = <a class="code" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a>(<span class="stringliteral">&quot;&quot;</span>, 3); s1 = <a class="code" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a>(s1, 15);  -&gt; s1 is <span class="stringliteral">&quot;( (&quot;</span></div>
<div class="line">s2 = <a class="code" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a>(<span class="stringliteral">&quot;&quot;</span>, 3); s2 = <a class="code" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a>(s2, 4);   -&gt; s2 is <span class="stringliteral">&quot;8&quot;</span></div>
<div class="line"></div>
<div class="line">s3 = <a class="code" href="classefun.html#a481a071b1544dd0eb27556efb3768cb6">and_bits</a>(s1, s2);</div>
<div class="line"></div>
<div class="line">-&gt; s3 is now <span class="stringliteral">&quot;8&quot;</span>, ie. a bitstring with bit 3 set only.</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a9820c9a0cc652f0f9054e8dd9d7e56b0" title="Return the new string where bit n is cleared in string str. ">efun::clear_bit()</a>, <a class="el" href="classefun.html#aae4303bfb007375b5f182294e1fb274e" title="Return the new string where bit n is set in string str. ">efun::set_bit()</a>, <a class="el" href="classefun.html#a1f992595c33434f4657015ffe765d2bc" title="Return 0 or 1 if bit n was set in string str. ">efun::test_bit()</a>, <a class="el" href="classefun.html#ae9a22225f7ecf80a5bcd52261d1b27c0" title="Return the number of the next bit in bitstring str after position start. ">efun::next_bit()</a>, <a class="el" href="classefun.html#add033af196d131772d3a99373bd14cd9" title="Return the number of the last set bit in bitstring str. ">efun::last_bit()</a>, <a class="el" href="classefun.html#a4219dca74e569f12726df9bd9e11669d" title="Count the number of set bits in bitstring str and return the number as result. ">efun::count_bits()</a>, <a class="el" href="classefun.html#af939d33eba6b16a15e87e0737206b0e2" title="str1 and str2 are both bitstrings. ">efun::or_bits()</a>, <a class="el" href="classefun.html#aeda3e1403911d376dd0db4b9b501dc62" title="str1 and str2 are both bitstrings. ">efun::xor_bits()</a>, <a class="el" href="classefun.html#ad37a5b85653678afc3bba3b0fb152a3f" title="Invert the status of all bits in bitstring str and return the new string. ">efun::invert_bits()</a>, <a class="el" href="classefun.html#afcb4b753b24046893741d3c3e0c33e62" title="Copy the bitrange [&lt;em&gt;srcstart&lt;/em&gt;..&lt;em&gt;srcstart&lt;/em&gt;+&lt;em&gt;copylen&lt;/em&gt;] from bitstring src and copy...">efun::copy_bits()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aaf018e933ee843dfe67f2916aeeb51a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed apply </td>
          <td>(</td>
          <td class="paramtype">closure cl&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Evaluates the closure <code>cl</code> with the following arguments. </p>
<p>If the last argument is an array or struct, it will be flattened: ie. the array/struct itself will be removed and its contents added to the argument list of <code>cl</code>.</p>
<p>If <code>cl</code> is not a closure, it will simply be returned (and all other arguments are ignored).</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed <a class="code" href="classefun.html#aaf018e933ee843dfe67f2916aeeb51a1">apply</a>(closure cl, ...)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">The flattening of the last argument is the important difference between <a class="el" href="classefun.html#aaf018e933ee843dfe67f2916aeeb51a1" title="Evaluates the closure cl with the following arguments. ">efun::apply()</a> and <a class="el" href="classefun.html#a665f686219e1bffdb5e89a5158167473" title="Evaluates the closure. ">efun::funcall()</a>. For example:</p>
<div class="fragment"><div class="line">mixed eval(<span class="keywordtype">object</span> ob, <span class="keywordtype">string</span> func, mixed *args)</div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="classefun.html#aaf018e933ee843dfe67f2916aeeb51a1">apply</a>(#<span class="stringliteral">&#39;call_other, ob, func, args);</span></div>
<div class="line"><span class="stringliteral">}</span></div>
</div><!-- fragment --><p> This will result in calling:</p>
<div class="fragment"><div class="line">ob-&gt;func(args[0],args[1],...,args[<span class="keyword">sizeof</span>(args)-1]).</div>
</div><!-- fragment --><p> Using <a class="el" href="classefun.html#a665f686219e1bffdb5e89a5158167473" title="Evaluates the closure. ">efun::funcall()</a> instead of <a class="el" href="classefun.html#aaf018e933ee843dfe67f2916aeeb51a1" title="Evaluates the closure cl with the following arguments. ">efun::apply()</a> would have given us:</p>
<div class="fragment"><div class="line">ob-&gt;func(args).</div>
</div><!-- fragment --><p> Of course, with the '...' operator we could also write:</p>
<div class="fragment"><div class="line">mixed eval(<span class="keywordtype">object</span> ob, <span class="keywordtype">string</span> func, mixed *args)</div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="classefun.html#a665f686219e1bffdb5e89a5158167473">funcall</a>(#<span class="stringliteral">&#39;call_other, ob, func, args...);</span></div>
<div class="line"><span class="stringliteral">}</span></div>
</div><!-- fragment --><p> and achieve the same result.</p>
<p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2@70)</div>
<div class="line">changed (3.2.8) -- adds the returning of a non-closure as first argument.</div>
<div class="line">changed (3.3) -- added the &#39;...&#39; operator and thus made <a class="code" href="classefun.html#aaf018e933ee843dfe67f2916aeeb51a1">apply</a> in fact redundant.</div>
<div class="line">changed (3.3.266) -- added support for structs.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a665f686219e1bffdb5e89a5158167473" title="Evaluates the closure. ">efun::funcall()</a>, <a class="el" href="driver_syntax_closures.html">closure</a>, <a class="el" href="driver_syntax_varargs.html">varargs</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a78b9d0583bd0699e2eac30d2a136817a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float asin </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the arcus sine of its argument. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">float</span> <a class="code" href="classefun.html#a78b9d0583bd0699e2eac30d2a136817a">asin</a>(<span class="keywordtype">float</span>)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a933a36f652c733f5117565524dcaedf3" title="Returns the sine of the argument. ">efun::sin()</a>, <a class="el" href="classefun.html#af6e6d9edd947ede82b886aa6fb924761" title="Returns the cosinus of the argument. ">efun::cos()</a>, <a class="el" href="classefun.html#a07648648c7f857cfd1479821d4389751" title="Returns the arcus cosine of the argument. ">efun::acos()</a>, <a class="el" href="classefun.html#ae0d1c93eb42a5e19a95fcf72d189ab2f" title="Returns the tangent of the argument. ">efun::tan()</a>, <a class="el" href="classefun.html#a0b28d79466130f759e16240979e44f0d" title="Returns the argument&#39;s arcus tangent. ">efun::atan()</a>, <a class="el" href="classefun.html#a11e580e05e7a7739cc880834099778b1" title="Returns the angle part of the polar coordinates of the point (x, y) in the range (-pi, pi). ">efun::atan2()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a0b28d79466130f759e16240979e44f0d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float atan </td>
          <td>(</td>
          <td class="paramtype">int|&#160;</td>
          <td class="paramname"><em>float</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the argument's arcus tangent. </p>
<p>LDMud 3.2.9 added integers as arguments.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">float</span> <a class="code" href="classefun.html#a0b28d79466130f759e16240979e44f0d">atan</a>(<span class="keywordtype">int</span>|<span class="keywordtype">float</span>)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a11e580e05e7a7739cc880834099778b1" title="Returns the angle part of the polar coordinates of the point (x, y) in the range (-pi, pi). ">efun::atan2()</a>, <a class="el" href="classefun.html#a933a36f652c733f5117565524dcaedf3" title="Returns the sine of the argument. ">efun::sin()</a>, <a class="el" href="classefun.html#af6e6d9edd947ede82b886aa6fb924761" title="Returns the cosinus of the argument. ">efun::cos()</a>, <a class="el" href="classefun.html#ae0d1c93eb42a5e19a95fcf72d189ab2f" title="Returns the tangent of the argument. ">efun::tan()</a>, <a class="el" href="classefun.html#a78b9d0583bd0699e2eac30d2a136817a" title="Returns the arcus sine of its argument. ">efun::asin()</a>, <a class="el" href="classefun.html#a07648648c7f857cfd1479821d4389751" title="Returns the arcus cosine of the argument. ">efun::acos()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a11e580e05e7a7739cc880834099778b1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float atan2 </td>
          <td>(</td>
          <td class="paramtype">int|&#160;</td>
          <td class="paramname"><em>float y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int|&#160;</td>
          <td class="paramname"><em>float x</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the angle part of the polar coordinates of the point (x, y) in the range (-pi, pi). </p>
<p>Note the exchange of the coordinates x and y in the parameter list reflecting the sequence in the gradient to angle transformation <code>atan(y / x)</code>.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">float</span> <a class="code" href="classefun.html#a11e580e05e7a7739cc880834099778b1">atan2</a>(<span class="keywordtype">int</span>|float y, <span class="keywordtype">int</span>|float x)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.9) -- added integers as arguments</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a933a36f652c733f5117565524dcaedf3" title="Returns the sine of the argument. ">efun::sin()</a>, <a class="el" href="classefun.html#af6e6d9edd947ede82b886aa6fb924761" title="Returns the cosinus of the argument. ">efun::cos()</a>, <a class="el" href="classefun.html#ae0d1c93eb42a5e19a95fcf72d189ab2f" title="Returns the tangent of the argument. ">efun::tan()</a>, <a class="el" href="classefun.html#a78b9d0583bd0699e2eac30d2a136817a" title="Returns the arcus sine of its argument. ">efun::asin()</a>, <a class="el" href="classefun.html#a07648648c7f857cfd1479821d4389751" title="Returns the arcus cosine of the argument. ">efun::acos()</a>, <a class="el" href="classefun.html#a0b28d79466130f759e16240979e44f0d" title="Returns the argument&#39;s arcus tangent. ">efun::atan()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a5576cf9792eb99b7cb6fb45d3a95e478"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int attach_erq_demon </td>
          <td>(</td>
          <td class="paramtype">string obname&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int do_close&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This privileged efun is to set/change the connection of the driver to the external erq demon, thus in effect changing the demons. </p>
<p>The connection of the given interactive <code>ob</code> is taken away from it and stored as the erq-connection. The object itself is then no longer needed, but may stay alive - it is just another non-interactive object then.</p>
<p>In the second form, the string will be combined as suffix to the filename ERQFILE&lt;obname&gt;, which is then the binary to be forked off as new erq demon. The communication with this erq will take place over unix domain sockets. ERQFILE defaults to BINDIR/erq, where BINDIR is the configuration value for the executable directory.</p>
<p>If there is alreay an erq demon connected to the driver, the function will fail unless 'do_close' (default 0) is specified as 1 (or any other odd integer): then the old connection will be closed before attaching the new. The efun returns 1 on success, else 0.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a5576cf9792eb99b7cb6fb45d3a95e478">attach_erq_demon</a>(object ob, int do_close)</div>
<div class="line">int <a class="code" href="classefun.html#a5576cf9792eb99b7cb6fb45d3a95e478">attach_erq_demon</a>(string obname, int do_close)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">To restart the (default) erq, write in <a class="el" href="classmaster.html#a9adaa2e8178ef17e87fcde07e28040c5" title="Notify the loss of the erq demon. ">master::stale_erq()</a>:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a5576cf9792eb99b7cb6fb45d3a95e478">attach_erq_demon</a>(<span class="stringliteral">&quot;&quot;</span>, 0);</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.1@61)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a795ee539a9ce43bfde252f626e49120c" title="A request of given type (request, default is 0), equipped with the given data, is sent to the erq...">efun::send_erq()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a2b1d6366b19ef84232863b29facb9a42"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int baseof </td>
          <td>(</td>
          <td class="paramtype">struct b&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct s&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Test if the type of struct <code>b</code> is a base of struct <code>s</code> (the values of <code>b</code> and <code>s</code> are irrelevant). </p>
<p>Results are:</p>
<p>0 <code>b</code> is not a base of <code>s</code>, nor is <code>b</code> of equal type as <code>s</code> (though <code>s</code> might be a base of <code>b</code>).</p>
<p>1 <code>b</code> is a true base of <code>s</code> </p>
<p>2 <code>b</code> and <code>s</code> are the same struct type</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a2b1d6366b19ef84232863b29facb9a42">baseof</a>(struct b, struct s)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.344)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a1f75bb586fd744aa865714d4bab27b34" title="Return 1 if arg is a struct. ">efun::structp()</a>, <a class="el" href="driver_syntax_structs.html">struct</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a969d03a0a9e5b5ff3c6a969a0db7a9c0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int binary_message </td>
          <td>(</td>
          <td class="paramtype">int *|&#160;</td>
          <td class="paramname"><em>string message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int flags&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flush output and send output directly with write <b>without IAC quoting</b>. </p>
<p>The message may contain zeroes if given as int &gt;&gt;*&lt;&lt;. The messages go to <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code>, but only if it is interactive. It returns the number of characters actually written. Any 'allowed charset' setting is ignored.</p>
<p>Flag settings are interpreted bitwise and may be ored together (only for clients not using <a class="el" href="driver_topics_mccp.html">MCCP</a> compression):</p>
<p>Bit 0 (value 1) when set, <code>add_message()</code> is used instead of <code><a class="el" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662" title="Write out something to the current user. ">write()</a></code>. Thus no previous flushing of the buffer is needed, but the output is not immediate, nor can the number of bytes actually sent be determined - the return value is undefined.</p>
<p>Bit 1 (value 2) The buffer is flushed <em>after</em> adding the message. Useful only in conjunction with Bit 0.</p>
<p>The idea behind the flag settings is that sending command codes for colours and other things needs to bypass the allowed charset filters, but isn't important enough to waste bandwith on a synchronous transmission.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a969d03a0a9e5b5ff3c6a969a0db7a9c0">binary_message</a>(<span class="keywordtype">int</span> *|string message, int flags)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.1@40)</div>
<div class="line">changed (3.2.1@60) -- Argument &#39;flags&#39; introduced.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a18fb8c8f81826d32e697b2912d969d75" title="Set the set of characters that can be output to the interactive user (this does not apply to efun::bi...">efun::set_connection_charset()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a8e512d3268244957695f1a9fcf988f33"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">closure bind_lambda </td>
          <td>(</td>
          <td class="paramtype">closure&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Binds an unbound lambda closure to an object and return it. </p>
<p>The efun can also be used to rebind an efun, simul-efun or operator closure to a different object.</p>
<p>If the optional argument ob is not <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code>, the privilege violation <code>("bind_lambda", <a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a>, ob)</code> occurs.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">closure <a class="code" href="classefun.html#a8e512d3268244957695f1a9fcf988f33">bind_lambda</a>(closure, object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2@82)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a4ef2926c525dcf7e7d339d3f424b18a9" title="Constructs a lambda closure, like lambda function in LISP. ">efun::lambda()</a>, <a class="el" href="classefun.html#ad7e5e12d8853c0b52534f8a8e57dcef6" title="Constructs a lambda closure that is not bound to an object, like lambda function in LISP...">efun::unbound_lambda()</a>, <a class="el" href="classefun.html#aaf018e933ee843dfe67f2916aeeb51a1" title="Evaluates the closure cl with the following arguments. ">efun::apply()</a>, <a class="el" href="classefun.html#a665f686219e1bffdb5e89a5158167473" title="Evaluates the closure. ">efun::funcall()</a>, <a class="el" href="driver_syntax_closures.html">closure</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a3a63228deda22102b5b98b541b392834"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object blueprint </td>
          <td>(</td>
          <td class="paramtype">string|&#160;</td>
          <td class="paramname"><em>object ob</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The efuns returns the blueprint for the given object <code>ob</code>, or for the current object if <code>ob</code> is not specified. </p>
<p>If the blueprint is destructed, or its program replaced, the efun returns 0.</p>
<p>For objects with replaced programs, the efun returns the blueprint for the replacement program. In <a class="el" href="driver_topics_predefined.html">__COMPAT_MODE__</a> the returned blueprint does not start with a "/".</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#a3a63228deda22102b5b98b541b392834">blueprint</a>()</div>
<div class="line">object blueprint(<span class="keywordtype">string</span>|object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><a class="code" href="classefun.html#a3a63228deda22102b5b98b541b392834">blueprint</a>(<span class="stringliteral">&quot;/std/thing&quot;</span>))               -&gt; /std/thing</div>
<div class="line"><a class="code" href="classefun.html#a3a63228deda22102b5b98b541b392834">blueprint</a>(<a class="code" href="classefun.html#a12339d2d254849a1342fd79bdb89f638">find_object</a>(<span class="stringliteral">&quot;/std/thing&quot;</span>))   -&gt; /std/thing</div>
<div class="line"><a class="code" href="classefun.html#a3a63228deda22102b5b98b541b392834">blueprint</a>(<a class="code" href="classefun.html#ac48b7a182d90218465e671cd6f2dcd68">clone_object</a>(<span class="stringliteral">&quot;/std/thing&quot;</span>))  -&gt; /std/thing</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.9)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#aa73a51eacc31271eff38a1b46ff3b6c2" title="The efuns returns an array with all clones of a certain blueprint. ">efun::clones()</a>, <a class="el" href="classefun.html#ac48b7a182d90218465e671cd6f2dcd68" title="Clone a new object from definition name, or alternatively from the object template. ">efun::clone_object()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af38c2aa695e4b3e22f55fc1a6530aabe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void break_point </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function is for system internal use and should never be called by user objects. </p>
<p>It is supposed to check the stack integrity and aborts the driver when it detects corruption.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#af38c2aa695e4b3e22f55fc1a6530aabe">break_point</a>()</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a4c6184e20b9727f3f7315013af122117" title="Shutdown the mud, setting the process result code to exit_code, or 0 if not given. ">efun::shutdown()</a>, <a class="el" href="classefun.html#a0e75e21c1d36f34d61a3061795c11c09" title="Swap out an object. ">efun::swap()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aac16fffdf5b556d500d5249d4842c46e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unknown call_direct </td>
          <td>(</td>
          <td class="paramtype">object  *&#160;</td>
          <td class="paramname"><em>ob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string fun&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed arg&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Call a member function <code>fun</code> in another object <code>ob</code> with argument(s) <code>arg</code>... </p>
<p>. Result is the value returned from the called function (or 0 for non-existing or void functions).</p>
<p>This efun is a twin to <a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a>, with the difference being that <a class="el" href="classefun.html#aac16fffdf5b556d500d5249d4842c46e" title="Call a member function fun in another object ob with argument(s) arg... ">efun::call_direct()</a> never calls a default method.</p>
<p>Additionally the efun accepts an array of objects as <code>ob:</code> the function is called with the same arguments in all the given objects. The single results are collected in an array and yield the final result. Array elements can be objects or the names of existing objects; destructed objects and 0s will yield a '0' as result, but don't cause an error.</p>
<p>The object(s) can be given directly or via a string (i.e. its object_name). If it is given by a string and the object does not exist yet, it will be loaded.</p>
<p><code>ob-&gt;fun(args)</code> and <code>"ob_name"-&gt;fun(args)</code> are equivalent to <code>call_other(ob, "fun", args)</code>. Nowadays the <code>ob_name</code> string can also be a variable.</p>
<p><code>ob-&gt;fun(args)</code> and <code>ob-&gt;"fun"(args)</code> are equivalent to <code>call_other(ob, "fun", args)</code>. <code>ob-&gt;(fun)(args)</code> are equivalent to <code>call_other(ob, fun, args)</code> where fun is a runtime expression returning the function name.</p>
<p>If ob::fun does not define a publicly accessible function, the <a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a> will return 0, which is indistinguishable from a function returning 0.</p>
<p>"publicly accessible" means "public" when calling other objects, and "public" or "static" when calling <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code>. "private" and "protected" function can never be called with <a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a>.</p>
<p>The return type of <a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a> is <code>any</code> by default. However, if your LPC code uses <a class="el" href="driver_syntax_pragma.html">strict_types</a>, the return is <a class="el" href="driver_syntax_types.html">unknown</a>, and the result of <a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a> must be casted to the appropriate type before you can use it for anything.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">unknown <a class="code" href="classefun.html#aac16fffdf5b556d500d5249d4842c46e">call_direct</a>(object ob, string fun, mixed arg, ...)</div>
<div class="line">unknown <a class="code" href="classefun.html#aac16fffdf5b556d500d5249d4842c46e">call_direct</a>(object *ob, string fun, mixed arg, ...)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">All the following statements call the lfun <code>QueryProp()</code> in the current player with the argument <code>P_SHORT</code>:</p>
<div class="fragment"><div class="line"><span class="keywordtype">string</span> str, fun;</div>
<div class="line"></div>
<div class="line">str = (string)<a class="code" href="classefun.html#aac16fffdf5b556d500d5249d4842c46e">call_direct</a>(<a class="code" href="classefun.html#a23dc6aa65a7477371df722a647b661af">this_player</a>(), <span class="stringliteral">&quot;QueryProp&quot;</span>, P_SHORT);</div>
<div class="line">fun = <span class="stringliteral">&quot;QueryProp&quot;</span>;</div>
<div class="line">str = (string)<a class="code" href="classefun.html#aac16fffdf5b556d500d5249d4842c46e">call_direct</a>(<a class="code" href="classefun.html#a23dc6aa65a7477371df722a647b661af">this_player</a>(), fun, P_SHORT);</div>
<div class="line"></div>
<div class="line">You have to <span class="keywordflow">do</span> <span class="keyword">explicit</span> type casting because of the unknown</div>
<div class="line"><span class="keywordflow">return</span> type, <span class="keywordflow">if</span> you have set #pragma strict_types.</div>
<div class="line"></div>
<div class="line"><span class="comment">// This statement calls the lfun short() in all interactive users</span></div>
<div class="line"><span class="comment">// and stores the collected results in a variable.</span></div>
<div class="line">string *s;</div>
<div class="line"></div>
<div class="line">s = (<span class="keywordtype">string</span> *)<a class="code" href="classefun.html#aac16fffdf5b556d500d5249d4842c46e">call_direct</a>(<a class="code" href="classefun.html#a46c12392d13bc3a5c91c20a6f7de7c7c">users</a>(), <span class="stringliteral">&quot;short&quot;</span>);</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.113) -- with the H_DEFAULT_METHOD.</div>
<div class="line">changed (3.2.10) -- made the call on arrays of objects configurable.</div>
<div class="line">changed (3.5.0) -- the call on arrays of objects non-optional.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a>, <a class="el" href="classefun.html#aab1c8fc1fc94fc634d5b77e74aa8a7c8" title="Similar to efun::call_direct(). ">efun::call_direct_resolved()</a>, <a class="el" href="classefun.html#a00b4bc507accbe808ae0c1ae25b7aed6" title="Similar to efun::call_other(). ">efun::call_resolved()</a>, <a class="el" href="classapplied.html#ae2ee59f7cc16ee42559c87e81c433039" title="The H_CREATE_SUPER, H_CREATE_OB, and H_CREATE_CLONE hooks define the function or closure to be called...">applied::create()</a>, <a class="el" href="driver_syntax_pragma.html">pragma</a>, <a class="el" href="classefun.html#adbad80797e70e6d2fa6ba96cb6e226fb" title="Returns zero, if the function that is currently being executed was called by a local call...">efun::extern_call()</a>, <a class="el" href="classefun.html#a5d01aa2cfe41a64bb709d8ef3db87b58" title="Look up a function str in the current object, respectively in the object ob. ">efun::function_exists()</a>, <a class="el" href="driver_syntax_functions.html">functions</a>, <a class="el" href="classefun.html#afb24b3547fada366e5356ee5a0891d63" title="Similar to efun::map(), but calls arr[n]-&gt;fun(extra,...). ">efun::map_objects()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aab1c8fc1fc94fc634d5b77e74aa8a7c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int call_direct_resolved </td>
          <td>(</td>
          <td class="paramtype">mixed result&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string func&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Similar to <a class="el" href="classefun.html#aac16fffdf5b556d500d5249d4842c46e" title="Call a member function fun in another object ob with argument(s) arg... ">efun::call_direct()</a>. </p>
<p>If <code>ob-&gt;func()</code> is defined and publicly accessible, any of the optional extra arguments are passed to <code>ob-&gt;func(...)</code>. The result of that function call is stored in result, which must be passed by reference.</p>
<p>This efun is a twin to <a class="el" href="classefun.html#a00b4bc507accbe808ae0c1ae25b7aed6" title="Similar to efun::call_other(). ">efun::call_resolved()</a>, with the difference being that <a class="el" href="classefun.html#aab1c8fc1fc94fc634d5b77e74aa8a7c8" title="Similar to efun::call_direct(). ">efun::call_direct_resolved()</a> never calls a default method.</p>
<p>The efun returns 1 if the function could be called. If ob::fun does not define a publicly accessible function, the efun will return 0.</p>
<p>ob can also be an object_name. If a string is passed for ob, and no object with that name does exist, an error occurs.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#aab1c8fc1fc94fc634d5b77e74aa8a7c8">call_direct_resolved</a>(mixed result, object ob, string func, ...)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.113) -- with the H_DEFAULT_METHOD.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a>, <a class="el" href="classefun.html#aac16fffdf5b556d500d5249d4842c46e" title="Call a member function fun in another object ob with argument(s) arg... ">efun::call_direct()</a>, <a class="el" href="classefun.html#a00b4bc507accbe808ae0c1ae25b7aed6" title="Similar to efun::call_other(). ">efun::call_resolved()</a>, <a class="el" href="classapplied.html#ae2ee59f7cc16ee42559c87e81c433039" title="The H_CREATE_SUPER, H_CREATE_OB, and H_CREATE_CLONE hooks define the function or closure to be called...">applied::create()</a>, <a class="el" href="driver_syntax_pragma.html">pragma</a>, <a class="el" href="classefun.html#adbad80797e70e6d2fa6ba96cb6e226fb" title="Returns zero, if the function that is currently being executed was called by a local call...">efun::extern_call()</a>, <a class="el" href="classefun.html#a5d01aa2cfe41a64bb709d8ef3db87b58" title="Look up a function str in the current object, respectively in the object ob. ">efun::function_exists()</a>, <a class="el" href="driver_syntax_functions.html">functions</a>, <a class="el" href="classefun.html#afb24b3547fada366e5356ee5a0891d63" title="Similar to efun::map(), but calls arr[n]-&gt;fun(extra,...). ">efun::map_objects()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a14431f7de9bcc796d309ac6f3193f5d4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unknown call_other </td>
          <td>(</td>
          <td class="paramtype">object  *&#160;</td>
          <td class="paramname"><em>ob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string fun&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed arg&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section user"><dt>note: In LPC syntax  driver_syntax_arrow "-&gt;" is an alias for this efun. Because the syntax form is easier to read, efun::call_other() is rarely used directly in new code. See the syntax form's documentation for usage notes.</dt><dd></dd></dl>
<p>Call a member function <code>fun</code> in another object <code>ob</code> with an the argument(s) <code>arg</code>... . Result is the value returned from the called function (or 0 for non-existing or void functions).</p>
<p>Additionally the efun accepts an array of objects as <code>ob:</code> the function is called with the same arguments in all the given objects. The single results are collected in an array and yield the final result. Array elements can be objects or the names of existing objects; destructed objects and 0s will yield a '0' as result, but don't cause an error.</p>
<p>The object(s) can be given directly or via a string (i.e. its object_name). If it is given by a string and the object does not exist yet, it will be loaded.</p>
<p>If ob::fun does not define a publicly accessible function, the efun will call <a class="el" href="driver_hook_default_method.html">H_DEFAULT_METHOD</a> if set. If the hook is not set or can't resolve the call either, <a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a> will return 0, which is indistinguishable from a function returning 0.</p>
<p>Calls to the master object never use <a class="el" href="driver_hook_default_method.html">H_DEFAULT_METHOD</a>. To force non-default calls, the <a class="el" href="classefun.html#aac16fffdf5b556d500d5249d4842c46e" title="Call a member function fun in another object ob with argument(s) arg... ">efun::call_direct()</a> can be used.</p>
<p>"publicly accessible" means "public" when calling other objects, and "public" or "static" when calling <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code>. "private" and "protected" function can never be called with <a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a>.</p>
<p>The return type of <a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a> is <code>any</code> by default. However, if your LPC code uses <a class="el" href="driver_syntax_pragma.html">strict_types</a>, the return type is <a class="el" href="driver_syntax_types.html">unknown</a>, and the result of <a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a> must be casted to the appropriate type before you can use it for anything.</p>
<dl class="section user"><dt>note: You may find calls to unlikely functions, especially in older code. For example:~~~{.c}</dt><dd>!Compat: call_other("/users/luser/thing", "???", 0); Compat: call_other("users/luser/thing", "???", 0);</dd></dl>
<p>~~~This looks a bit weird but it was used very often to just load the object by calling a non-existing function like "???". Fortunately nowadays <a class="el" href="classefun.html#a8ef004651be5805383aca5b9a3f8291b" title="Load the object from the file name (which can not be empty) and return it. ">efun::load_object()</a> serves this purpose.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">unknown <a class="code" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">call_other</a>(object ob, string fun, mixed arg, ...)</div>
<div class="line">unknown <a class="code" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">call_other</a>(object *ob, string fun, mixed arg, ...)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">First let's do some setup:</p>
<p>~~~{.c} string str, fun; fun = "QueryProp";</p>
<p>~~~ Now we'll use these variables with the basic <a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a>. Both of the following statements call the lfun <code>QueryProp()</code> in the current player object with a single argument, <code>P_SHORT</code>:</p>
<p>~~~{.c} str = (string)call_other(<a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af" title="Return the current command giver. ">this_player()</a>, "QueryProp", P_SHORT); str = (string)call_other(this_player(), fun, P_SHORT);</p>
<p>~~~ If you have set <a class="el" href="driver_syntax_pragma.html">strict_types</a>, you have to do explicit type casting because of the unknown return type.</p>
<p>You can also pass <a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a> an array of objects, causing the function to be called for each object. The following statement calls the lfun <code>short()</code> in all interactive users and stores the result in an array of strings:</p>
<p>~~~{.c} string *s; s = (string *)call_other(<a class="el" href="classefun.html#a46c12392d13bc3a5c91c20a6f7de7c7c" title="Return an array containing all interactive users. ">users()</a>, "short");</p>
<p>~~~</p>
<p class="enddd"></p>
</dd></dl>
<pre class="fragment">  @par History:
</pre> <div class="fragment"><div class="line">      changed (3.2.8) -- a simul_efun <a class="code" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">call_other</a>() also catches -&gt;() calls.</div>
<div class="line"></div>
<div class="line"><a class="code" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">call_other</a> can be <a class="code" href="classapplied.html">applied</a> on arrays of objects.</div>
<div class="line">      a simul_efun <a class="code" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">call_other</a>() also catches -&gt;() calls.</div>
<div class="line">      <a class="code" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">call_other</a> can be <a class="code" href="classapplied.html">applied</a> on arrays of objects.</div>
<div class="line">      changed (3.2.10) -- made the call on arrays of objects configurable.</div>
<div class="line">      changed (3.3.113) -- the H_DEFAULT_METHOD hook was introduced.</div>
<div class="line">      changed (3.5.0) -- made the call on arrays of objects non-optional.</div>
</div><!-- fragment --><dl class="section see"><dt>See Also</dt><dd><a class="el" href="driver_syntax_arrow.html">-&gt;</a>, <a class="el" href="classefun.html#aac16fffdf5b556d500d5249d4842c46e" title="Call a member function fun in another object ob with argument(s) arg... ">efun::call_direct()</a>, <a class="el" href="classefun.html#aab1c8fc1fc94fc634d5b77e74aa8a7c8" title="Similar to efun::call_direct(). ">efun::call_direct_resolved()</a>, <a class="el" href="classefun.html#a00b4bc507accbe808ae0c1ae25b7aed6" title="Similar to efun::call_other(). ">efun::call_resolved()</a>, <a class="el" href="classapplied.html#ae2ee59f7cc16ee42559c87e81c433039" title="The H_CREATE_SUPER, H_CREATE_OB, and H_CREATE_CLONE hooks define the function or closure to be called...">applied::create()</a>, <a class="el" href="driver_syntax_pragma.html">pragma</a>, <a class="el" href="classefun.html#adbad80797e70e6d2fa6ba96cb6e226fb" title="Returns zero, if the function that is currently being executed was called by a local call...">efun::extern_call()</a>, <a class="el" href="classefun.html#a5d01aa2cfe41a64bb709d8ef3db87b58" title="Look up a function str in the current object, respectively in the object ob. ">efun::function_exists()</a>, <a class="el" href="driver_syntax_functions.html">functions</a>, <a class="el" href="classefun.html#afb24b3547fada366e5356ee5a0891d63" title="Similar to efun::map(), but calls arr[n]-&gt;fun(extra,...). ">efun::map_objects()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a80949ae9919cf34ceed353d2f3a005b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void call_out </td>
          <td>(</td>
          <td class="paramtype">closure cl&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int delay&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed arg&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set up a call to function fun in the current object, or to closure cl. </p>
<p>The call will take place after <code>delay</code> seconds, with the remaining argument list provided. <code>delay</code> can be a minimum time of 0 (negative values are implicitly treated as 0), but the real delay will be something between <code>delay</code> and <code>delay</code> + <a class="el" href="driver_topics_predefined.html">__ALARM_TIME__</a>.</p>
<p><a class="el" href="classefun.html#a80949ae9919cf34ceed353d2f3a005b8" title="Set up a call to function fun in the current object, or to closure cl. ">efun::call_out()</a> saves and restores the current user. It is now possible to use <a class="el" href="classefun.html#a9047308a38d0fbf3c038db31e501851d" title="There are two major modes of calling: ">efun::say()</a> or <a class="el" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662" title="Write out something to the current user. ">efun::write()</a> which rely on a current user to be something useful.</p>
<p><a class="el" href="classefun.html#a80949ae9919cf34ceed353d2f3a005b8" title="Set up a call to function fun in the current object, or to closure cl. ">efun::call_out()</a> can only call functions by name <code>fun</code> which are publicly accessible, i.e. "public" and "static" functions. "private" and "protected" functions can't be called.</p>
<p>If <code>fun</code> does not define a publicly accessible function, the efun will call the <a class="el" href="driver_hook_default_method.html">H_DEFAULT_METHOD</a> hook if set. Calls to the master object never use the <a class="el" href="driver_hook_default_method.html">H_DEFAULT_METHOD</a> hook.</p>
<p>The execution of the :efun:&gt;&gt;<code>&lt;&lt;call_out</code>s implies a simple (not exhaustive) measure against rabbits: the evaluation costs of those call_outs executing at the same time are summed up on a per-UID base. If the summed-up costs exceed the given maximum, a 'too long evaluation' error will occur and any remaining call_outs of this user scheduled for the same time are discarded.</p>
<p>If two :efun:&gt;&gt;<code>&lt;&lt;call_out</code>s were started with the same target time the one that was issued first will be executed first.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a80949ae9919cf34ceed353d2f3a005b8">call_out</a>(string fun, int delay, mixed arg, ...)</div>
<div class="line">void <a class="code" href="classefun.html#a80949ae9919cf34ceed353d2f3a005b8">call_out</a>(closure cl, int delay, mixed arg, ...)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">This will call the function <code>RefreshMe()</code> in 10 seconds without any arguments:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a80949ae9919cf34ceed353d2f3a005b8">call_out</a>(<span class="stringliteral">&quot;RefreshMe&quot;</span>, 10);</div>
</div><!-- fragment --><p> The function <code>RefreshMe()</code> can then call out itself again which will result in a loop (not in a recursion) which can be used to check or set up things in the object in intervals. Be aware that callouts are stored in a linear list, and so are somewhat expensive for the driver.</p>
<p>And YES: a self-replicating <a class="el" href="classefun.html#a80949ae9919cf34ceed353d2f3a005b8" title="Set up a call to function fun in the current object, or to closure cl. ">efun::call_out()</a>, where each call_out creates two or more additional call_outs in a loop (so called 'rabbits') slow the mud down very fast, and are even able to crash it. No need to try it yourself.</p>
<p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#aa9d968db432f5efab59603401e05b2c7" title="Remove next pending call-out for function fun in the current object, resp. ">efun::remove_call_out()</a>, <a class="el" href="classefun.html#ab38f224f65efce3dad779451c371e87b" title="Get information about all pending call outs. ">efun::call_out_info()</a>, <a class="el" href="classefun.html#a92bee49ec4c05a18a4b152ba54656377" title="Find the first call-out due to be executed for function func in the current object resp...">efun::find_call_out()</a>, <a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af" title="Return the current command giver. ">efun::this_player()</a>, <a class="el" href="classapplied.html#a3aea9deb2a0bfea9ff05a898f4822e31" title="The H_RESET hook defines the function or closure to be called when the driver needs to reset an objec...">applied::reset()</a>, <a class="el" href="classapplied.html#ac6da9e44029c67ea80ffa494d9328384" title="This function will be called automatically every __HEART_BEAT_INTERVAL__ seconds. ...">applied::heart_beat()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ab38f224f65efce3dad779451c371e87b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed* call_out_info </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get information about all pending call outs. </p>
<p>The result is an array in which every entry is itself an array describing one call_out. Each of these arrays consists of 3 or more elements:</p>
<ol type="1">
<li>The object the function/closure is called in.</li>
<li>The function or closure.</li>
<li>The delay to go.</li>
<li>The optional argument(s). Callouts for destructed objects will not be contained in the list.</li>
</ol>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed * <a class="code" href="classefun.html#ab38f224f65efce3dad779451c371e87b">call_out_info</a>(<span class="keywordtype">void</span>)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a80949ae9919cf34ceed353d2f3a005b8" title="Set up a call to function fun in the current object, or to closure cl. ">efun::call_out()</a>, <a class="el" href="classefun.html#aa9d968db432f5efab59603401e05b2c7" title="Remove next pending call-out for function fun in the current object, resp. ">efun::remove_call_out()</a>, <a class="el" href="classefun.html#a92bee49ec4c05a18a4b152ba54656377" title="Find the first call-out due to be executed for function func in the current object resp...">efun::find_call_out()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a00b4bc507accbe808ae0c1ae25b7aed6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int call_resolved </td>
          <td>(</td>
          <td class="paramtype">mixed result&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string func&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Similar to <a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a>. </p>
<p>If <code>ob-&gt;func()</code> is defined and publicly accessible, any of the optional extra arguments are passed to <code>ob-&gt;func(...)</code>. The result of that function call is stored in result, which must be passed by reference.</p>
<p>The efun returns 1 if the function could be called. If ob::fun does not define a publicly accessible function, the efun will call the <a class="el" href="driver_hook_default_method.html">H_DEFAULT_METHOD</a> hook if set. If the hook is not set or can't resolve the call either, the efun will return 0. If the hook is set and can resolve the call, the efun will return -1.</p>
<p>Calls to the master object never use the <a class="el" href="driver_hook_default_method.html">H_DEFAULT_METHOD</a> hook. To force non-default calls, <a class="el" href="classefun.html#aab1c8fc1fc94fc634d5b77e74aa8a7c8" title="Similar to efun::call_direct(). ">efun::call_direct_resolved()</a> can be used.</p>
<p>ob can also be an object_name. If a string is passed for ob and an object with that name can't be found or loaded, an error occurs.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a00b4bc507accbe808ae0c1ae25b7aed6">call_resolved</a>(mixed result, object ob, string func, ...)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.3.113) -- added the H_DEFAULT_METHOD hook.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a>, <a class="el" href="classefun.html#aac16fffdf5b556d500d5249d4842c46e" title="Call a member function fun in another object ob with argument(s) arg... ">efun::call_direct()</a>, <a class="el" href="classefun.html#aab1c8fc1fc94fc634d5b77e74aa8a7c8" title="Similar to efun::call_direct(). ">efun::call_direct_resolved()</a>, <a class="el" href="classapplied.html#ae2ee59f7cc16ee42559c87e81c433039" title="The H_CREATE_SUPER, H_CREATE_OB, and H_CREATE_CLONE hooks define the function or closure to be called...">applied::create()</a>, <a class="el" href="driver_syntax_pragma.html">pragma</a>, <a class="el" href="classefun.html#adbad80797e70e6d2fa6ba96cb6e226fb" title="Returns zero, if the function that is currently being executed was called by a local call...">efun::extern_call()</a>, <a class="el" href="classefun.html#a5d01aa2cfe41a64bb709d8ef3db87b58" title="Look up a function str in the current object, respectively in the object ob. ">efun::function_exists()</a>, <a class="el" href="driver_syntax_functions.html">functions</a>, <a class="el" href="classefun.html#afb24b3547fada366e5356ee5a0891d63" title="Similar to efun::map(), but calls arr[n]-&gt;fun(extra,...). ">efun::map_objects()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a7ceb41476c36b9f172725cde9515f74a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object* caller_stack </td>
          <td>(</td>
          <td class="paramtype">int add_interactive&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an array of the previous objects who caused the <a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a> to <a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">efun::this_object()</a>. </p>
<p><code>previous_object(i)</code> equals <code><a class="el" href="classefun.html#a7ceb41476c36b9f172725cde9515f74a" title="Returns an array of the previous objects who caused the efun::call_other() to efun::this_object(). ">caller_stack()</a>[i]</code>.</p>
<p>If you pass the optional argument <code>add_interactive</code> (as true value) <code><a class="el" href="classefun.html#af4fe93bc840224313bc10d018ef288ad" title="Returns the current interactive object, if any (i.e., the one who hit the RETURN key). ">this_interactive()</a></code> is appended to the array, or 0 if there is no current interactive.</p>
<dl class="section user"><dt>note: calls to 'alien lfun closures' (see efun::symbol_function()) generate two entries on the stack if the bound object differs from the closure object: the first is for the bound object, the second for the closure object.</dt><dd></dd></dl>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> * <a class="code" href="classefun.html#a7ceb41476c36b9f172725cde9515f74a">caller_stack</a>()</div>
<div class="line">object * <a class="code" href="classefun.html#a7ceb41476c36b9f172725cde9515f74a">caller_stack</a>(int add_interactive)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">interactive object A enters a command which causes a call to a function in object B, that one calls a function in object C and that, in turn, in object D</p>
<p>If D now calls <code><a class="el" href="classefun.html#a7ceb41476c36b9f172725cde9515f74a" title="Returns an array of the previous objects who caused the efun::call_other() to efun::this_object(). ">caller_stack()</a></code> the result would be: <code>({C,B})</code>. If it calls <code>caller_stack(1)</code> the result is: <code>({C,B,A})</code>.</p>
<p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.6) -- suggested by Tubmud.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a6d3ec4c35f8417da08202e813f8c40be" title="Returns the number of previous objects on the stack. ">efun::caller_stack_depth()</a>, <a class="el" href="classefun.html#a8d720f6391a992bf62bb528a3c48ba14" title="Returns an object pointer to the object that did a call (efun::call_other(), efun::funcall(), etc) to the current object, if any. ">efun::previous_object()</a>, <a class="el" href="classefun.html#af4fe93bc840224313bc10d018ef288ad" title="Returns the current interactive object, if any (i.e., the one who hit the RETURN key). ">efun::this_interactive()</a>, <a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a6d3ec4c35f8417da08202e813f8c40be"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int caller_stack_depth </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of previous objects on the stack. </p>
<p>This can be used for security checks.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a6d3ec4c35f8417da08202e813f8c40be">caller_stack_depth</a>(<span class="keywordtype">void</span>)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a7ceb41476c36b9f172725cde9515f74a" title="Returns an array of the previous objects who caused the efun::call_other() to efun::this_object(). ">efun::caller_stack()</a>, <a class="el" href="classefun.html#a8d720f6391a992bf62bb528a3c48ba14" title="Returns an object pointer to the object that did a call (efun::call_other(), efun::funcall(), etc) to the current object, if any. ">efun::previous_object()</a>, <a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a>, <a class="el" href="classefun.html#a00b4bc507accbe808ae0c1ae25b7aed6" title="Similar to efun::call_other(). ">efun::call_resolved()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ad0587036475bd3f7ba65855ac3aaa114"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string capitalize </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert the first character in str to upper case, and return the new string. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#ad0587036475bd3f7ba65855ac3aaa114">capitalize</a>(string str)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd"><code>capitalize("heya!")</code> returns <code>"Heya!"</code></p>
<p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#aa09b025daf57d621ec68445ba592caeb" title="Convert all characters in str to lower case, and return the new string. ">efun::lower_case()</a>, <a class="el" href="classefun.html#a3fa30d4685b1295a17eaf188456796c1" title="Convert all characters in str to upper case, and return the new string. ">efun::upper_case()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae5c7019db4983c1c09bbf9ebe1b93869"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed catch </td>
          <td>(</td>
          <td class="paramtype">expr&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">expr&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">...;&#160;</td>
          <td class="paramname"><em> modifiers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Evaluate the expressions. </p>
<p>If there is no error, 0 is returned. If there is an error, the evaluation of the expressions stops at that point, and a string with the error message is returned.</p>
<p>System error messages start with a leading '*', user-defined error values (other than 0) as given to <a class="el" href="classefun.html#a4a206a58fea219e3186d92d4adf5c3ea" title="Abort execution. ">efun::throw()</a> and <a class="el" href="classefun.html#a1a2e9b7b0572256c53dcbc0241cce424" title="Abort execution. ">efun::raise_error()</a> are returned as they are.</p>
<p>If at the time the <a class="el" href="classefun.html#ae5c7019db4983c1c09bbf9ebe1b93869" title="Evaluate the expressions. ">efun::catch()</a> is encountered less than <code>__CATCH_EVAL_COST__</code> eval ticks are left, a runtime error will be thrown from inside the <a class="el" href="classefun.html#ae5c7019db4983c1c09bbf9ebe1b93869" title="Evaluate the expressions. ">efun::catch()</a> (and thus caught like every other error) and the expressions will not be executed. The 'reserve' modifier can be used to reserve a different amount of eval ticks.</p>
<p>The default behaviour of <a class="el" href="classefun.html#ae5c7019db4983c1c09bbf9ebe1b93869" title="Evaluate the expressions. ">efun::catch()</a> can be changed using modifiers:</p>
<p>'nolog': Normally, the caught error will be logged in the error logs for easier debugging. With this modifier, the log is suppressed.</p>
<p>'publish': Normally, <a class="el" href="classmaster.html#a6760b65ca73074297789d2fe4974408a" title="This function has to announce a runtime error to the active user. ">master::runtime_error()</a> is not called for a caught error. This modifier instructs <a class="el" href="classefun.html#ae5c7019db4983c1c09bbf9ebe1b93869" title="Evaluate the expressions. ">efun::catch()</a> to call it nevertheless.</p>
<p>'reserve <code>expr'</code>: The expression has to evaluate to a number greater than 0 and is used to determine the amount of eval ticks to reserve, instead of the default of <code>__CATCH_EVAL_COST__</code>. The minimum required are 2 * <code>__MASTER_EVAL_COST__</code>.</p>
<p><a class="el" href="classefun.html#ae5c7019db4983c1c09bbf9ebe1b93869" title="Evaluate the expressions. ">efun::catch()</a> itself is not expensive as far as execution time is concerned: it is about the same as a intra-object function call.</p>
<p><a class="el" href="classefun.html#a4a206a58fea219e3186d92d4adf5c3ea" title="Abort execution. ">efun::throw()</a> is not very expensive either, but does include the internal cleanup of several structures.</p>
<p>Real runtime errors on the other hand are expensive regardless of whether they are caught or not, as they include the generation of the stack backtrace.</p>
<p><a class="el" href="classefun.html#ae5c7019db4983c1c09bbf9ebe1b93869" title="Evaluate the expressions. ">efun::catch()</a> is not <em>really</em> an efun but a compiler directive.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed <span class="keywordflow">catch</span>(expr, expr, ...)</div>
<div class="line">mixed <span class="keywordflow">catch</span>(expr, expr, ... ; modifiers)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">This example demonstrates how to attempt to clone an object, but write a message if an error is encountered:</p>
<div class="fragment"><div class="line"><span class="keywordtype">object</span> obj;</div>
<div class="line"><span class="keywordtype">string</span> err;</div>
<div class="line"><span class="keywordflow">if</span> (err = <span class="keywordflow">catch</span>(obj = <a class="code" href="classefun.html#ac48b7a182d90218465e671cd6f2dcd68">clone_object</a>(<span class="stringliteral">&quot;/foo/bar/baz&quot;</span>)))</div>
<div class="line">   <a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<span class="stringliteral">&quot;Cannot clone object, reason:&quot;</span>+err<span class="stringliteral">&quot;+\n&quot;</span>);</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.9) -- introduced the <span class="stringliteral">&#39;nolog&#39;</span> <span class="keywordflow">catch</span> as experimental feature.</div>
<div class="line">changed (3.2.10) -- implemented <span class="stringliteral">&#39;nolog&#39;</span> as official form and added <span class="stringliteral">&#39;publish&#39;</span>.</div>
<div class="line">changed (3.3.559) -- moved the check regarding __CATCH_EVAL_COST__ inside the catch.</div>
<div class="line">changed (3.3.560) -- added the <span class="stringliteral">&#39;reserve&#39;</span> modifier.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a4a206a58fea219e3186d92d4adf5c3ea" title="Abort execution. ">efun::throw()</a>, <a class="el" href="classefun.html#a1a2e9b7b0572256c53dcbc0241cce424" title="Abort execution. ">efun::raise_error()</a>, <a class="el" href="driver_topics_predefined.html">predefined</a>, <a class="el" href="classmaster.html#a6760b65ca73074297789d2fe4974408a" title="This function has to announce a runtime error to the active user. ">master::runtime_error()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af5c93b9b06a11a60e5920f4c099937e0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float ceil </td>
          <td>(</td>
          <td class="paramtype">int|&#160;</td>
          <td class="paramname"><em>float number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Round the <code>number</code> upwards the nearest whole number, returning that value. </p>
<p>If the <code>number</code> value is an integer, the result will be that value, converted to float.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">float</span> <a class="code" href="classefun.html#af5c93b9b06a11a60e5920f4c099937e0">ceil</a>(<span class="keywordtype">int</span>|float number)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><a class="code" href="classefun.html#af5c93b9b06a11a60e5920f4c099937e0">ceil</a>(4.5)  - returns 5.0</div>
<div class="line">ceil(-4.5) - returns -4.0</div>
<div class="line">ceil(4)    - returns 4.0</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.7)</div>
<div class="line">changed (3.2.9) -- allow integers as argument values.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ab3455bc278e2680045694e1aa4bd4a22" title="Returns the absolute value of number. ">efun::abs()</a>, <a class="el" href="classefun.html#a3a15332be362222ad502e21d511bd239" title="Round the number downwards the nearest whole number, returning that value. ">efun::floor()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a9820c9a0cc652f0f9054e8dd9d7e56b0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string clear_bit </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int n&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the new string where bit n is cleared in string str. </p>
<p>Note that the old string str is not modified.</p>
<p>Each character contains 6 bits. So you can store a value between 0 and 63 ( 2^6=64) in one character. Starting character is the blank character " " which has the value 0. The first charcter in the string is the one with the lowest bits (0-5).</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a9820c9a0cc652f0f9054e8dd9d7e56b0">clear_bit</a>(string str, int n)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> s;</div>
<div class="line">s=<a class="code" href="classefun.html#a9820c9a0cc652f0f9054e8dd9d7e56b0">clear_bit</a>(<span class="stringliteral">&quot;_&quot;</span>,5);</div>
</div><!-- fragment --><p> Because "_" is the highest possible value (63), the variable s will now contain the charcter "?" which is equal to 31 (63-2^5=31):</p>
<div class="fragment"><div class="line"><span class="keywordtype">string</span> s;</div>
<div class="line">s=<a class="code" href="classefun.html#a9820c9a0cc652f0f9054e8dd9d7e56b0">clear_bit</a>(<span class="stringliteral">&quot;?&lt;&quot;</span>,3);</div>
<div class="line">s=<a class="code" href="classefun.html#a9820c9a0cc652f0f9054e8dd9d7e56b0">clear_bit</a>(s,8);</div>
</div><!-- fragment --><p> s will now contain the string "78". "?" equals 31 and "&lt;" equals 28. Now "?&lt;" is equal to 31+28&lt;&lt;6=31+1792=1823 which is in binary notation (highest bit on the right side) 11111000111. Now clearing the bit 3 and bit 8 (bit numbering starts with zero) will result in 11101000011. The first 6 bits are in decimal notation 23 and the next 6 are equal to 24. Now the 23 is the character "7" and 24 is the "8". So the string s contains "78".</p>
<p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#aae4303bfb007375b5f182294e1fb274e" title="Return the new string where bit n is set in string str. ">efun::set_bit()</a>, <a class="el" href="classefun.html#ae9a22225f7ecf80a5bcd52261d1b27c0" title="Return the number of the next bit in bitstring str after position start. ">efun::next_bit()</a>, <a class="el" href="classefun.html#add033af196d131772d3a99373bd14cd9" title="Return the number of the last set bit in bitstring str. ">efun::last_bit()</a>, <a class="el" href="classefun.html#a1f992595c33434f4657015ffe765d2bc" title="Return 0 or 1 if bit n was set in string str. ">efun::test_bit()</a>, <a class="el" href="classefun.html#a4219dca74e569f12726df9bd9e11669d" title="Count the number of set bits in bitstring str and return the number as result. ">efun::count_bits()</a>, <a class="el" href="classefun.html#a481a071b1544dd0eb27556efb3768cb6" title="str1 and str2 are both bitstrings. ">efun::and_bits()</a>, <a class="el" href="classefun.html#af939d33eba6b16a15e87e0737206b0e2" title="str1 and str2 are both bitstrings. ">efun::or_bits()</a>, <a class="el" href="classefun.html#aeda3e1403911d376dd0db4b9b501dc62" title="str1 and str2 are both bitstrings. ">efun::xor_bits()</a>, <a class="el" href="classefun.html#ad37a5b85653678afc3bba3b0fb152a3f" title="Invert the status of all bits in bitstring str and return the new string. ">efun::invert_bits()</a>, <a class="el" href="classefun.html#afcb4b753b24046893741d3c3e0c33e62" title="Copy the bitrange [&lt;em&gt;srcstart&lt;/em&gt;..&lt;em&gt;srcstart&lt;/em&gt;+&lt;em&gt;copylen&lt;/em&gt;] from bitstring src and copy...">efun::copy_bits()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ac48b7a182d90218465e671cd6f2dcd68"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object clone_object </td>
          <td>(</td>
          <td class="paramtype">object template&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clone a new object from definition <code>name</code>, or alternatively from the object <code>template</code>. </p>
<p>In both cases, the new object is given an unique name and returned.</p>
<p>The original used for cloning, called blueprint, should not be used in the system, just for cloning. The cloned objects contain only the data but the blueprint also the function code. The blueprint is the one without a unique number at the end of the object's name. The <a class="el" href="classefun.html#ac48b7a182d90218465e671cd6f2dcd68" title="Clone a new object from definition name, or alternatively from the object template. ">efun::clone_object()</a> function never returns a blueprint.</p>
<p>If the <code>name</code> or <code>template</code> designates a cloned object itself, the system looks up the blueprint object <em>by &gt;&gt;name</em>&lt;&lt;.</p>
<p>If the blueprint exists and has a <a class="el" href="classapplied.html#ac6da9e44029c67ea80ffa494d9328384" title="This function will be called automatically every __HEART_BEAT_INTERVAL__ seconds. ...">applied::heart_beat()</a>, <a class="el" href="classefun.html#ac48b7a182d90218465e671cd6f2dcd68" title="Clone a new object from definition name, or alternatively from the object template. ">efun::clone_object()</a> turns it off.</p>
<p>Note that the pathname must be complete, which means there are no relative paths allowed.</p>
<p>If strict euids are enforced, the cloning object must have a non-zero euid.</p>
<h2>Variable Initialization</h2>
<p>In general, variables are initialized for blueprints and clones alike with a call to the internal lfun <code>__INIT()</code>.</p>
<p>However, if <a class="el" href="driver_syntax_pragma.html">share_variables</a> is in effect (either explicitely given in the source or implicitely as runtime option), the values for a clone's uninitialized variables are taken from the <em>current</em> variables of the object's blueprint.</p>
<p>In the absence of share_variables, variables without explicit initializers are initialized to 0.</p>
<p>Clone a torch (filename in non-compat format):</p>
<div class="fragment"><div class="line"><span class="keywordtype">object</span> torch;</div>
<div class="line">torch = <a class="code" href="classefun.html#ac48b7a182d90218465e671cd6f2dcd68">clone_object</a>(<span class="stringliteral">&quot;/obj/torch&quot;</span>);</div>
</div><!-- fragment --><p> Clone two keys (filename in compat format):</p>
<div class="fragment"><div class="line"><span class="keywordtype">object</span> key1, key2;</div>
<div class="line">key1 = <a class="code" href="classefun.html#ac48b7a182d90218465e671cd6f2dcd68">clone_object</a>(<a class="code" href="classefun.html#a8ef004651be5805383aca5b9a3f8291b">load_object</a>(<span class="stringliteral">&quot;obj/key&quot;</span>));</div>
<div class="line">key2 = <a class="code" href="classefun.html#ac48b7a182d90218465e671cd6f2dcd68">clone_object</a>(key1);</div>
</div><!-- fragment --><p> Create a specialized weapons blueprint:</p>
<div class="fragment"><div class="line">--- std/weapon.c: ---</div>
<div class="line"><span class="preprocessor">#pragma share_variables</span></div>
<div class="line"><span class="preprocessor"></span><span class="keywordtype">int</span> weapon_class = 1;</div>
<div class="line"></div>
<div class="line">--- broadsword.c: ---</div>
<div class="line">inherit <span class="stringliteral">&quot;/std/weapon&quot;</span>;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> create() {</div>
<div class="line">    weapon_class = 2;</div>
<div class="line">    <a class="code" href="classefun.html#a0dc3b4d26c35f8eeae78a2cc913dfa07">replace_program</a>(<span class="stringliteral">&quot;/std/weapon&quot;</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#ac48b7a182d90218465e671cd6f2dcd68">clone_object</a>(string name)</div>
<div class="line">object <a class="code" href="classefun.html#ac48b7a182d90218465e671cd6f2dcd68">clone_object</a>(object template)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.6) -- takes an <span class="keywordtype">object</span> as argument.</div>
<div class="line">changed (3.3.378) -- consolidates variable initialization with share_variables.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a3a63228deda22102b5b98b541b392834" title="The efuns returns the blueprint for the given object ob, or for the current object if ob is not speci...">efun::blueprint()</a>, <a class="el" href="classefun.html#a62a23bfd4fb3823c9d808b3bff345980" title="The efun returns 1 if obj is a clone, and 0 if it is not. ">efun::clonep()</a>, <a class="el" href="classefun.html#a89a46c286d5c8b1c09148c9c6e269c0b" title="Completely destroy and remove object ob (if not already done so). ">efun::destruct()</a>, <a class="el" href="classefun.html#aa73a51eacc31271eff38a1b46ff3b6c2" title="The efuns returns an array with all clones of a certain blueprint. ">efun::clones()</a>, <a class="el" href="classefun.html#a844fa0ed8be8f868d0d4b7a98a20f707" title="Return the load name for the object obj which may be given directly or by its name. ">efun::load_name()</a>, <a class="el" href="classefun.html#a8ef004651be5805383aca5b9a3f8291b" title="Load the object from the file name (which can not be empty) and return it. ">efun::load_object()</a>, <a class="el" href="classefun.html#a4190a089c412b88e938a4a34865e8366" title="The item, which can be an object_name or an object, is moved into it&#39;s new environment dest...">efun::move_object()</a>, <a class="el" href="classefun.html#a29da7cfd7195efb63c82bd788a609e93" title="Returns the name of the program of obj, resp. ">efun::program_name()</a>, <a class="el" href="driver_syntax_pragma.html">pragma</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a62a23bfd4fb3823c9d808b3bff345980"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int clonep </td>
          <td>(</td>
          <td class="paramtype">mixed&#160;</td>
          <td class="paramname"><em> arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The efun returns 1 if <code>obj</code> is a clone, and 0 if it is not. </p>
<p>The <code>obj</code> can be given as the object itself, or by its name. If <code>obj</code> is omitted, the current object is tested. Arguments of other types return 0. Objects with replaced programs no longer count as clones.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a62a23bfd4fb3823c9d808b3bff345980">clonep</a>()</div>
<div class="line">int <a class="code" href="classefun.html#a62a23bfd4fb3823c9d808b3bff345980">clonep</a>(object obj)</div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a62a23bfd4fb3823c9d808b3bff345980">clonep</a>(string obj)</div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a62a23bfd4fb3823c9d808b3bff345980">clonep</a>(mixed  arg)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> o;</div>
<div class="line">o = <a class="code" href="classefun.html#ac48b7a182d90218465e671cd6f2dcd68">clone_object</a>(<span class="stringliteral">&quot;/std/thing&quot;</span>);</div>
<div class="line"><a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<a class="code" href="classefun.html#a62a23bfd4fb3823c9d808b3bff345980">clonep</a>(o));                           --&gt; writes <span class="stringliteral">&quot;1&quot;</span></div>
<div class="line"><a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<a class="code" href="classefun.html#a62a23bfd4fb3823c9d808b3bff345980">clonep</a>(<span class="stringliteral">&quot;/std/thing&quot;</span>))                 --&gt; writes <span class="stringliteral">&quot;0&quot;</span></div>
<div class="line"></div>
<div class="line">(In COMPAT_MODE use <span class="stringliteral">&quot;std/thing&quot;</span> as the filename)</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.6)</div>
<div class="line">changed (3.2.7) -- objects with replaced programs no longer count as <a class="code" href="classefun.html#aa73a51eacc31271eff38a1b46ff3b6c2">clones</a>.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a844fa0ed8be8f868d0d4b7a98a20f707" title="Return the load name for the object obj which may be given directly or by its name. ">efun::load_name()</a>, <a class="el" href="classefun.html#ac48b7a182d90218465e671cd6f2dcd68" title="Clone a new object from definition name, or alternatively from the object template. ">efun::clone_object()</a>, <a class="el" href="classefun.html#aa73a51eacc31271eff38a1b46ff3b6c2" title="The efuns returns an array with all clones of a certain blueprint. ">efun::clones()</a>, <a class="el" href="classefun.html#af96696b3733777271624be5575c72726" title="Returns 1 if the argument is a closure. ">efun::closurep()</a>, <a class="el" href="classefun.html#a1493e7a68d0e7eb19f5f60d3c5761e9c" title="Returns 1 if the arg is a floating point number, 0 else. ">efun::floatp()</a>, <a class="el" href="classefun.html#a588bcd8d5f59e8c2c08c0d989c530863" title="Returns 1 if the argument is a mapping, or 0 if it is not. ">efun::mappingp()</a>, <a class="el" href="classefun.html#acc5e526acbd3a54f8f9625cc1fdc7f75" title="Return 1 if arg is an object. ">efun::objectp()</a>, <a class="el" href="classefun.html#aae25e47ee6526e8297fa3d9c822a22be" title="Return 1 if arg is an integer number. ">efun::intp()</a>, <a class="el" href="classefun.html#af28bd368a436849fb5195eb34ca53af3" title="returns true if arg was passed by reference to the current function, instead of the usual call-by-val...">efun::referencep()</a>, <a class="el" href="classefun.html#a3c94a0dd0f29e1f90f48d17e53fec879" title="Return 1 if arg is a pointer, i.e. ">efun::pointerp()</a>, <a class="el" href="classefun.html#ad45cc3605ecbe92c52b8c1c8408da017" title="Return 1 if arg is a string. ">efun::stringp()</a>, <a class="el" href="classefun.html#aa0bbde61230276ac5155fa61b54c63f2" title="Returns 1 if value is a symbol. ">efun::symbolp()</a>, <a class="el" href="classefun.html#a1f75bb586fd744aa865714d4bab27b34" title="Return 1 if arg is a struct. ">efun::structp()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aa73a51eacc31271eff38a1b46ff3b6c2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object* clones </td>
          <td>(</td>
          <td class="paramtype">string|object&#160;</td>
          <td class="paramname"><em>obj </em>[, int what]</td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The efuns returns an array with all clones of a certain blueprint. </p>
<p>The array is subject to the usual runtime limits.</p>
<p>If <code>obj</code> is given, all clones of the blueprint of <code>obj</code> (which may be <code>obj</code> itself) are returned, otherwise all clones of the current object resp. of the current object's blueprint. If <code>obj</code> is given as string, it must name an existing object.</p>
<p><code>what</code> selects how to treat clones made from earlier versions of the blueprint:</p>
<p><code>== 0</code> (default) return the clones of the current blueprint only.</p>
<p><code>== 1</code> return the clones of the previous blueprints only.</p>
<p><code>== 2</code> return all clones of the blueprint.</p>
<dl class="section user"><dt>note: this efun is computationally expensive.</dt><dd></dd></dl>
<p>If the driver is compiled with DYNAMIC_COSTS, the cost of this efun is proportional to the number of objects in the game.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> * <a class="code" href="classefun.html#aa73a51eacc31271eff38a1b46ff3b6c2">clones</a>()</div>
<div class="line">object * <a class="code" href="classefun.html#aa73a51eacc31271eff38a1b46ff3b6c2">clones</a>(int what)</div>
<div class="line"><span class="keywordtype">object</span> * <a class="code" href="classefun.html#aa73a51eacc31271eff38a1b46ff3b6c2">clones</a>(<span class="keywordtype">string</span>|<span class="keywordtype">object</span> obj [, int what])</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> o, p;</div>
<div class="line">o = <a class="code" href="classefun.html#ac48b7a182d90218465e671cd6f2dcd68">clone_object</a>(<span class="stringliteral">&quot;/std/thing&quot;</span>); <span class="comment">// or &quot;std/thing&quot; in COMPAT mode</span></div>
<div class="line"><a class="code" href="classefun.html#a89a46c286d5c8b1c09148c9c6e269c0b">destruct</a>(<a class="code" href="classefun.html#a12339d2d254849a1342fd79bdb89f638">find_object</a>(<span class="stringliteral">&quot;/std/thing&quot;</span>));</div>
<div class="line">p = <a class="code" href="classefun.html#ac48b7a182d90218465e671cd6f2dcd68">clone_object</a>(<span class="stringliteral">&quot;/std/thing&quot;</span>);</div>
<div class="line"></div>
<div class="line"><a class="code" href="classefun.html#aa73a51eacc31271eff38a1b46ff3b6c2">clones</a>(<span class="stringliteral">&quot;/std/thing&quot;</span>)    --&gt; returns ({ p })</div>
<div class="line"><a class="code" href="classefun.html#aa73a51eacc31271eff38a1b46ff3b6c2">clones</a>(<span class="stringliteral">&quot;/std/thing&quot;</span>, 0) --&gt; returns ({ p })</div>
<div class="line"><a class="code" href="classefun.html#aa73a51eacc31271eff38a1b46ff3b6c2">clones</a>(<span class="stringliteral">&quot;/std/thing&quot;</span>, 1) --&gt; returns ({ o })</div>
<div class="line"><a class="code" href="classefun.html#aa73a51eacc31271eff38a1b46ff3b6c2">clones</a>(<span class="stringliteral">&quot;/std/thing&quot;</span>, 2) --&gt; returns ({ o, p })</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.8)</div>
<div class="line">changed (3.2.9) -- adds the dynamic cost.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a3a63228deda22102b5b98b541b392834" title="The efuns returns the blueprint for the given object ob, or for the current object if ob is not speci...">efun::blueprint()</a>, <a class="el" href="classefun.html#ac48b7a182d90218465e671cd6f2dcd68" title="Clone a new object from definition name, or alternatively from the object template. ">efun::clone_object()</a>, <a class="el" href="classefun.html#a62a23bfd4fb3823c9d808b3bff345980" title="The efun returns 1 if obj is a clone, and 0 if it is not. ">efun::clonep()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af96696b3733777271624be5575c72726"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int closurep </td>
          <td>(</td>
          <td class="paramtype">mixed&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns 1 if the argument is a closure. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#af96696b3733777271624be5575c72726">closurep</a>(mixed)</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ae0ce5d3f989d2054ce6b26d5fb22ab6d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int command </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Execute str as a command given directly by the user. </p>
<p>Any effects of the command will apply to the current object, or to <code>ob</code>.</p>
<p>Return value is 0 for failure. Otherwise a numeric value is returned which tells the evaluation cost. Bigger number means higher cost. The evaluation cost is approximately the number of LPC machine code instructions executed.</p>
<p>If <a class="el" href="classefun.html#ae0ce5d3f989d2054ce6b26d5fb22ab6d" title="Execute str as a command given directly by the user. ">efun::command()</a> is called on another object, it is not possible to call static functions in this way, to give some protection against illegal forces.</p>
<p>Commands are stacked, meaning that after the given command <code>str</code> has finished, the old settings of <a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af" title="Return the current command giver. ">efun::this_player()</a>, <a class="el" href="classefun.html#ae1f08790d1820834e9fb63b7e686f75d" title="Return the verb of the current command, of 0 if not executing from a command. ">efun::query_verb()</a> etc, are restored.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#ae0ce5d3f989d2054ce6b26d5fb22ab6d">command</a>(string str)</div>
<div class="line">int command(string str, object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.6) -- in native mode, commands are no longer <a class="code" href="classefun.html#a2ae3872648557b6f90a3ccda1665b84b">limited</a> to the current <span class="keywordtype">object</span> only.</div>
<div class="line">changed (3.2.7) -- commands are stacked.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a5d1ff18e70214ed8123b3038b933f7c1" title="Return an array describing the current command stack. ">efun::command_stack()</a>, <a class="el" href="classefun.html#afe008c0344508051dcc4d07d79dd0bc4" title="Store str as the error message given instead of the default message &quot;What ?&quot;. ">efun::notify_fail()</a>, <a class="el" href="classefun.html#a57a7c813f5dd1e9315900171a868d4dd" title="Enable this object to use commands normally accessible to users. ">efun::enable_commands()</a>, <a class="el" href="classefun.html#a91b15fc4ef6d406fc7caf7e26d67223d" title="Returns the remaining evaluation cost the current execution (the current command) may use up...">efun::get_eval_cost()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a5d1ff18e70214ed8123b3038b933f7c1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed* command_stack </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return an array describing the current command stack. </p>
<p>The array has <code><a class="el" href="classefun.html#a13d2426a21824e043059b208346833ed" title="Return the number of nested commands, ie. ">command_stack_depth()</a></code> entries, the first describing the top-level command, and the last describing the current one.</p>
<p>Each entry is an array itself with these entries:</p>
<p>string [CMD_VERB]: the verb of this command string [CMD_TEXT]: the full command text object [CMD_ORIGIN]: the original command giver object [CMD_PLAYER]: the current command giver mixed [CMD_FAIL]: the notify_fail setting (or 0). mixed [CMD_FAILOBJ]: the object which set the notify_fail setting.</p>
<p><code>CMD_ORIGIN</code> and <code>CMD_PLAYER</code> are usually the same; there is a difference only if <a class="el" href="driver_hook_modify_command.html">H_MODIFY_COMMAND</a> changes the command giver with <a class="el" href="classefun.html#ae1bf3a00c85d227ac9d23d415aec2f0d" title="Change the current command giver to ob. ">efun::set_this_player()</a>.</p>
<dl class="section user"><dt>note: any of the entries may be returned as 0.</dt><dd></dd></dl>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed * <a class="code" href="classefun.html#a5d1ff18e70214ed8123b3038b933f7c1">command_stack</a>(<span class="keywordtype">void</span>)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.7)</div>
<div class="line">changed (3.2.8) -- added the CMD_FAILOBJ result</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ae0ce5d3f989d2054ce6b26d5fb22ab6d" title="Execute str as a command given directly by the user. ">efun::command()</a>, <a class="el" href="classefun.html#a13d2426a21824e043059b208346833ed" title="Return the number of nested commands, ie. ">efun::command_stack_depth()</a>, <a class="el" href="classefun.html#afe008c0344508051dcc4d07d79dd0bc4" title="Store str as the error message given instead of the default message &quot;What ?&quot;. ">efun::notify_fail()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a13d2426a21824e043059b208346833ed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int command_stack_depth </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the number of nested commands, ie. </p>
<p>the depth of the command stack.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a13d2426a21824e043059b208346833ed">command_stack_depth</a>(<span class="keywordtype">void</span>)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.7)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ae0ce5d3f989d2054ce6b26d5fb22ab6d" title="Execute str as a command given directly by the user. ">efun::command()</a>, <a class="el" href="classefun.html#a5d1ff18e70214ed8123b3038b933f7c1" title="Return an array describing the current command stack. ">efun::command_stack()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a754455d5996efd0b45ddebf2028cea09"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void configure_driver </td>
          <td>(</td>
          <td class="paramtype">int what&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed data&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This efun configures runtime adjustable bahviour of the driver. </p>
<p>Sets the option <code>what</code> to the value <code>data</code>.</p>
<p>This function always causes the privilege_violation ("configure_driver", <a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a>, what, data).</p>
<p><code>what</code> == <code>DC_MEMORY_LIMIT</code> Set new soft and hard memory limits for the driver. <code>data</code> is expected to be an array with two elements, which have to be integers giving the amount of memory in bytes. <code>({&lt;soft memory limit&gt;, &lt;hard memory limit&gt;})</code></p>
<p><code>what</code> == <code>DC_ENABLE_HEART_BEATS</code> Globally enable the calling of Heartbeats, if <code>data</code> is 1, globally disable them if <code>data</code> is 0. If called during heartbeat processing, the change comes into effect at the next backend cycle.</p>
<p><code>what</code> == <code>DC_LONG_EXEC_TIME</code> Set the time considered as (too) long for top-level executions. If an execution exceeds this time, a stack trace will be written to the debug log. The execution will continue at that point. <code>data</code> is an integer and measured in microseconds. A time of 0 disables the detection of long executions.</p>
<p><code>what</code> == <code>DC_DATA_CLEAN_TIME</code> Sets the average time between clean-ups of an objects data structures. This is not to be confused with the standard cleanup time which determines when <a class="el" href="driver_hook_clean_up.html">H_CLEAN_UP</a> is called. A long time for data cleanup may lead to larger memory consumption and prevents destructed objects being cleaned up. A too short time may lead to high loads and lag on the machine. The actual time delay will be a time between <code>0.9*DC_DATA_CLEAN_TIME</code> and <code>1.1*DC_DATA_CLEAN_TIME</code>. Default at driver startup are 3600s. <code>data</code> is an integer and measured in seconds.</p>
<p><code>what</code> == <code>DC_TLS_CERTIFICATE</code> Sets the current certificate used for new TLS sessions. It can be one of the certificates in the key directory (command line option &ndash;tls-keydirectory) or the main certificate (given with &ndash;tls-certfile). Default is the main certificate or else the first certificate found in the directory. The chosen certificate at the time of the <a class="el" href="classefun.html#a8b5de31f232caee7f2bdfb50e9a626ec" title="Tries to start a TLS-secured connection to the interactive object ob (or this_object() if ob is not g...">efun::tls_init_connection()</a> call is used for that connection. <code>data</code> is a string containing the SHA1 fingerprint of the certificate with hexadecimal numbers, it may contain colons or whitespaces (for example <code>5A:FE:CA:57:1E:50:5E:1E:C7:ED:BA:11:AD:50:10:75:0F:7A:1E:50</code>). When loading certificates their fingerprints are printed on stdout and into the logfile.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a754455d5996efd0b45ddebf2028cea09">configure_driver</a>(int what, mixed data)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.719)</div>
<div class="line">changed (3.5.0) -- added DC_ENABLE_HEART_BEATS, DC_LONG_EXEC_TIME, DC_DATA_CLEAN_TIME, DC_TLS_CERTIFICATE was added in 3.5.0.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a68840ff50b3f2328be081a1f98fc32fe" title="Sets the option what to the value data on the interactive ob or the default for all interactives if o...">efun::configure_interactive()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a68840ff50b3f2328be081a1f98fc32fe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void configure_interactive </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int what&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed data&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the option <code>what</code> to the value <code>data</code> on the interactive <code>ob</code> or the default for all interactives if <code>ob</code> is 0. </p>
<p>If the first argument <code>ob</code> is not <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code>, the privilege violation ("configure_interactive", <a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a>, ob, what, data) occurs.</p>
<p>As <code>what</code>, the following arguments are accepted:</p>
<p><code>what</code> == <code>IC_MAX_WRITE_BUFFER_SIZE</code> Sets the maximum amount of data to be held pending for writing per player to <code>data</code> bytes. A value of -1 means unlimited, 0 deactivates the write buffer.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a68840ff50b3f2328be081a1f98fc32fe">configure_interactive</a>(object ob, int what, mixed data)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.719)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a754455d5996efd0b45ddebf2028cea09" title="This efun configures runtime adjustable bahviour of the driver. ">efun::configure_driver()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="acffbc5493c554e688efabc660f2cac56"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string convert_charset </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string from_cs&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string to_cs&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert the string <code>str</code> from charset <code>from_cs</code> to charset <code>to_cs</code> and return the converted string. </p>
<p>The charsets for <code>from_cs</code> and <code>to_cs</code> are given by name, and both lowercase and uppercase are accepted.</p>
<p>The efun is only available on systems with libiconv installed and the actual capabilities / available charsets depend on the host systems's libiconv/libc.</p>
<p>Usually, the following charsets for <code>from_cs</code> and <code>to_cs</code> are available:</p>
<p>The Locale the driver is running under "" (the empty string)</p>
<p>European languages ASCII, ISO-8859-{1,2,3,4,5,7,9,10,13,14,15,16}, KOI8-R, KOI8-U, KOI8-RU, CP{1250,1251,1252,1253,1254,1257}, CP{850,866}, Mac{Roman,CentralEurope,Iceland,Croatian,Romania}, Mac{Cyrillic,Ukraine,Greek,Turkish}, Macintosh</p>
<p>Semitic languages ISO-8859-{6,8}, CP{1255,1256}, CP862, Mac{Hebrew,Arabic}</p>
<p>Japanese EUC-JP, SHIFT_JIS, CP932, ISO-2022-JP, ISO-2022-JP-2, ISO-2022-JP-1</p>
<p>Chinese EUC-CN, HZ, GBK, GB18030, EUC-TW, BIG5, CP950, BIG5-HKSCS, ISO-2022-CN, ISO-2022-CN-EXT</p>
<p>Korean EUC-KR, CP949, ISO-2022-KR, JOHAB</p>
<p>Armenian ARMSCII-8</p>
<p>Georgian Georgian-Academy, Georgian-PS</p>
<p>Tajik KOI8-T</p>
<p>Thai TIS-620, CP874, MacThai</p>
<p>Laotian MuleLao-1, CP1133</p>
<p>Vietnamese VISCII, TCVN, CP1258</p>
<p>Platform specifics HP-ROMAN8, NEXTSTEP</p>
<p>Full Unicode UTF-8, UCS-2, UCS-2BE, UCS-2LE, UCS-4, UCS-4BE, UCS-4LE, UTF-16, UTF-16BE, UTF-16LE, UTF-32, UTF-32BE, UTF-32LE UTF-7 C99, JAVA</p>
<p>On some systems, the following additional charsets might be supported as well:</p>
<p>European languages CP{437,737,775,852,853,855,857,858,860,861,863,865,869,1125}</p>
<p>Semitic languages CP864</p>
<p>Japanese EUC-JISX0213, Shift_JISX0213, ISO-2022-JP-3</p>
<p>Turkmen TDS565</p>
<p>Platform specifics RISCOS-LATIN1</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#acffbc5493c554e688efabc660f2cac56">convert_charset</a>(string str, string from_cs, string to_cs)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">To convert some text from ascii to utf-8:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#acffbc5493c554e688efabc660f2cac56">convert_charset</a>(<span class="stringliteral">&quot;Hi!&quot;</span>, <span class="stringliteral">&quot;ascii&quot;</span>, <span class="stringliteral">&quot;utf-8&quot;</span>)</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.531)</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="a1d1d4e6c303dc08e0b9952e38361b028"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed copy </td>
          <td>(</td>
          <td class="paramtype">mixed value&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a shallow copy of <code>value</code> and return it. </p>
<p>For arrays and mappings this means that a new array or mapping is created with copies of the original content. Embedded arrays and mappings are copied by reference!</p>
<p>For other values this function is a no-op.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed <a class="code" href="classefun.html#a1d1d4e6c303dc08e0b9952e38361b028">copy</a>(mixed value)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">Because the example below uses a shallow copy, modifications to the nested array are visible in both copies:</p>
<div class="fragment"><div class="line">mixed *a, *b;</div>
<div class="line"></div>
<div class="line">a = ({ 1, ({ 21, 22 }) });</div>
<div class="line">b = <a class="code" href="classefun.html#a1d1d4e6c303dc08e0b9952e38361b028">copy</a>(a);</div>
<div class="line">a[0] = -1;</div>
<div class="line">a[1][0] = -21;</div>
<div class="line"></div>
<div class="line"><span class="comment">// a is now ({ -1, ({ -21, 22 }) })</span></div>
<div class="line"><span class="comment">// b is now ({  1, ({ -21, 22 }) })</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.6)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#aaa7f17ec1022dac35a818c575fef969a" title="Create a deep copy of value and return it. ">efun::deep_copy()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="afcb4b753b24046893741d3c3e0c33e62"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string copy_bits </td>
          <td>(</td>
          <td class="paramtype">string src&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string dest]]&#160;</td>
          <td class="paramname">[, int srcstart [, int deststart [, int copylen ]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy the bitrange <code>[&lt;em&gt;srcstart&lt;/em&gt;..&lt;em&gt;srcstart&lt;/em&gt;+&lt;em&gt;copylen&lt;/em&gt;]</code> from bitstring <code>src</code> and copy it into the bitstring <code>dest</code> starting at <code>deststart</code>, overwriting the original bits at those positions. </p>
<p>The resulting combined string is returned, the input strings remain unaffected.</p>
<p>If <code>srcstart</code> is not given, <code>src</code> is copied from the start. If <code>srcstart</code> is negative, it is counted from one past the last set bit in the string (ie. '-1' will index the last set bit).</p>
<p>If <code>deststart</code> is not given, <code>dest</code> will be overwritten from the start. If <code>deststart</code> is negative, it is counted from one past the last set bit in the string (ie. '-1' will index the last set bit).</p>
<p>If <code>copylen</code> is not given, it is assumed to be infinite, ie. the result will consist of <code>dest</code> up to position <code>deststart</code>, followed by the data copied from <code>src</code>. If <code>copylen</code> is negative, the function will copy the abs(<code>copylen</code>) bits <em>before</em> <code>srcstart</code> in to the result.</p>
<p>None of the range limits can become negative.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#afcb4b753b24046893741d3c3e0c33e62">copy_bits</a>(string src, string dest[, <span class="keywordtype">int</span> srcstart [, <span class="keywordtype">int</span> deststart [, <span class="keywordtype">int</span> copylen ]]])</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><a class="code" href="classefun.html#afcb4b753b24046893741d3c3e0c33e62">copy_bits</a>(src, dest, 10)    === src[10..]</div>
<div class="line"><a class="code" href="classefun.html#afcb4b753b24046893741d3c3e0c33e62">copy_bits</a>(src, dest, 10, 5) === dest[0..4] + src[10..]</div>
<div class="line"><a class="code" href="classefun.html#afcb4b753b24046893741d3c3e0c33e62">copy_bits</a>(src, dest, 10, 5, 3)</div>
<div class="line">                            === dest[0..4] + src[10..12] + dest[8..]</div>
</div><!-- fragment --><p> (The src[]/dest[] is just for explanatory purposes!)</p>
<p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.166)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a9820c9a0cc652f0f9054e8dd9d7e56b0" title="Return the new string where bit n is cleared in string str. ">efun::clear_bit()</a>, <a class="el" href="classefun.html#aae4303bfb007375b5f182294e1fb274e" title="Return the new string where bit n is set in string str. ">efun::set_bit()</a>, <a class="el" href="classefun.html#a1f992595c33434f4657015ffe765d2bc" title="Return 0 or 1 if bit n was set in string str. ">efun::test_bit()</a>, <a class="el" href="classefun.html#ae9a22225f7ecf80a5bcd52261d1b27c0" title="Return the number of the next bit in bitstring str after position start. ">efun::next_bit()</a>, <a class="el" href="classefun.html#add033af196d131772d3a99373bd14cd9" title="Return the number of the last set bit in bitstring str. ">efun::last_bit()</a>, <a class="el" href="classefun.html#a4219dca74e569f12726df9bd9e11669d" title="Count the number of set bits in bitstring str and return the number as result. ">efun::count_bits()</a>, <a class="el" href="classefun.html#af939d33eba6b16a15e87e0737206b0e2" title="str1 and str2 are both bitstrings. ">efun::or_bits()</a>, <a class="el" href="classefun.html#aeda3e1403911d376dd0db4b9b501dc62" title="str1 and str2 are both bitstrings. ">efun::xor_bits()</a>, <a class="el" href="classefun.html#ad37a5b85653678afc3bba3b0fb152a3f" title="Invert the status of all bits in bitstring str and return the new string. ">efun::invert_bits()</a>, <a class="el" href="classefun.html#a481a071b1544dd0eb27556efb3768cb6" title="str1 and str2 are both bitstrings. ">efun::and_bits()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a32df4398750cc0fbab7b4e55f30a536b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int copy_file </td>
          <td>(</td>
          <td class="paramtype">string from&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string to&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copies the file <code>from</code> to the new name <code>to</code>. </p>
<p>If <code>to</code> exists and is a directory, then <code>from</code> will be placed in that directory and keep its original name.</p>
<p>You must have read permission for <code>from</code> and write permission for the target file to copy the file.</p>
<p>On successful completion <a class="el" href="classefun.html#a32df4398750cc0fbab7b4e55f30a536b" title="Copies the file from to the new name to. ">efun::copy_file()</a> will return 0. If any error occurs, a non-zero value is returned.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a32df4398750cc0fbab7b4e55f30a536b">copy_file</a>(string from, string to)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><a class="code" href="classefun.html#a32df4398750cc0fbab7b4e55f30a536b">copy_file</a>(<span class="stringliteral">&quot;/players/wizard/obj.c&quot;</span>, <span class="stringliteral">&quot;/players/wizard/newobj.c&quot;</span>);</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.9) -- restricts the error behaviour to returning non-0.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a04954648bada0ed418aae3b3d42e552c" title="Make a directory named path. ">efun::mkdir()</a>, <a class="el" href="classefun.html#a2fb85ac66a311b390a291be362fe3f50" title="Remove directory dir. ">efun::rmdir()</a>, <a class="el" href="classefun.html#aaec3d134cb8138d71a07a58e90503ff1" title="Remove the file. ">efun::rm()</a>, <a class="el" href="classefun.html#a46d8559623ca6901276f7c8f393cab40" title="Moves from to the new name to. ">efun::rename()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af6e6d9edd947ede82b886aa6fb924761"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float cos </td>
          <td>(</td>
          <td class="paramtype">int|&#160;</td>
          <td class="paramname"><em>float</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the cosinus of the argument. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">float</span> <a class="code" href="classefun.html#af6e6d9edd947ede82b886aa6fb924761">cos</a>(<span class="keywordtype">int</span>|<span class="keywordtype">float</span>)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.9) -- added integers as arguments.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a933a36f652c733f5117565524dcaedf3" title="Returns the sine of the argument. ">efun::sin()</a>, <a class="el" href="classefun.html#a78b9d0583bd0699e2eac30d2a136817a" title="Returns the arcus sine of its argument. ">efun::asin()</a>, <a class="el" href="classefun.html#a07648648c7f857cfd1479821d4389751" title="Returns the arcus cosine of the argument. ">efun::acos()</a>, <a class="el" href="classefun.html#ae0d1c93eb42a5e19a95fcf72d189ab2f" title="Returns the tangent of the argument. ">efun::tan()</a>, <a class="el" href="classefun.html#a0b28d79466130f759e16240979e44f0d" title="Returns the argument&#39;s arcus tangent. ">efun::atan()</a>, <a class="el" href="classefun.html#a11e580e05e7a7739cc880834099778b1" title="Returns the angle part of the polar coordinates of the point (x, y) in the range (-pi, pi). ">efun::atan2()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a4219dca74e569f12726df9bd9e11669d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int count_bits </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Count the number of set bits in bitstring <code>str</code> and return the number as result. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a4219dca74e569f12726df9bd9e11669d">count_bits</a>(string str)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">Here's a very simple example:</p>
<div class="fragment"><div class="line"><span class="keywordtype">string</span> s;</div>
<div class="line"></div>
<div class="line">s = <a class="code" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a>(<span class="stringliteral">&quot;&quot;</span>, 3);</div>
<div class="line">s = <a class="code" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a>(s, 15);</div>
<div class="line"></div>
<div class="line"><a class="code" href="classefun.html#a4219dca74e569f12726df9bd9e11669d">count_bits</a>(s) <span class="comment">// returns 2</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a9820c9a0cc652f0f9054e8dd9d7e56b0" title="Return the new string where bit n is cleared in string str. ">efun::clear_bit()</a>, <a class="el" href="classefun.html#aae4303bfb007375b5f182294e1fb274e" title="Return the new string where bit n is set in string str. ">efun::set_bit()</a>, <a class="el" href="classefun.html#a1f992595c33434f4657015ffe765d2bc" title="Return 0 or 1 if bit n was set in string str. ">efun::test_bit()</a>, <a class="el" href="classefun.html#ae9a22225f7ecf80a5bcd52261d1b27c0" title="Return the number of the next bit in bitstring str after position start. ">efun::next_bit()</a>, <a class="el" href="classefun.html#add033af196d131772d3a99373bd14cd9" title="Return the number of the last set bit in bitstring str. ">efun::last_bit()</a>, <a class="el" href="classefun.html#af939d33eba6b16a15e87e0737206b0e2" title="str1 and str2 are both bitstrings. ">efun::or_bits()</a>, <a class="el" href="classefun.html#aeda3e1403911d376dd0db4b9b501dc62" title="str1 and str2 are both bitstrings. ">efun::xor_bits()</a>, <a class="el" href="classefun.html#ad37a5b85653678afc3bba3b0fb152a3f" title="Invert the status of all bits in bitstring str and return the new string. ">efun::invert_bits()</a>, <a class="el" href="classefun.html#afcb4b753b24046893741d3c3e0c33e62" title="Copy the bitrange [&lt;em&gt;srcstart&lt;/em&gt;..&lt;em&gt;srcstart&lt;/em&gt;+&lt;em&gt;copylen&lt;/em&gt;] from bitstring src and copy...">efun::copy_bits()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a55343a0ba8533a02cda89031a6fa91b7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string creator </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This efun is for backward compatibility only. </p>
<p>It is only available in compat mode.</p>
<p>Returns the creator (i.e. the name of the wizard or domain) of the object. Default for <code>ob</code> is <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code>.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a55343a0ba8533a02cda89031a6fa91b7">creator</a>(object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.1@47) -- <span class="keyword">this</span> <a class="code" href="classefun.html">efun</a> is now an alias <span class="keywordflow">for</span> <a class="code" href="classefun.html#a1cee8cfd71595afe5cb29db76705b601">getuid</a>.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a1cee8cfd71595afe5cb29db76705b601" title="User-ids are not used in compat mode. ">efun::getuid()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a293b5dd324033d04f2b6da0f6ba4654b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string crypt </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string seed&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Crypt the string <code>str</code> the first two characters from the string <code>seed</code> as a seed. </p>
<p>If <code>seed</code> is an integer, then a random seed is used.</p>
<p>The result has the first two characters as the seed.</p>
<p>If you want to let users enter password information without echo, <a class="el" href="classefun.html#af611da839c18f550d1639881f3f3cade" title="Enable next line of user input to be sent to the function fun as an argument. ">efun::input_to()</a> can be used with the <code>INPUT_NOECHO</code> flag.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a293b5dd324033d04f2b6da0f6ba4654b">crypt</a>(string str, int seed)</div>
<div class="line">string <a class="code" href="classefun.html#a293b5dd324033d04f2b6da0f6ba4654b">crypt</a>(string str, string seed)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a4f75178a00fc81b8384aa3a757d0902f" title="Create and return a MD5 message digest from arg. ">efun::md5()</a>, <a class="el" href="classefun.html#a31c2c39301c169902bdd78369dab70ae" title="Crypt the string str the first two characters from the string seed as a seed. ">efun::md5_crypt()</a>, <a class="el" href="classefun.html#ac53ffe809c88eeb6af75fedb41d9bfc3" title="Create and return a SHA1 message digest from arg. ">efun::sha1()</a>, <a class="el" href="classefun.html#a2ae8a96180aad2e6b720a153546b2c25" title="Calculate the hash from arg as determined by method. ">efun::hash()</a>, <a class="el" href="classefun.html#a2fcc22b543fc2a8229c4739af28fbcae" title="Calculate the Hashed Message Authenication Code for value based on the digest method and the password...">efun::hmac()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a0063aa195f706f56b790a045c06afcb1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string ctime </td>
          <td>(</td>
          <td class="paramtype">int  *&#160;</td>
          <td class="paramname"><em>uclock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0.00 and convert it to a nice date and time string. </p>
<p>If clock is not specified, <code><a class="el" href="classefun.html#aa560fa38ca94599aa767ccb916e9bce7" title="Return number of seconds elapsed since `1. ">time()</a></code> is used as default.</p>
<p>The second form is like the first, except that it takes as argument an array of ints as it is returned from <a class="el" href="classefun.html#a3b84da42b3b5f804d14762ddfcc3da91" title="Return the time since `1. ">efun::utime()</a>: int[0] is the number of seconds like before, int[1] is the number of microseconds within that second.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a0063aa195f706f56b790a045c06afcb1">ctime</a>(int clock)</div>
<div class="line">string <a class="code" href="classefun.html#a0063aa195f706f56b790a045c06afcb1">ctime</a>(int *uclock)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">The below will print out something like "Fri Jul 17 19:13:33 1992":</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<a class="code" href="classefun.html#a0063aa195f706f56b790a045c06afcb1">ctime</a>()+<span class="stringliteral">&quot;\n&quot;</span>);</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.9) -- adds the second form.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#af44be4217f00942db63875e6988a0f56" title="Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0:00, and return the time in ...">efun::gmtime()</a>, <a class="el" href="classefun.html#acd45e9336d29a4f03307ff89318e26ee" title="Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0:00, and return the time in ...">efun::localtime()</a>, <a class="el" href="classefun.html#ae6926710136aed0f66cfd4b825055e2f" title="If the argument ts is an array with 9 elements (int) according to the result of efun::localtime() or ...">efun::mktime()</a>, <a class="el" href="classefun.html#a76c8311a125456baec350628b227e039" title="Formats the given time in clock as a string, similar to efun::ctime(). ">efun::strftime()</a>, <a class="el" href="classefun.html#aa560fa38ca94599aa767ccb916e9bce7" title="Return number of seconds elapsed since `1. ">efun::time()</a>, <a class="el" href="classefun.html#a3b84da42b3b5f804d14762ddfcc3da91" title="Return the time since `1. ">efun::utime()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a189f629b6f5461a8a6637c4fae69e7e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int db_affected_rows </td>
          <td>(</td>
          <td class="paramtype">int handle&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the number of affected rows of the last SQL-statement that has been sent to the SQL-server via handle <code>handle</code>. </p>
<p>Only useful for DELETE- or UPDATE-operations.</p>
<p>The function is available only if the driver is compiled with mySQL support. In that case, <a class="el" href="driver_topics_predefined.html">__MYSQL__</a> is defined.</p>
<p>The efun triggers a privilege violation ("mysql", "db_affected_rows").</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a189f629b6f5461a8a6637c4fae69e7e4">db_affected_rows</a>(int handle)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.9)</div>
<div class="line">changed (3.2.11) -- adds the privilege violation.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a5cbfc312aa2e18ee6693c8a2b38c5aaa" title="Convert the string str into a string that is correctly interpretated for usage as a string in efun::d...">efun::db_conv_string()</a>, <a class="el" href="classefun.html#a5286f8999424c84309cbed60dde101f4" title="Close the server-connection with the handle handle Return the handle-number on success. ">efun::db_close()</a>, <a class="el" href="classefun.html#a5e7193b4798e703cbd1b39050711b6d3" title="Return an array with the column names of the current table. ">efun::db_coldefs()</a>, <a class="el" href="classefun.html#a812dfa6948546b8539038f6924944435" title="Connect to the database database on the local mySQL-server. ">efun::db_connect()</a>, <a class="el" href="classefun.html#ae4a665bd9b3fd1bbfd527d3b1e827763" title="Execute the SQL-statement statement for the connection handle to the SQL-server. ">efun::db_exec()</a>, <a class="el" href="classefun.html#acd85d4e031c2a63ae341b96ba9a71053" title="Return a string describing the error which occured during the last database transaction. ">efun::db_error()</a>, <a class="el" href="classefun.html#a99208794ce39f11037cd4ca56c30ade5" title="Retrieve ONE line of result of the latest SQL-action to the server based on the handle handle...">efun::db_fetch()</a>, <a class="el" href="classefun.html#a6dd2821ef141bd777f88608514e23f37" title="After inserting a line into a table with an AUTO_INCREMENT field, this efun can be used to return the...">efun::db_insert_id()</a>, <a class="el" href="classefun.html#a1fdefa3fca7e507606cf45baf38b0cbf" title="Returns an array with all open handles to the SQL-server. ">efun::db_handles()</a>, <a class="el" href="classmaster.html#afaf1545f7ccfbb3d897293150f5a45ca" title="Validate the execution of a privileged operation. ">master::privilege_violation()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a5286f8999424c84309cbed60dde101f4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int db_close </td>
          <td>(</td>
          <td class="paramtype">int handle&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close the server-connection with the handle <code>handle</code> Return the handle-number on success. </p>
<p>The function is available only if the driver is compiled with mySQL support. In that case, <a class="el" href="driver_topics_predefined.html">__MYSQL__</a> is defined.</p>
<p>The efun triggers a privilege violation ("mysql", "db_close").</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a5286f8999424c84309cbed60dde101f4">db_close</a>(int handle)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.9)</div>
<div class="line">changed (3.2.11) -- adds the privilege violation.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a189f629b6f5461a8a6637c4fae69e7e4" title="Return the number of affected rows of the last SQL-statement that has been sent to the SQL-server via...">efun::db_affected_rows()</a>, <a class="el" href="classefun.html#a5cbfc312aa2e18ee6693c8a2b38c5aaa" title="Convert the string str into a string that is correctly interpretated for usage as a string in efun::d...">efun::db_conv_string()</a>, <a class="el" href="classefun.html#a5e7193b4798e703cbd1b39050711b6d3" title="Return an array with the column names of the current table. ">efun::db_coldefs()</a>, <a class="el" href="classefun.html#a812dfa6948546b8539038f6924944435" title="Connect to the database database on the local mySQL-server. ">efun::db_connect()</a>, <a class="el" href="classefun.html#ae4a665bd9b3fd1bbfd527d3b1e827763" title="Execute the SQL-statement statement for the connection handle to the SQL-server. ">efun::db_exec()</a>, <a class="el" href="classefun.html#acd85d4e031c2a63ae341b96ba9a71053" title="Return a string describing the error which occured during the last database transaction. ">efun::db_error()</a>, <a class="el" href="classefun.html#a99208794ce39f11037cd4ca56c30ade5" title="Retrieve ONE line of result of the latest SQL-action to the server based on the handle handle...">efun::db_fetch()</a>, <a class="el" href="classefun.html#a1fdefa3fca7e507606cf45baf38b0cbf" title="Returns an array with all open handles to the SQL-server. ">efun::db_handles()</a>, <a class="el" href="classefun.html#a6dd2821ef141bd777f88608514e23f37" title="After inserting a line into a table with an AUTO_INCREMENT field, this efun can be used to return the...">efun::db_insert_id()</a>, <a class="el" href="classmaster.html#afaf1545f7ccfbb3d897293150f5a45ca" title="Validate the execution of a privileged operation. ">master::privilege_violation()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a5e7193b4798e703cbd1b39050711b6d3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string* db_coldefs </td>
          <td>(</td>
          <td class="paramtype">int handle&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return an array with the column names of the current table. </p>
<p>If the database didn't return a result, the result of this efun is 0.</p>
<p>The function is available only if the driver is compiled with mySQL support. In that case, <a class="el" href="driver_topics_predefined.html">__MYSQL__</a> is defined.</p>
<p>The efun triggers a privilege violation ("mysql", "db_coldefs").</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> * <a class="code" href="classefun.html#a5e7193b4798e703cbd1b39050711b6d3">db_coldefs</a>(int handle)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.9)</div>
<div class="line">changed (3.2.11) -- adds the privilege violation.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a189f629b6f5461a8a6637c4fae69e7e4" title="Return the number of affected rows of the last SQL-statement that has been sent to the SQL-server via...">efun::db_affected_rows()</a>, <a class="el" href="classefun.html#a5cbfc312aa2e18ee6693c8a2b38c5aaa" title="Convert the string str into a string that is correctly interpretated for usage as a string in efun::d...">efun::db_conv_string()</a>, <a class="el" href="classefun.html#a5286f8999424c84309cbed60dde101f4" title="Close the server-connection with the handle handle Return the handle-number on success. ">efun::db_close()</a>, <a class="el" href="classefun.html#a812dfa6948546b8539038f6924944435" title="Connect to the database database on the local mySQL-server. ">efun::db_connect()</a>, <a class="el" href="classefun.html#ae4a665bd9b3fd1bbfd527d3b1e827763" title="Execute the SQL-statement statement for the connection handle to the SQL-server. ">efun::db_exec()</a>, <a class="el" href="classefun.html#acd85d4e031c2a63ae341b96ba9a71053" title="Return a string describing the error which occured during the last database transaction. ">efun::db_error()</a>, <a class="el" href="classefun.html#a99208794ce39f11037cd4ca56c30ade5" title="Retrieve ONE line of result of the latest SQL-action to the server based on the handle handle...">efun::db_fetch()</a>, <a class="el" href="classefun.html#a1fdefa3fca7e507606cf45baf38b0cbf" title="Returns an array with all open handles to the SQL-server. ">efun::db_handles()</a>, <a class="el" href="classefun.html#a6dd2821ef141bd777f88608514e23f37" title="After inserting a line into a table with an AUTO_INCREMENT field, this efun can be used to return the...">efun::db_insert_id()</a>, <a class="el" href="classmaster.html#afaf1545f7ccfbb3d897293150f5a45ca" title="Validate the execution of a privileged operation. ">master::privilege_violation()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a812dfa6948546b8539038f6924944435"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int db_connect </td>
          <td>(</td>
          <td class="paramtype">string database&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string user&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string password&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Connect to the database <code>database</code> on the local mySQL-server. </p>
<p>The return-value is the handle for this connection. Automatic reconnects are enabled for this connection; see &gt;&gt;:concept:<code>mysql</code>&lt;&lt; for implications. If the database does not exist or the server is <em>not</em> started, a runtime-error is raised.</p>
<p>If specified, the connection is made for <code>user</code> with <code>password</code>.</p>
<p>The function is available only if the driver is compiled with mySQL support. In that case, <a class="el" href="driver_topics_predefined.html">__MYSQL__</a> is defined.</p>
<p>The efun triggers a privilege violation ("mysql", "db_connect").</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a812dfa6948546b8539038f6924944435">db_connect</a>(string database)</div>
<div class="line">int <a class="code" href="classefun.html#a812dfa6948546b8539038f6924944435">db_connect</a>(string database, string user)</div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a812dfa6948546b8539038f6924944435">db_connect</a>(string database, string user, string password)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.9)</div>
<div class="line">changed (3.2.11) -- adds the privilege violation.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a189f629b6f5461a8a6637c4fae69e7e4" title="Return the number of affected rows of the last SQL-statement that has been sent to the SQL-server via...">efun::db_affected_rows()</a>, <a class="el" href="classefun.html#a5cbfc312aa2e18ee6693c8a2b38c5aaa" title="Convert the string str into a string that is correctly interpretated for usage as a string in efun::d...">efun::db_conv_string()</a>, <a class="el" href="classefun.html#a5286f8999424c84309cbed60dde101f4" title="Close the server-connection with the handle handle Return the handle-number on success. ">efun::db_close()</a>, <a class="el" href="classefun.html#a5e7193b4798e703cbd1b39050711b6d3" title="Return an array with the column names of the current table. ">efun::db_coldefs()</a>, <a class="el" href="classefun.html#ae4a665bd9b3fd1bbfd527d3b1e827763" title="Execute the SQL-statement statement for the connection handle to the SQL-server. ">efun::db_exec()</a>, <a class="el" href="classefun.html#acd85d4e031c2a63ae341b96ba9a71053" title="Return a string describing the error which occured during the last database transaction. ">efun::db_error()</a>, <a class="el" href="classefun.html#a99208794ce39f11037cd4ca56c30ade5" title="Retrieve ONE line of result of the latest SQL-action to the server based on the handle handle...">efun::db_fetch()</a>, <a class="el" href="classefun.html#a1fdefa3fca7e507606cf45baf38b0cbf" title="Returns an array with all open handles to the SQL-server. ">efun::db_handles()</a>, <a class="el" href="classefun.html#a6dd2821ef141bd777f88608514e23f37" title="After inserting a line into a table with an AUTO_INCREMENT field, this efun can be used to return the...">efun::db_insert_id()</a>, <a class="el" href="classmaster.html#afaf1545f7ccfbb3d897293150f5a45ca" title="Validate the execution of a privileged operation. ">master::privilege_violation()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a5cbfc312aa2e18ee6693c8a2b38c5aaa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string db_conv_string </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert the string <code>str</code> into a string that is correctly interpretated for usage as a string in <a class="el" href="classefun.html#ae4a665bd9b3fd1bbfd527d3b1e827763" title="Execute the SQL-statement statement for the connection handle to the SQL-server. ">efun::db_exec()</a>, e.g. </p>
<p>' is replaced with ' and so on.</p>
<p>The function is available only if the driver is compiled with mySQL support. In that case, <a class="el" href="driver_topics_predefined.html">__MYSQL__</a> is defined.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a5cbfc312aa2e18ee6693c8a2b38c5aaa">db_conv_string</a>(string str)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.9)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a189f629b6f5461a8a6637c4fae69e7e4" title="Return the number of affected rows of the last SQL-statement that has been sent to the SQL-server via...">efun::db_affected_rows()</a>, <a class="el" href="classefun.html#a5286f8999424c84309cbed60dde101f4" title="Close the server-connection with the handle handle Return the handle-number on success. ">efun::db_close()</a>, <a class="el" href="classefun.html#a5e7193b4798e703cbd1b39050711b6d3" title="Return an array with the column names of the current table. ">efun::db_coldefs()</a>, <a class="el" href="classefun.html#a812dfa6948546b8539038f6924944435" title="Connect to the database database on the local mySQL-server. ">efun::db_connect()</a>, <a class="el" href="classefun.html#ae4a665bd9b3fd1bbfd527d3b1e827763" title="Execute the SQL-statement statement for the connection handle to the SQL-server. ">efun::db_exec()</a>, <a class="el" href="classefun.html#acd85d4e031c2a63ae341b96ba9a71053" title="Return a string describing the error which occured during the last database transaction. ">efun::db_error()</a>, <a class="el" href="classefun.html#a99208794ce39f11037cd4ca56c30ade5" title="Retrieve ONE line of result of the latest SQL-action to the server based on the handle handle...">efun::db_fetch()</a>, <a class="el" href="classefun.html#a1fdefa3fca7e507606cf45baf38b0cbf" title="Returns an array with all open handles to the SQL-server. ">efun::db_handles()</a>, <a class="el" href="classefun.html#a6dd2821ef141bd777f88608514e23f37" title="After inserting a line into a table with an AUTO_INCREMENT field, this efun can be used to return the...">efun::db_insert_id()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="acd85d4e031c2a63ae341b96ba9a71053"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string db_error </td>
          <td>(</td>
          <td class="paramtype">int handle&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a string describing the error which occured during the last database transaction. </p>
<p>If the last database transaction was successful, this call returns 0.</p>
<p>The function is available only if the driver is compiled with mySQL support. In that case, <a class="el" href="driver_topics_predefined.html">__MYSQL__</a> is defined.</p>
<p>The efun triggers a privilege violation ("mysql", "db_error").</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#acd85d4e031c2a63ae341b96ba9a71053">db_error</a>(int handle)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.9)</div>
<div class="line">changed (3.2.11) -- added the privilege violation.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a189f629b6f5461a8a6637c4fae69e7e4" title="Return the number of affected rows of the last SQL-statement that has been sent to the SQL-server via...">efun::db_affected_rows()</a>, <a class="el" href="classefun.html#a5cbfc312aa2e18ee6693c8a2b38c5aaa" title="Convert the string str into a string that is correctly interpretated for usage as a string in efun::d...">efun::db_conv_string()</a>, <a class="el" href="classefun.html#a5286f8999424c84309cbed60dde101f4" title="Close the server-connection with the handle handle Return the handle-number on success. ">efun::db_close()</a>, <a class="el" href="classefun.html#a5e7193b4798e703cbd1b39050711b6d3" title="Return an array with the column names of the current table. ">efun::db_coldefs()</a>, <a class="el" href="classefun.html#a812dfa6948546b8539038f6924944435" title="Connect to the database database on the local mySQL-server. ">efun::db_connect()</a>, <a class="el" href="classefun.html#ae4a665bd9b3fd1bbfd527d3b1e827763" title="Execute the SQL-statement statement for the connection handle to the SQL-server. ">efun::db_exec()</a>, <a class="el" href="classefun.html#a99208794ce39f11037cd4ca56c30ade5" title="Retrieve ONE line of result of the latest SQL-action to the server based on the handle handle...">efun::db_fetch()</a>, <a class="el" href="classefun.html#a1fdefa3fca7e507606cf45baf38b0cbf" title="Returns an array with all open handles to the SQL-server. ">efun::db_handles()</a>, <a class="el" href="classefun.html#a6dd2821ef141bd777f88608514e23f37" title="After inserting a line into a table with an AUTO_INCREMENT field, this efun can be used to return the...">efun::db_insert_id()</a>, <a class="el" href="classmaster.html#afaf1545f7ccfbb3d897293150f5a45ca" title="Validate the execution of a privileged operation. ">master::privilege_violation()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae4a665bd9b3fd1bbfd527d3b1e827763"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int db_exec </td>
          <td>(</td>
          <td class="paramtype">int handle&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string statement&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Execute the SQL-statement <code>statement</code> for the connection <code>handle</code> to the SQL-server. </p>
<p>The result is the handle if all went okay. If there was an error in the statement, 0 is returned.</p>
<p>The function is available only if the driver is compiled with mySQL support. In that case, <a class="el" href="driver_topics_predefined.html">__MYSQL__</a> is defined.</p>
<p>The efun triggers a privilege violation ("mysql", "db_exec").</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#ae4a665bd9b3fd1bbfd527d3b1e827763">db_exec</a>(int handle, string statement)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.9)</div>
<div class="line">changed (3.2.11) -- adds the privilege violation.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a189f629b6f5461a8a6637c4fae69e7e4" title="Return the number of affected rows of the last SQL-statement that has been sent to the SQL-server via...">efun::db_affected_rows()</a>, <a class="el" href="classefun.html#a5cbfc312aa2e18ee6693c8a2b38c5aaa" title="Convert the string str into a string that is correctly interpretated for usage as a string in efun::d...">efun::db_conv_string()</a>, <a class="el" href="classefun.html#a5286f8999424c84309cbed60dde101f4" title="Close the server-connection with the handle handle Return the handle-number on success. ">efun::db_close()</a>, <a class="el" href="classefun.html#a5e7193b4798e703cbd1b39050711b6d3" title="Return an array with the column names of the current table. ">efun::db_coldefs()</a>, <a class="el" href="classefun.html#a812dfa6948546b8539038f6924944435" title="Connect to the database database on the local mySQL-server. ">efun::db_connect()</a>, <a class="el" href="classefun.html#acd85d4e031c2a63ae341b96ba9a71053" title="Return a string describing the error which occured during the last database transaction. ">efun::db_error()</a>, <a class="el" href="classefun.html#a99208794ce39f11037cd4ca56c30ade5" title="Retrieve ONE line of result of the latest SQL-action to the server based on the handle handle...">efun::db_fetch()</a>, <a class="el" href="classefun.html#a1fdefa3fca7e507606cf45baf38b0cbf" title="Returns an array with all open handles to the SQL-server. ">efun::db_handles()</a>, <a class="el" href="classefun.html#a6dd2821ef141bd777f88608514e23f37" title="After inserting a line into a table with an AUTO_INCREMENT field, this efun can be used to return the...">efun::db_insert_id()</a>, <a class="el" href="classmaster.html#afaf1545f7ccfbb3d897293150f5a45ca" title="Validate the execution of a privileged operation. ">master::privilege_violation()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a99208794ce39f11037cd4ca56c30ade5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed db_fetch </td>
          <td>(</td>
          <td class="paramtype">int handle&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve <em>ONE</em> line of result of the latest SQL-action to the server based on the handle <code>handle</code>. </p>
<p>If not more results are on the server, 0 is returned.</p>
<p>The function is available only if the driver is compiled with mySQL support. In that case, <a class="el" href="driver_topics_predefined.html">__MYSQL__</a> is defined.</p>
<p>The efun triggers a privilege violation ("mysql", "db_fetch").</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed <a class="code" href="classefun.html#a99208794ce39f11037cd4ca56c30ade5">db_fetch</a>(int handle)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.9)</div>
<div class="line">changed (3.2.11) -- adds the privilege violation.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a189f629b6f5461a8a6637c4fae69e7e4" title="Return the number of affected rows of the last SQL-statement that has been sent to the SQL-server via...">efun::db_affected_rows()</a>, <a class="el" href="classefun.html#a5cbfc312aa2e18ee6693c8a2b38c5aaa" title="Convert the string str into a string that is correctly interpretated for usage as a string in efun::d...">efun::db_conv_string()</a>, <a class="el" href="classefun.html#a5286f8999424c84309cbed60dde101f4" title="Close the server-connection with the handle handle Return the handle-number on success. ">efun::db_close()</a>, <a class="el" href="classefun.html#a5e7193b4798e703cbd1b39050711b6d3" title="Return an array with the column names of the current table. ">efun::db_coldefs()</a>, <a class="el" href="classefun.html#a812dfa6948546b8539038f6924944435" title="Connect to the database database on the local mySQL-server. ">efun::db_connect()</a>, <a class="el" href="classefun.html#acd85d4e031c2a63ae341b96ba9a71053" title="Return a string describing the error which occured during the last database transaction. ">efun::db_error()</a>, <a class="el" href="classefun.html#ae4a665bd9b3fd1bbfd527d3b1e827763" title="Execute the SQL-statement statement for the connection handle to the SQL-server. ">efun::db_exec()</a>, <a class="el" href="classefun.html#a1fdefa3fca7e507606cf45baf38b0cbf" title="Returns an array with all open handles to the SQL-server. ">efun::db_handles()</a>, <a class="el" href="classefun.html#a6dd2821ef141bd777f88608514e23f37" title="After inserting a line into a table with an AUTO_INCREMENT field, this efun can be used to return the...">efun::db_insert_id()</a>, <a class="el" href="classmaster.html#afaf1545f7ccfbb3d897293150f5a45ca" title="Validate the execution of a privileged operation. ">master::privilege_violation()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1fdefa3fca7e507606cf45baf38b0cbf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int* db_handles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an array with all open handles to the SQL-server. </p>
<p>As mySQL is most of the time limited to 100 connections, you should not let this number grow too big. The handles are sorted in a special order: The last used handle is the first one and the handle that hasn't been used for the longest time is the last one. If no handles are open, an empty array is returned.</p>
<p>The function is available only if the driver is compiled with mySQL support. In that case, <a class="el" href="driver_topics_predefined.html">__MYSQL__</a> is defined.</p>
<p>The efun triggers a privilege violation ("mysql", "db_handles").</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> * <a class="code" href="classefun.html#a1fdefa3fca7e507606cf45baf38b0cbf">db_handles</a>()</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.9)</div>
<div class="line">changed (3.2.11) -- adds the privilege violation.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a189f629b6f5461a8a6637c4fae69e7e4" title="Return the number of affected rows of the last SQL-statement that has been sent to the SQL-server via...">efun::db_affected_rows()</a>, <a class="el" href="classefun.html#a5cbfc312aa2e18ee6693c8a2b38c5aaa" title="Convert the string str into a string that is correctly interpretated for usage as a string in efun::d...">efun::db_conv_string()</a>, <a class="el" href="classefun.html#a5286f8999424c84309cbed60dde101f4" title="Close the server-connection with the handle handle Return the handle-number on success. ">efun::db_close()</a>, <a class="el" href="classefun.html#a5e7193b4798e703cbd1b39050711b6d3" title="Return an array with the column names of the current table. ">efun::db_coldefs()</a>, <a class="el" href="classefun.html#a812dfa6948546b8539038f6924944435" title="Connect to the database database on the local mySQL-server. ">efun::db_connect()</a>, <a class="el" href="classefun.html#acd85d4e031c2a63ae341b96ba9a71053" title="Return a string describing the error which occured during the last database transaction. ">efun::db_error()</a>, <a class="el" href="classefun.html#ae4a665bd9b3fd1bbfd527d3b1e827763" title="Execute the SQL-statement statement for the connection handle to the SQL-server. ">efun::db_exec()</a>, <a class="el" href="classefun.html#a99208794ce39f11037cd4ca56c30ade5" title="Retrieve ONE line of result of the latest SQL-action to the server based on the handle handle...">efun::db_fetch()</a>, <a class="el" href="classefun.html#a6dd2821ef141bd777f88608514e23f37" title="After inserting a line into a table with an AUTO_INCREMENT field, this efun can be used to return the...">efun::db_insert_id()</a>, <a class="el" href="classmaster.html#afaf1545f7ccfbb3d897293150f5a45ca" title="Validate the execution of a privileged operation. ">master::privilege_violation()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a6dd2821ef141bd777f88608514e23f37"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int db_insert_id </td>
          <td>(</td>
          <td class="paramtype">int handle&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>After inserting a line into a table with an <code>AUTO_INCREMENT</code> field, this efun can be used to return the (new) value of the <code>AUTO_INCREMENT</code> field. </p>
<p>The function is available only if the driver is compiled with mySQL support. In that case, <a class="el" href="driver_topics_predefined.html">__MYSQL__</a> is defined.</p>
<p>The efun triggers a privilege violation ("mysql", "db_insert_id").</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a6dd2821ef141bd777f88608514e23f37">db_insert_id</a>(int handle)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.9)</div>
<div class="line">changed (3.2.11) -- adds the privilege violation.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a189f629b6f5461a8a6637c4fae69e7e4" title="Return the number of affected rows of the last SQL-statement that has been sent to the SQL-server via...">efun::db_affected_rows()</a>, <a class="el" href="classefun.html#a5cbfc312aa2e18ee6693c8a2b38c5aaa" title="Convert the string str into a string that is correctly interpretated for usage as a string in efun::d...">efun::db_conv_string()</a>, <a class="el" href="classefun.html#a5286f8999424c84309cbed60dde101f4" title="Close the server-connection with the handle handle Return the handle-number on success. ">efun::db_close()</a>, <a class="el" href="classefun.html#a5e7193b4798e703cbd1b39050711b6d3" title="Return an array with the column names of the current table. ">efun::db_coldefs()</a>, <a class="el" href="classefun.html#a812dfa6948546b8539038f6924944435" title="Connect to the database database on the local mySQL-server. ">efun::db_connect()</a>, <a class="el" href="classefun.html#acd85d4e031c2a63ae341b96ba9a71053" title="Return a string describing the error which occured during the last database transaction. ">efun::db_error()</a>, <a class="el" href="classefun.html#ae4a665bd9b3fd1bbfd527d3b1e827763" title="Execute the SQL-statement statement for the connection handle to the SQL-server. ">efun::db_exec()</a>, <a class="el" href="classefun.html#a99208794ce39f11037cd4ca56c30ade5" title="Retrieve ONE line of result of the latest SQL-action to the server based on the handle handle...">efun::db_fetch()</a>, <a class="el" href="classefun.html#a1fdefa3fca7e507606cf45baf38b0cbf" title="Returns an array with all open handles to the SQL-server. ">efun::db_handles()</a>, <a class="el" href="classmaster.html#afaf1545f7ccfbb3d897293150f5a45ca" title="Validate the execution of a privileged operation. ">master::privilege_violation()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a7a7cc530c7ebabb824ee97c5b0a4f18b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">** debug_info </td>
          <td>(</td>
          <td class="paramtype">int flag&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed arg2&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed arg3&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>OBSOLETED_IN_MASTER_IGNORE_FOR_NOW Gather some driver internal debug information according to the setting of <code>flag:</code> </p>
<p>DINFO_OBJECT (0): Information like heart_beat, enable_commands etc. of the specified object will be printed, and 0 returned.</p>
<p>DINFO_MEMORY (1): Memory usage information like how many strings, variables, inherited files, object size etc. will be printed about the specified object, and 0 returned.</p>
<p>DINFO_OBJLIST (2): Objects from the global object list are returned. If the optional second arg is omitted, the first element (numbered 0) is returned. If the second arg is a number n, the n'th element of the object list returned. If the second arg is an object, it's successor in the object list is returned. If the optional <code>arg2</code> is omitted, the first element(s) (numbered 0) is returned. If the <code>arg2</code> is a number n, the n'th element(s) of the object list returned. If the <code>arg2</code> is an object, it's successor(s) in the object list is The optional <code>arg3</code> specifies the maximum number of objects returned. If it's 0, a single object is returned. If it is a positive number m, an array with at max 'm' objects is returned. This way, by passing <b>INT_MAX</b> as <code>arg3</code> it is possible to create an array of all objects in the game (given a suitable maximum array size).</p>
<p>DINFO_MALLOC (3): Equivalent to typing &gt;&gt;``&lt;&lt;malloc'' at the command line. No second arg must be given. Returns 0.</p>
<p>DINFO_STATUS (4): Collect the status information of the driver. The optional second arg can be 0, "tables", "swap", "malloc", "malloc extstats" or any other argument accepted by the actual driver. The result is a printable string with the status information, or 0 if an invalid argument was given.</p>
<p>DINFO_DUMP (5): Dump the information specified by <code>arg2</code> into the filename specified by <code>arg3</code>. If <code>arg3</code> is omitted, a default file name is used. The function calls master-&gt;valid_write() to check that it can write the files. The file in question is always written anew.</p>
<p>Result is 1 on success, or 0 if an error occured.</p>
<p><code>arg2</code> == "objects": dump information about all live objects. Default filename is '/OBJ_DUMP', the valid_write() will read 'objdump' for the function. </p>
<pre class="fragment">  For every object, a line is written into the file with the following information in the given order:
     - object name
     - size in memory, shared data counted only once
     - size in memory if data wouldn't be shared
     - number of references
     - 'HB' if the object has a heartbeat, nothing if not.
     - the name of the environment, or '--' if the object has no environment
     - in parentheses the number of execution ticks spent in this object
     - the swap status:
          nothing if not swapped,
          'PROG SWAPPED' if only the program is swapped
          'VAR SWAPPED' if only the variabes are swapped
          'SWAPPED' if both program and variables are swapped

     - the time the object was created
</pre><p><code>arg2</code> == "destructed": dump information about all destructed objects. Default filename is '/DEST_OBJ_DUMP', the valid_write() will read 'objdump' for the function.</p>
<p>For every object, a line is written into the file with the following information in the given order:</p>
<ul>
<li>object name</li>
<li>number of references</li>
<li>'NEW' if the object was destructed in this executiong thread, nothing if it is older already.</li>
</ul>
<p><code>arg2</code> == "opcodes": dump usage information about the opcodes. Default filename is '/OPC_DUMP', the valid_write() will read 'opcdump' for the function.</p>
<p><code>arg2</code> == "memory": dump a list of all allocated memory blocks (if the allocator supports this). Default filename is '/MEMORY_DUMP', the valid_write() will read 'memdump' for the function, and the new data will be appended to the end of the file.</p>
<p>If the allocator doesn't support memory dumps, this call will always return 0, and nothing will be written.</p>
<p>This works best if the allocator is compiled with MALLOC_TRACE and/or MALLOC_LPC_TRACE.</p>
<p>NOTE: Make sure that this option can't be abused!</p>
<p>DINFO_DATA (6): Return raw information about an aspect of the driver specified by <code>arg2</code>. The result of the function is an array with the information, or 0 for unsupported values of <code>arg2</code>.</p>
<p>If <code>arg3</code> is given and in the range of array indices for the given <code>arg2</code>, the result will be just the indexed array entry, but not the full array.</p>
<p>Allowed values for <code>arg2</code> are: DID_STATUS, DID_SWAP, DID_MALLOC.</p>
<p><code>arg2</code> == DID_STATUS (0): Returns the "status" and "status tables" information. Following indices are defined:</p>
<p>int DID_ST_BOOT_TIME The <a class="el" href="classefun.html#aa560fa38ca94599aa767ccb916e9bce7" title="Return number of seconds elapsed since `1. ">time()</a> when the mud was started.</p>
<p>int DID_ST_ACTIONS int DID_ST_ACTIONS_SIZE</p>
<p>Number and size of allocated actions.</p>
<p>int DID_ST_SHADOWS int DID_ST_SHADOWS_SIZE</p>
<p>Number and size of allocated shadows.</p>
<p>int DID_ST_OBJECTS int DID_ST_OBJECTS_SIZE</p>
<p>Total number and size of objects.</p>
<p>int DID_ST_OBJECTS_SWAPPED int DID_ST_OBJECTS_SWAP_SIZE</p>
<p>Number and size of swapped-out object variable blocks.</p>
<p>int DID_ST_OBJECTS_LIST Number of objects in the object list.</p>
<p>int DID_ST_OBJECTS_NEWLY_DEST Number of newly destructed objects (ie. objects destructed in this execution thread).</p>
<p>int DID_ST_OBJECTS_DESTRUCTED Number of destructed but still referenced objects, not counting the DID_ST_OBJECTS_NEWLY_DEST.</p>
<p>int DID_ST_OBJECTS_PROCESSED Number of listed objects processed in the last backend cycle.</p>
<p>float DID_ST_OBJECTS_AVG_PROC Average number of objects processed each cycle, expressed as percentage (0..1.0).</p>
<p>int DID_ST_OTABLE Number of objects listed in the object table.</p>
<p>int DID_ST_OTABLE_SLOTS Number of hash slots provided by the object table.</p>
<p>int DID_ST_OTABLE_SIZE Size occupied by the object table.</p>
<p>int DID_ST_HBEAT_OBJS Number of objects with a heartbeat.</p>
<p>int DID_ST_HBEAT_CALLS Number of active heart_beat cycles executed so far (ie. cycles in which at least one heart_beat() function was called).</p>
<p>int DID_ST_HBEAT_CALLS_TOTAL Total number of heart_beats cycles so far.</p>
<p>int DID_ST_HBEAT_SLOTS int DID_ST_HBEAT_SIZE</p>
<p>Number of allocated entries in the heart_beat table and its size.</p>
<p>int DID_ST_HBEAT_PROCESSED Number of heart_beats called in the last backend cycle.</p>
<p>float DID_ST_HBEAT_AVG_PROC Average number of heart_beats called each cycle, expressed as fraction (0..1.0).</p>
<p>int DID_ST_CALLOUTS int DID_ST_CALLOUT_SIZE</p>
<p>Number and total size of pending call_outs.</p>
<p>int DID_ST_ARRAYS int DID_ST_ARRAYS_SIZE</p>
<p>Number and size of all arrays.</p>
<p>int DID_ST_MAPPINGS int DID_ST_MAPPINGS_SIZE</p>
<p>Number and size of all mappings.</p>
<p>int DID_ST_HYBRID_MAPPINGS int DID_ST_HASH_MAPPINGS</p>
<p>Number of hybrid (hash+condensed) and hash mappings.</p>
<p>int DID_ST_STRUCTS int DID_ST_STRUCTS_SIZE</p>
<p>Number and size of all struct instances.</p>
<p>int DID_ST_STRUCT_TYPES int DID_ST_STRUCT_TYPES_SIZE</p>
<p>Number and size of all struct type instances.</p>
<p>int DID_ST_PROGS int DID_ST_PROGS_SIZE</p>
<p>Number and size of all programs.</p>
<p>int DID_ST_PROGS_SWAPPED int DID_ST_PROGS_SWAP_SIZE</p>
<p>Number and size of swapped-out programs.</p>
<p>int DID_ST_USER_RESERVE int DID_ST_MASTER_RESERVE int DID_ST_SYSTEM_RESERVE</p>
<p>Current sizes of the three memory reserves.</p>
<p>int DID_ST_ADD_MESSAGE int DID_ST_PACKETS int DID_ST_PACKET_SIZE</p>
<p>Number of calls to add_message(), number and total size of sent packets. If the driver is not compiled with COMM_STAT, all three values are returned as -1.</p>
<p>int DID_ST_PACKETS_IN int DID_ST_PACKET_SIZE_IN</p>
<p>Number and total size of received packets. If the driver is not compiled with COMM_STAT, all three values are returned as -1.</p>
<p>int DID_ST_APPLY int DID_ST_APPLY_HITS</p>
<p>Number of calls to apply_low(), and how many of these were cache hits. If the driver is not compiled with APPLY_CACHE_STAT, all two values are returned as -1.</p>
<p>int DID_ST_STRINGS int DID_ST_STRING_SIZE</p>
<p>Total number and size of string requests.</p>
<p>int DID_ST_STR_TABLE_SIZE Size of the string table structure itself.</p>
<p>int DID_ST_STR_OVERHEAD Size of the overhead per string.</p>
<p>int DID_ST_UNTABLED int DID_ST_UNTABLED_SIZE</p>
<p>Total number and size of existing untabled strings.</p>
<p>int DID_ST_TABLED int DID_ST_TABLED_SIZE</p>
<p>Total number and size of existing directly tabled strings.</p>
<p>int DID_ST_STR_CHAINS Number of hash chains in the string table.</p>
<p>int DID_ST_STR_ADDED Number of distinct strings added to the table so far.</p>
<p>int DID_ST_STR_DELETED Number of distinct strings removed from the table so far.</p>
<p>int DID_ST_STR_COLLISIONS Number of distinct strings added to an existing hash chain so far.</p>
<p>int DID_ST_STR_SEARCHES int DID_ST_STR_SEARCHLEN</p>
<p>Number and accumulated length of string searches by address.</p>
<p>int DID_ST_STR_SEARCHES_BYVALUE int DID_ST_STR_SEARCHLEN_BYVALUE</p>
<p>Number and accumulated length of string searches by value.</p>
<p>int DID_ST_STR_FOUND int DID_ST_STR_FOUND_BYVALUE</p>
<p>Number of successful searches by address resp. by value.</p>
<p>int DID_ST_RX_CACHED Number of regular expressions cached.</p>
<p>int DID_ST_RX_TABLE int DID_ST_RX_TABLE_SIZE</p>
<p>Number of slots in the regexp cache table, and size of the memory currently held by it and the cached expressions.</p>
<p>int DID_ST_RX_REQUESTS Number of requests for new regexps.</p>
<p>int DID_ST_RX_REQ_FOUND Number of requested regexps found in the table.</p>
<p>int DID_ST_RX_REQ_COLL Number of requested new regexps which collided with a cached one.</p>
<p>int DID_ST_MB_FILE The size of the 'File' memory buffer.</p>
<p>int DID_ST_MB_SWAP The size of the 'Swap' memory buffer.</p>
<p><code>arg2</code> == DID_SWAP (1): Returns the "status swap" information:</p>
<p>int DID_SW_PROGS int DID_SW_PROG_SIZE</p>
<p>Number and size of swapped-out program blocks.</p>
<p>int DID_SW_PROG_UNSWAPPED int DID_SW_PROG_U_SIZE</p>
<p>Number and size of unswapped program blocks.</p>
<p>int DID_SW_VARS int DID_SW_VAR_SIZE</p>
<p>Number and size of swapped-out variable blocks.</p>
<p>int DID_SW_FREE int DID_SW_FREE_SIZE</p>
<p>Number and size of free blocks in the swap file.</p>
<p>int DID_SW_FILE_SIZE Size of the swap file.</p>
<p>int DID_SW_REUSED Total reused space in the swap file.</p>
<p>int DID_SW_SEARCHES int DID_SW_SEARCH_LEN</p>
<p>Number and total length of searches for block to reuse in the swap file.</p>
<p>int DID_SW_F_SEARCHES int DID_SW_F_SEARCH_LEN</p>
<p>Number and total length of searches for a block to free.</p>
<p>int DID_SW_COMPACT TRUE if the swapper is running in compact mode.</p>
<p>int DID_SW_RECYCLE_FREE TRUE if the swapper is currently recycling free block.</p>
<p><code>arg2</code> == DID_MEMORY (2): Returns the "status malloc" information:</p>
<p>string DID_MEM_NAME The name of the allocator: "sysmalloc", "smalloc", "slaballoc"</p>
<p>int DID_MEM_SBRK (slaballoc, smalloc) int DID_MEM_SBRK_SIZE (slaballoc, smalloc)</p>
<p>Number and size of memory blocks requested from the operating system (non-mmapped memory).</p>
<p>int DID_MEM_LARGE (slaballoc, smalloc) int DID_MEM_LARGE_SIZE (slaballoc, smalloc) int DID_MEM_LFREE (slaballoc, smalloc) int DID_MEM_LFREE_SIZE (slaballoc, smalloc)</p>
<p>Number and size of large allocated resp. free blocks. smalloc: The large allocated blocks include the small chunk blocks.</p>
<p>int DID_MEM_LWASTED (slaballoc, smalloc) int DID_MEM_LWASTED_SIZE (slaballoc, smalloc)</p>
<p>Number and size of unusable large memory fragments.</p>
<p>int DID_MEM_CHUNK (smalloc) int DID_MEM_CHUNK_SIZE (smalloc)</p>
<p>Number and size of small chunk blocks.</p>
<p>int DID_MEM_SLAB (slaballoc) int DID_MEM_SLAB_SIZE (slaballoc)</p>
<p>Number and size of slabs (including fully free slabs).</p>
<p>int DID_MEM_SLAB_FREE (slaballoc) int DID_MEM_SLAB_FREE_SIZE (slaballoc)</p>
<p>Number and size of free slabs (part of DID_MEM_SLAB).</p>
<p>int DID_MEM_SMALL (slaballoc, smalloc) int DID_MEM_SMALL_SIZE (slaballoc, smalloc) int DID_MEM_SFREE (slaballoc, smalloc) int DID_MEM_SFREE_SIZE (slaballoc, smalloc)</p>
<p>Number and size of small allocated resp. free blocks.</p>
<p>int DID_MEM_SWASTED (smalloc) int DID_MEM_SWASTED_SIZE (smalloc)</p>
<p>Number and size of unusably small memory fragments.</p>
<p>int DID_MEM_SMALL_OVERHEAD_SIZE (slaballoc) Size of the slab management overhead (not including the overhead incurred by each allocated small block).</p>
<p>int DID_MEM_MINC_CALLS (slaballoc, smalloc) int DID_MEM_MINC_SUCCESS (slaballoc, smalloc) int DID_MEM_MINC_SIZE (slaballoc, smalloc)</p>
<p>Number of calls to malloc_increment(), the number of successes and the size of memory allocated this way.</p>
<p>int DID_MEM_PERM (slaballoc, smalloc) int DID_MEM_PERM_SIZE (slaballoc, smalloc)</p>
<p>Number and size of permanent (non-GCable) allocations.</p>
<p>int DID_MEM_CLIB (slaballoc, smalloc) int DID_MEM_CLIB_SIZE (slaballoc, smalloc)</p>
<p>Number and size of allocations done through the clib functions (if supported by the allocator).</p>
<p>int DID_MEM_OVERHEAD (slaballoc, smalloc) Overhead for every allocation.</p>
<p>int DID_MEM_ALLOCATED (slaballoc, smalloc) The amount of memory currently allocated from the allocator, including the overhead for the allocator.</p>
<p>int DID_MEM_USED (slaballoc, smalloc) The amount of memory currently used for driver data, excluding the overhead from the allocator.</p>
<p>int DID_MEM_TOTAL_UNUSED (slaballoc, smalloc) The amount of memory allocated from the system, but not used by the driver.</p>
<p>int DID_MEM_DEFRAG_CALLS (smalloc) Total number of calls to defragment_small_lists().</p>
<p>int DID_MEM_DEFRAG_CALLS_REQ (smalloc) Number of calls to defragment_small_lists() with a desired size.</p>
<p>int DID_MEM_DEFRAG_REQ_SUCCESS (smalloc) Number of times, a defragmentation for a desired size was successful.</p>
<p>int DID_MEM_BLOCKS_INSPECTED (smalloc) Number of blocks inspected during defragmentations.</p>
<p>int DID_MEM_BLOCKS_MERGED (smalloc) Number of blocks merged during defragmentations.</p>
<p>int DID_MEM_BLOCKS_RESULT (smalloc) Number of defragmented blocks (ie. merge results).</p>
<p>int DID_MEM_AVL_NODES (slaballoc, smalloc) Number of AVL nodes used to manage the large free blocks. This value might go away again.</p>
<p>mixed * DID_MEM_EXT_STATISTICS (slaballoc, smalloc) If the driver was compiled with extended smalloc statistics, they are returned in this entry; if the driver was compiled without the statistics, 0 is returned.</p>
<p>This value might go away again.</p>
<p>The array contains NUM+2 entries, where NUM is the number of distinct small block sizes. Entry [NUM] describes the statistics of oversized small blocks (smalloc) resp. for all slabs (slaballoc), entry [NUM+1] summarizes all large blocks. Each entry is an array of these fields:</p>
<p>int DID_MEM_ES_MAX_ALLOC: Max number of allocated blocks of this size.</p>
<p>int DID_MEM_ES_CUR_ALLOC: Current number of allocated blocks of this size.</p>
<p>int DID_MEM_ES_MAX_FREE: Max number of allocated blocks of this size.</p>
<p>int DID_MEM_ES_CUR_FREE: Current number of allocated blocks of this size.</p>
<p>float DID_MEM_ES_AVG_XALLOC: Number of explicit allocation requests per second.</p>
<p>float DID_MEM_ES_AVG_XFREE: Number of explicit deallocation requests per second.</p>
<p>int DID_MEM_ES_FULL_SLABS: Number of fully used slabs (slaballoc only).</p>
<p>int DID_MEM_ES_FREE_SLABS: Number of fully free slabs (slaballoc only).</p>
<p>int DID_MEM_ES_TOTAL_SLABS: Total number of slabs: partially used, fully used and fully free (slaballoc only).</p>
<p>The allocation/deallocation-per-second statistics do not cover internal shuffling of the freelists.</p>
<p>The slab statistics (entry [NUM], slaballoc only) shows in the AVG statistics the frequence with which slabs were allocated from resp. returned to the large memory pool.</p>
<p>DINFO_TRACE (7): Return the call stack 'trace' information as specified by <code>arg2</code>. The result of the function is either an array (format explained below), or a printable string. Omitting <code>arg2</code> defaults to DIT_CURRENT.</p>
<p><code>arg2</code> == DIT_CURRENT (0): Current call trace == DIT_ERROR (1): Most recent error call trace (caught or uncaught) == DIT_UNCAUGHT_ERROR (2): Most recent uncaught-error call trace</p>
<p>Return the information in array form.</p>
<p>The error traces are changed only when an appropriate error occurs; in addition a GC deletes them. After an uncaught error, both error traces point to the same array (so the '==' operator holds true).</p>
<p>If the array has more than one entries, the first entry is 0 or the name of the object with the heartbeat which started the current thread; all following entries describe the call stack starting with the topmost function called.</p>
<p>All call entries are arrays themselves with the following elements:</p>
<p>int[TRACE_TYPE]: The type of the call frame: TRACE_TYPE_SYMBOL (0): a function symbol (shouldn't happen). TRACE_TYPE_SEFUN (1): a simul-efun. TRACE_TYPE_EFUN (2): an efun closure. TRACE_TYPE_LAMBDA (3): a lambda closure. TRACE_TYPE_LFUN (4): a normal lfun.</p>
<p>mixed[TRACE_NAME]: The 'name' of the called frame: _TYPE_EFUN: either the name of the efun, or the code of the instruction for operator closures _TYPE_LAMBDA: the numeric lambda identifier. _TYPE_LFUN: the name of the lfun.</p>
<p>string[TRACE_PROGRAM]: The (file)name of the program holding the code. string[TRACE_OBJECT]: The name of the object for which the code was executed. int[TRACE_LOC]:</p>
<p>_TYPE_LAMBDA: current program offset from the start of the closure code. _TYPE_LFUN: the line number.</p>
<p><code>arg2</code> == DIT_STR_CURRENT (3): Return the information about the current call trace as printable string.</p>
<p><code>arg2</code> == DIT_CURRENT_DEPTH (4): Return the current number of frames on the control stack (recursion depth).</p>
<p>DINFO_EVAL_NUMBER (8): Return the current evaluation number. The number is incremented for each top-level call. Top-level calls are initiated by the driver, usually in reaction to an external event:</p>
<ul>
<li>commands (added by add_action)</li>
<li>heart_beat, reset, clean_up</li>
<li>calls from call_out or input_to</li>
<li>master applies triggered by external events</li>
<li>calls of driver hooks in reaction to external events</li>
<li>send_erq callbacks</li>
<li>logon in interactives</li>
</ul>
<p>The number can be used to detect cases where the same code is executed twice in the same top level evaluation (say, heart_beat), and also for time stamps for ordering some events.</p>
<p>Please note that the counter may overflow, especially on 32 bit systems. As a result, it can also be negative.</p>
<pre class="fragment">  @par Synopsis:
</pre> <div class="fragment"><div class="line">mixed <a class="code" href="classefun.html#a7a7cc530c7ebabb824ee97c5b0a4f18b">debug_info</a>(int flag)</div>
<div class="line">mixed <a class="code" href="classefun.html#a7a7cc530c7ebabb824ee97c5b0a4f18b">debug_info</a>(int flag, mixed arg)</div>
<div class="line">mixed <a class="code" href="classefun.html#a7a7cc530c7ebabb824ee97c5b0a4f18b">debug_info</a>(int flag, mixed arg2, mixed arg3)</div>
</div><!-- fragment --><dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">      changed (3.2.7) -- added DINFO_DUMP</div>
<div class="line"></div>
<div class="line">DINFO_STATUS now returns the status information instead of printing it.</div>
<div class="line">      added DINFO_DUMP</div>
<div class="line">      DINFO_STATUS now returns the status information instead of printing it.</div>
<div class="line">      changed (3.2.8) -- added the DINFO_DATA request</div>
<div class="line"></div>
<div class="line">added DID_MEM_LWASTED, DID_MEM_LWASTED_SIZE, DID_MEM_SWASTED, and DID_MEM_SWASTED_SIZE stats</div>
<div class="line"></div>
<div class="line">added the data size of the <span class="keywordtype">object</span> to the result of DINFO_MEMORY.</div>
<div class="line">      added the DINFO_DATA request</div>
<div class="line">      added DID_MEM_LWASTED, DID_MEM_LWASTED_SIZE, DID_MEM_SWASTED, and DID_MEM_SWASTED_SIZE stats</div>
<div class="line">      added the data size of the <span class="keywordtype">object</span> to the result of DINFO_MEMORY.</div>
<div class="line">      changed (3.2.9) -- added DINFO_TRACE</div>
<div class="line"></div>
<div class="line">added the indexing feature <span class="keywordflow">for</span> DINFO_DATA</div>
<div class="line"></div>
<div class="line">added the <span class="stringliteral">&#39;destructed&#39;</span> DINFO_DUMP</div>
<div class="line"></div>
<div class="line">added DID_MEM_CLIB, DID_MEM_CLIB_SIZE</div>
<div class="line"></div>
<div class="line">added DID_MEM_PERM, DID_MEM_PERM_SIZE</div>
<div class="line"></div>
<div class="line">added DID_ST_OBJECTS_NEWLY_DEST</div>
<div class="line"></div>
<div class="line">added DID_ST_OBJECTS_DEST</div>
<div class="line"></div>
<div class="line">added DID_MEM_OVERHEAD</div>
<div class="line"></div>
<div class="line">added DID_MEM_ALLOCATED</div>
<div class="line"></div>
<div class="line">added DID_MEM_USED</div>
<div class="line"></div>
<div class="line">added DID_MEM_TOTAL_UNUSED</div>
<div class="line"></div>
<div class="line">added DID_ST_HBEAT_CALLS_TOTAL</div>
<div class="line">      added DINFO_TRACE</div>
<div class="line">      added the indexing feature <span class="keywordflow">for</span> DINFO_DATA</div>
<div class="line">      added the <span class="stringliteral">&#39;destructed&#39;</span> DINFO_DUMP</div>
<div class="line">      added DID_MEM_CLIB, DID_MEM_CLIB_SIZE</div>
<div class="line">      added DID_MEM_PERM, DID_MEM_PERM_SIZE</div>
<div class="line">      added DID_ST_OBJECTS_NEWLY_DEST</div>
<div class="line">      added DID_ST_OBJECTS_DEST</div>
<div class="line">      added DID_MEM_OVERHEAD</div>
<div class="line">      added DID_MEM_ALLOCATED</div>
<div class="line">      added DID_MEM_USED</div>
<div class="line">      added DID_MEM_TOTAL_UNUSED</div>
<div class="line">      added DID_ST_HBEAT_CALLS_TOTAL</div>
<div class="line">      changed (3.2.10) -- added the <span class="keywordtype">object</span> creation <a class="code" href="classefun.html#aa560fa38ca94599aa767ccb916e9bce7">time</a> to DINFO_DUMP:<span class="stringliteral">&quot;objects&quot;</span></div>
<div class="line"></div>
<div class="line">added DID_ST_BOOT_TIME, DID_ST_MB_FILE and DID_ST_MB_SWAP to DINFO_DATA:DID_STATUS</div>
<div class="line"></div>
<div class="line">added the third argument to DINFO_OBJLIST</div>
<div class="line"></div>
<div class="line">removed DID_MEM_UNUSED from DINFO_DATA:DID_MEMORY</div>
<div class="line"></div>
<div class="line">removed DID_ST_CALLOUT_SLOTS and from DINFO_DATA:DID_STATUS</div>
<div class="line"></div>
<div class="line">changed the meaning of DID_ST_CALLOUT_SIZE, DID_ST_HBEAT_SIZE, and DID_ST_HBEAT_SLOTS</div>
<div class="line">      added the <span class="keywordtype">object</span> creation <a class="code" href="classefun.html#aa560fa38ca94599aa767ccb916e9bce7">time</a> to DINFO_DUMP:<span class="stringliteral">&quot;objects&quot;</span></div>
<div class="line">      added DID_ST_BOOT_TIME, DID_ST_MB_FILE and DID_ST_MB_SWAP to DINFO_DATA:DID_STATUS</div>
<div class="line">      added the third argument to DINFO_OBJLIST</div>
<div class="line">      removed DID_MEM_UNUSED from DINFO_DATA:DID_MEMORY</div>
<div class="line">      removed DID_ST_CALLOUT_SLOTS and from DINFO_DATA:DID_STATUS</div>
<div class="line">      changed the meaning of DID_ST_CALLOUT_SIZE, DID_ST_HBEAT_SIZE, and DID_ST_HBEAT_SLOTS</div>
<div class="line">      changed (3.3) -- replaced the <span class="keywordtype">string</span> related DID_ST_* constants according to the <span class="keyword">new</span> <span class="keywordtype">string</span> implementation.</div>
<div class="line">      changed (3.3.387) -- added the ptmalloc values <span class="keywordflow">for</span> DINFO_DATA:DID_MEMORY.</div>
<div class="line">      changed (3.3.479) -- added the DID_MEM_DEFRAG_ values <span class="keywordflow">for</span> DINFO_DATA:DID_MEMORY.</div>
<div class="line">      changed (3.3.526) -- added DINFO_DUMP:<span class="stringliteral">&quot;memory&quot;</span>.</div>
<div class="line">      changed (3.3.533) -- added DID_MEM_AVL_NODES <span class="keywordflow">for</span> DINFO_DATA:DID_MEMORY.</div>
<div class="line">      changed (3.3.603) -- added DID_MEM_EXT_STATISTICS <span class="keywordflow">for</span> DINFO_DATA:DID_MEMORY.</div>
<div class="line">      changed (3.3.645) -- added DINFO_DATA:DID_ST_PACKETS_IN and DID_ST_PACKET_SIZE_IN.</div>
<div class="line">      changed (3.3.679) -- removed DID_ST_IT_OVERHEAD and DID_ST_ITABLED*; added DID_ST_HYBRID_MAPPINGS and DID_ST_HASH_MAPPINGS.</div>
<div class="line">      changed (3.3.718) -- added DIT_CURRENT_DEPTH to DINFO_TRACE.</div>
<div class="line">      changed (3.3.719) -- added DINFO_EVAL_NUMBER</div>
<div class="line">      changed (3.5.0) -- removed the ptmalloc values <span class="keywordflow">for</span> DINFO_DATA:DID_MEMORY.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a10ab58b2ef6365c8851dcc8f9d6def03" title="Sets the trace flags and returns the old trace flags. ">efun::trace()</a>, <a class="el" href="classefun.html#af0416a70b75e06959cea1a9a50f9a12e" title="If called with a string, only objects matching this prefix will be traced. ">efun::traceprefix()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a969ddceb77d814a037ea17410af50e3e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void debug_message </td>
          <td>(</td>
          <td class="paramtype">string text&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int flags&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints the given text to stdout, stderr, the <code>&lt;host&gt;.debug.log</code> file, or any combination of these. </p>
<p>The parameter <code>flags</code> is a combination of bitflags determining the target and the mode of writing.</p>
<p>The target flags are: <code>DMSG_STDOUT</code>, <code>DMSG_STDERR</code> and <code>DMSG_LOGFILE</code>. If the flag <code>DMSG_STAMP</code> is given, the message is prepended with the current date and time in the format <code>YYYY.MM.DD HH:MM:SS</code>.</p>
<p>If <code>flags</code> is given as 0, left out, or contains no target definition, <a class="el" href="classefun.html#a969ddceb77d814a037ea17410af50e3e" title="Prints the given text to stdout, stderr, the &lt;host&gt;.debug.log file, or any combination of these...">efun::debug_message()</a> will print to stdout and to the logfile.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a969ddceb77d814a037ea17410af50e3e">debug_message</a>(string text)</div>
<div class="line">void <a class="code" href="classefun.html#a969ddceb77d814a037ea17410af50e3e">debug_message</a>(string text, int flags)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><a class="code" href="classefun.html#a969ddceb77d814a037ea17410af50e3e">debug_message</a>(<span class="stringliteral">&quot;This goes to stdout and the logfile.\n&quot;</span>);</div>
<div class="line"><a class="code" href="classefun.html#a969ddceb77d814a037ea17410af50e3e">debug_message</a>(<span class="stringliteral">&quot;This goes to stderr.\n&quot;</span>, DMSG_STDERR);</div>
<div class="line"><a class="code" href="classefun.html#a969ddceb77d814a037ea17410af50e3e">debug_message</a>(<span class="stringliteral">&quot;This goes to stdout and stderr.\n&quot;</span></div>
<div class="line">             , DMSG_STDOUT | DMSG_STDERR);</div>
<div class="line"></div>
<div class="line"><a class="code" href="classefun.html#a969ddceb77d814a037ea17410af50e3e">debug_message</a>(<span class="stringliteral">&quot;This goes to stdout and the logfile, with timestamp.\n&quot;</span></div>
<div class="line">             , DMSG_STAMP);</div>
<div class="line"><a class="code" href="classefun.html#a969ddceb77d814a037ea17410af50e3e">debug_message</a>(<span class="stringliteral">&quot;This goes to stdout and has the timestamp in front.\n&quot;</span></div>
<div class="line">             , DMSG_STDOUT | DMSG_STAMP);</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.1@34)</div>
<div class="line">changed (3.2.9) -- added the flags parameter</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ae4cb90ea7fc1b005d59712643e907865" title="Returns an array showing the &#39;length&#39; last executed instructions in disassembled form. ">efun::last_instructions()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aaa7f17ec1022dac35a818c575fef969a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed deep_copy </td>
          <td>(</td>
          <td class="paramtype">mixed value&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a deep copy of <code>value</code> and return it. </p>
<p>For arrays and mappings this means that a new array or mapping is created with copies of the original content. Embedded arrays and mappings are truly copied, too.</p>
<p>For other values this function is a no-op.</p>
<p>If DYNAMIC_COST is defined, every nested mapping or array counts towards the evaluation cost in both size and nesting depth.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed <a class="code" href="classefun.html#aaa7f17ec1022dac35a818c575fef969a">deep_copy</a>(mixed value)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">In contrast to the example in <a class="el" href="classefun.html#a1d1d4e6c303dc08e0b9952e38361b028" title="Create a shallow copy of value and return it. ">efun::copy()</a>, changes to the nested array below are not visible in both copies:</p>
<div class="fragment"><div class="line">mixed *a, *b;</div>
<div class="line"></div>
<div class="line">a = ({ 1, ({ 21, 22 }) });</div>
<div class="line">b = <a class="code" href="classefun.html#aaa7f17ec1022dac35a818c575fef969a">deep_copy</a>(a);</div>
<div class="line">a[0] = -1;</div>
<div class="line">a[1][0] = -21;</div>
<div class="line"></div>
<div class="line"><span class="comment">// a is now   ({ -1, ({ -21, 22 }) })</span></div>
<div class="line"><span class="comment">// b is still ({  1, ({  21, 22 }) })</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.6)</div>
<div class="line">changed (3.2.9) -- added the dynamic cost to the <a class="code" href="classefun.html">efun</a></div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a1d1d4e6c303dc08e0b9952e38361b028" title="Create a shallow copy of value and return it. ">efun::copy()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a28946d9af16fa288cf2f243de7f7aa12"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object* deep_inventory </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int depth&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an array of the objects contained in the inventory of <code>ob</code> (or <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code> if no arg given) and in the inventories of these objects, climbing down recursively. </p>
<p>If <code>depth</code> is given and not 0, the result is limited as follows:</p>
<p><code>depth</code> &gt; 0 Only the objects in the first <code>depth</code> levels of inventory are returned.</p>
<p><code>depth</code> &lt; 0 Only the objects in level <code>depth</code> of inventory are returned.</p>
<p>In this, level '1' is the inventory of <code>ob</code> itself.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> * <a class="code" href="classefun.html#a28946d9af16fa288cf2f243de7f7aa12">deep_inventory</a>(<span class="keywordtype">void</span>)</div>
<div class="line">object * <a class="code" href="classefun.html#a28946d9af16fa288cf2f243de7f7aa12">deep_inventory</a>(object ob)</div>
<div class="line"><span class="keywordtype">object</span> * <a class="code" href="classefun.html#a28946d9af16fa288cf2f243de7f7aa12">deep_inventory</a>(object ob, int depth)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">Consider the following nested inventory structure:</p>
<ul>
<li>ob</li>
<li>ob1</li>
<li>ob2<ul>
<li>ob21</li>
</ul>
</li>
<li>ob3<ul>
<li>ob31</li>
</ul>
</li>
<li>ob4</li>
</ul>
<p>Given this structure, <a class="el" href="classefun.html#a28946d9af16fa288cf2f243de7f7aa12" title="Returns an array of the objects contained in the inventory of ob (or this_object() if no arg given) a...">efun::deep_inventory()</a> would return:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a28946d9af16fa288cf2f243de7f7aa12">deep_inventory</a>(ob)     <span class="comment">// ({ob1, ob2, ob3, ob4, ob21, ob31})</span></div>
<div class="line"><a class="code" href="classefun.html#a28946d9af16fa288cf2f243de7f7aa12">deep_inventory</a>(ob, 1)  <span class="comment">// ({ob1, ob2, ob3, ob4})</span></div>
<div class="line"><a class="code" href="classefun.html#a28946d9af16fa288cf2f243de7f7aa12">deep_inventory</a>(ob, 2)  <span class="comment">// ({ob1, ob2, ob3, ob4, ob21, ob31})</span></div>
<div class="line"><a class="code" href="classefun.html#a28946d9af16fa288cf2f243de7f7aa12">deep_inventory</a>(ob, -2) <span class="comment">// ({ob21, ob31})</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.3.554) -- added the depth parameter</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#aa33aa7a0208e0b334af0d05bc9386d3d" title="Get the first object in the inventory of ob, where ob is either an object or the file name of an obje...">efun::first_inventory()</a>, <a class="el" href="classefun.html#ac27f5d278c0e4c64697f3737a973e0e4" title="Get next object in the same inventory as ob. ">efun::next_inventory()</a>, <a class="el" href="classefun.html#ab14beb1b749c799c34e81490763bc26f" title="Returns an array of the objects contained in the inventory of ob, or of this_object(), if no arg given. ">efun::all_inventory()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a89a46c286d5c8b1c09148c9c6e269c0b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void destruct </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Completely destroy and remove object ob (if not already done so). </p>
<p>After the call to <a class="el" href="classefun.html#a89a46c286d5c8b1c09148c9c6e269c0b" title="Completely destroy and remove object ob (if not already done so). ">efun::destruct()</a>, no global variables will exist any longer, only local ones, and arguments.</p>
<p>If an object self-destructs, it will not immediately terminate execution. If the <a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">efun::this_object()</a> will be called by the destructed object, the result will be 0. Furthermore, all calls to other objects and to simul-efuns will be ignored, instead the driver will return 0 als 'call' result.</p>
<p>To keep things consistent, most mudlibs frown upon the destruction of other objects, and instead demand call_others to a specific lfun in the object to destruct (traditionally named "remove"). This will then ensure correct update of e.g. weights, volumes etc. Additionally (or instead), <a class="el" href="classmaster.html#acce46cbd92020edeea3cf9c9735358d1" title="Prepare the destruction of the object obj. ">master::prepare_destruct()</a> can be used for this 'cleanup' functionality.</p>
<p>The interpreter does not really destruct the object immediately, but marks it as deleted, removes it from the list of all objects, and puts it onto a list of to-be-destructed objects. The actual freeing occurs only when all references to a destructed object have gone. Thus it is possible, that an object occupies memory long after it has been destructed, although the object is not visible anywhere anymore from outside.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a89a46c286d5c8b1c09148c9c6e269c0b">destruct</a>(object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">To force destruction after giving an object a chance to clean up and destruct itself:</p>
<div class="fragment"><div class="line">ob-&gt;remove();</div>
<div class="line"><span class="keywordflow">if</span>(ob)        <span class="comment">// still there, probably ob does not provide remove()</span></div>
<div class="line">   <a class="code" href="classefun.html#a89a46c286d5c8b1c09148c9c6e269c0b">destruct</a>(ob);</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.7) -- accepts destructed objects as argument, too.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ac48b7a182d90218465e671cd6f2dcd68" title="Clone a new object from definition name, or alternatively from the object template. ">efun::clone_object()</a>, <a class="el" href="classapplied.html#acb2aa7bd8fd0c69f05f71907fd17b74c" title="Does some housekeeping to ensure consistency and then destructs the current object. ">applied::remove()</a>, <a class="el" href="classmaster.html#acce46cbd92020edeea3cf9c9735358d1" title="Prepare the destruction of the object obj. ">master::prepare_destruct()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a5ce5d13400348ab0e9800abba278b6e3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void disable_commands </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Disable this object to use commands normally accessible to users. </p>
<p>This is the opposite of <a class="el" href="classefun.html#a57a7c813f5dd1e9315900171a868d4dd" title="Enable this object to use commands normally accessible to users. ">efun::enable_commands()</a>.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a5ce5d13400348ab0e9800abba278b6e3">disable_commands</a>()</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a57a7c813f5dd1e9315900171a868d4dd" title="Enable this object to use commands normally accessible to users. ">efun::enable_commands()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a9ee9e4fa5066437c75195638c362ee6d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ed </td>
          <td>(</td>
          <td class="paramtype">string file&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string func&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calling without arguments will start the editor ed with the name of the error file, that was returned by <code>master-&gt;valid_read(0, geteuid(this_player()), "ed_start", <a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af" title="Return the current command giver. ">this_player()</a>)</code>, usually something like <code>~/.err</code>. </p>
<p>If that file is empty, ed will immediatly exit again. Calling <a class="el" href="classefun.html#a9ee9e4fa5066437c75195638c362ee6d" title="Calling without arguments will start the editor ed with the name of the error file, that was returned by master-&gt;valid_read(0, geteuid(this_player()), &quot;ed_start&quot;, this_player()), usually something like ~/.err. ">efun::ed()</a> with <code>file</code> will start the editor on the specified path. If the optional argument func is given, this function will be called after exiting the editor.</p>
<p>The editor ed is almost <code>ed(1)</code> compatible.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a9ee9e4fa5066437c75195638c362ee6d">ed</a>()</div>
<div class="line">void <a class="code" href="classefun.html#a9ee9e4fa5066437c75195638c362ee6d">ed</a>(string file)</div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a9ee9e4fa5066437c75195638c362ee6d">ed</a>(string file, string func)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a57a7c813f5dd1e9315900171a868d4dd" title="Enable this object to use commands normally accessible to users. ">efun::enable_commands()</a>, <a class="el" href="classefun.html#a0f089a53d6e885fc1cb5901fe8cb7729" title="Returns 1 if the ob is interactive and currently editing with efun::ed(). ">efun::query_editing()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a57a7c813f5dd1e9315900171a868d4dd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void enable_commands </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enable this object to use commands normally accessible to users. </p>
<p>This also marks the current object as "living".</p>
<p>Avoid calling this function outside of <code>create()</code> (or <code>reset(0)</code> in compat mode), because the command giver will be set to this object.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a57a7c813f5dd1e9315900171a868d4dd">enable_commands</a>()</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">This example makes the current object a living object which then can be accessed via <code>find_living("dummymonster")</code>:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> create() {</div>
<div class="line">  <a class="code" href="classefun.html#a57a7c813f5dd1e9315900171a868d4dd">enable_commands</a>();</div>
<div class="line">  set_living_name(<span class="stringliteral">&quot;dummymonster&quot;</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ae0ce5d3f989d2054ce6b26d5fb22ab6d" title="Execute str as a command given directly by the user. ">efun::command()</a>, <a class="el" href="classefun.html#a84dd5e31020dfbdb2f748f7837d6a7ee" title="Return true if ob is a living object (that is, efun::enable_commands() has been called from inside th...">efun::living()</a>, <a class="el" href="classefun.html#a5ce5d13400348ab0e9800abba278b6e3" title="Disable this object to use commands normally accessible to users. ">efun::disable_commands()</a>, <a class="el" href="driver_hook_overview.html">hook</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a0edd06bcaa96598da8d8041b8783a2d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int enable_telnet </td>
          <td>(</td>
          <td class="paramtype">int num&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object obj&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enable or disable the telnet machine for the interactive object <code>obj</code>. </p>
<p>Return the previous state of the telnet machine as result.</p>
<p>The function raises a privilege_violation ("enable_telnet", obj, num) if <code>num</code> is &gt;= 0. If the privilege is denied, the call is ignored.</p>
<dl class="section user"><dt>warning: Careless use of this efun can cause great confusion for both driver and clients! The efun exists mainly to support PSYCmuve, and may vanish if a more consistent way of handling network connections is introduced.</dt><dd></dd></dl>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a0edd06bcaa96598da8d8041b8783a2d8">enable_telnet</a>(int num)</div>
<div class="line">int <a class="code" href="classefun.html#a0edd06bcaa96598da8d8041b8783a2d8">enable_telnet</a>(int num, object obj)</div>
</div><!-- fragment --></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num</td><td><ul>
<li><code>&gt; 0</code> : enable telnet machine (default)</li>
<li><code>= 0</code> : disable telnet machine</li>
<li><code>&lt; 0</code> : just query the current state of the telnet machine.</li>
</ul>
</td></tr>
    <tr><td class="paramname">obj</td><td>the interactive object, default is the current interactive. For non-interactive objects the function raises an error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.10)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classmaster.html#afaf1545f7ccfbb3d897293150f5a45ca" title="Validate the execution of a privileged operation. ">master::privilege_violation()</a>, <a class="el" href="classefun.html#af611da839c18f550d1639881f3f3cade" title="Enable next line of user input to be sent to the function fun as an argument. ">efun::input_to()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ab7f14bd8da9ff16ac3c60d868af1aedb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int end_mccp_compress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This efun must be called inside an interactive player and stops the compression of the driver -&gt; client traffic. </p>
<p>Returns non-zero on success, and zero on a failure.</p>
<p>Available only if the driver is compiled with <a class="el" href="driver_topics_mccp.html">MCCP</a> enabled; <a class="el" href="driver_topics_predefined.html">__MCCP__</a> is defined in that case.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#ab7f14bd8da9ff16ac3c60d868af1aedb">end_mccp_compress</a>()</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.447)</div>
<div class="line">backported (3.2.10)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a0942012412ffa3f64f1d7c92352a805e" title="This efun must be called inside an interactive player and starts the compression of the driver -&gt; cli...">efun::start_mccp_compress()</a>, <a class="el" href="classefun.html#af6515b75af0e981f626dc18cab2c5e82" title="This efun returns current whether the client uses compression or not ( default this_player() )...">efun::query_mccp()</a>, <a class="el" href="classefun.html#afe44b8bace8716fb752a644c53fa1258" title="This efun gives you statistics about current compression of the player ( default this_player() )...">efun::query_mccp_stats()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a657cd0dbc848f16af8079c5d43386952"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object environment </td>
          <td>(</td>
          <td class="paramtype">string obj&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the surrounding object of obj, which may be given by name. </p>
<p>If no argument is given, it returns the surrounding of the current object.</p>
<p>Destructed objects do not have an environment.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#a657cd0dbc848f16af8079c5d43386952">environment</a>(<span class="keywordtype">void</span>)</div>
<div class="line">object <a class="code" href="classefun.html#a657cd0dbc848f16af8079c5d43386952">environment</a>(object obj)</div>
<div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#a657cd0dbc848f16af8079c5d43386952">environment</a>(string obj)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">This will return the current room you are in:</p>
<div class="fragment"><div class="line"><span class="keywordtype">object</span> room;</div>
<div class="line">room = <a class="code" href="classefun.html#a657cd0dbc848f16af8079c5d43386952">environment</a>(<a class="code" href="classefun.html#a23dc6aa65a7477371df722a647b661af">this_player</a>());</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#aa33aa7a0208e0b334af0d05bc9386d3d" title="Get the first object in the inventory of ob, where ob is either an object or the file name of an obje...">efun::first_inventory()</a>, <a class="el" href="classefun.html#ac27f5d278c0e4c64697f3737a973e0e4" title="Get next object in the same inventory as ob. ">efun::next_inventory()</a>, <a class="el" href="classefun.html#ab14beb1b749c799c34e81490763bc26f" title="Returns an array of the objects contained in the inventory of ob, or of this_object(), if no arg given. ">efun::all_inventory()</a>, <a class="el" href="classefun.html#a4e91c4d0a0078128a5d34bd386282244" title="Returns an array with all environments object obj is in. ">efun::all_environment()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a14bd39c3363f23bbf80260bcd1e30a38"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int exec </td>
          <td>(</td>
          <td class="paramtype">object new&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object old&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Switches the connection from the interactive object old to the object new. </p>
<p>If the new object is also interactive, it's connection will be transferred to the old object, thus exchaning the two connections between the object. If the new object is not interactive, the old will not be interactive anymore after the exec call succeeded.</p>
<p>The result is 1 on success, and 0 on failure.</p>
<p><a class="el" href="classefun.html#a14bd39c3363f23bbf80260bcd1e30a38" title="Switches the connection from the interactive object old to the object new. ">efun::exec()</a> is used to load different "user objects" or to reconnect link dead users.</p>
<p>To provide security mechanisms, the interpreter calls <code>master-&gt;valid_exec(current_program, new, old)</code>, which must return anything other than 0 to allow this <a class="el" href="classefun.html#a14bd39c3363f23bbf80260bcd1e30a38" title="Switches the connection from the interactive object old to the object new. ">efun::exec()</a> invocation.</p>
<p>After the <a class="el" href="classefun.html#a14bd39c3363f23bbf80260bcd1e30a38" title="Switches the connection from the interactive object old to the object new. ">efun::exec()</a>, if arg 2 was <code><a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af" title="Return the current command giver. ">this_player()</a></code>, <code><a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af" title="Return the current command giver. ">this_player()</a></code> becomes arg 1, else vice versa. Ditto for <code><a class="el" href="classefun.html#af4fe93bc840224313bc10d018ef288ad" title="Returns the current interactive object, if any (i.e., the one who hit the RETURN key). ">this_interactive()</a></code>.</p>
<p>Take care when writing a simul-efun around <a class="el" href="classefun.html#a14bd39c3363f23bbf80260bcd1e30a38" title="Switches the connection from the interactive object old to the object new. ">efun::exec()</a>: the 'current_program' passed to the <a class="el" href="classmaster.html#a8f3c822a548a8f0a46b2e71a0b7a15d6" title="Validate the rebinding of an IP connection by usage of efun::exec(). ">master::valid_exec()</a> function will be that of the simul-efun object. To get around this, use <a class="el" href="classefun.html#a8e512d3268244957695f1a9fcf988f33" title="Binds an unbound lambda closure to an object and return it. ">efun::bind_lambda()</a> to bind <code>#'exec</code> to the real object and <a class="el" href="classefun.html#a665f686219e1bffdb5e89a5158167473" title="Evaluates the closure. ">efun::funcall()</a> the resulting closure.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a14bd39c3363f23bbf80260bcd1e30a38">exec</a>(object new, object old)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">To create a new player object, switch the connection to it, and destruct the previous object:</p>
<div class="fragment"><div class="line">ob = <a class="code" href="classefun.html#ac48b7a182d90218465e671cd6f2dcd68">clone_object</a>(<span class="stringliteral">&quot;std/player&quot;</span>);</div>
<div class="line"><a class="code" href="classefun.html#a14bd39c3363f23bbf80260bcd1e30a38">exec</a>(ob, <a class="code" href="classefun.html#a3beb87980adf6911709c4c431e244488">this_object</a>());</div>
<div class="line"><a class="code" href="classefun.html#a89a46c286d5c8b1c09148c9c6e269c0b">destruct</a>(<a class="code" href="classefun.html#a3beb87980adf6911709c4c431e244488">this_object</a>());</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.9) -- adds the switchover of <a class="code" href="classefun.html#af4fe93bc840224313bc10d018ef288ad">this_interactive</a>().</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classmaster.html#a5ba74ee9cd2ce5203374a79f48f908d7" title="Return a login object that the requested connection should be bound to. ">master::connect()</a>, <a class="el" href="classmaster.html#abc8fd8de1c33ab91cfed9fda1c742b11" title="Handle the loss of the IP connection for the (formerly) interactive object ob. ">master::disconnect()</a>, <a class="el" href="classapplied.html#a6b064bd51c85a6644ac5d38ae5276815" title="When the driver created a new connection (either by accepting it or by creating it with efun::net_con...">applied::logon()</a>, <a class="el" href="classefun.html#abb6bdbce645e4924d4e99dbb9582c3e5" title="Return non-zero if ob is an interactive user. ">efun::interactive()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="acb6f567dff1d19321033c6b4e5b92303"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int execute_command </td>
          <td>(</td>
          <td class="paramtype">string command&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object origin&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object player&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Low-level access to the command parser: take the <code>command</code>, parse it into verb and argument and call the appropriate action added to <code>origin</code> (read: <code>origin</code> is the object 'issuing' the command). </p>
<p>For the execution of the function(s), <code><a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af" title="Return the current command giver. ">this_player()</a></code> is set to player. The function also sets results of <code><a class="el" href="classefun.html#a9d55fac98f23ae1ce0e8c4394fe63716" title="Give the text of the current command, or 0 if not executing from a command. ">query_command()</a></code> and <code><a class="el" href="classefun.html#ae1f08790d1820834e9fb63b7e686f75d" title="Return the verb of the current command, of 0 if not executing from a command. ">query_verb()</a></code> to match the given <code>command</code>.</p>
<p>The result is non-0 if the command was found and execute, and 0 otherwise.</p>
<p>The efun raises a privilege violation ("execute_command", <a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a>, origin, command).</p>
<p>Note that this function does not use the <a class="el" href="driver_hook_modify_command.html">H_MODIFY_COMMAND</a> and <a class="el" href="driver_hook_notify_fail.html">H_NOTIFY_FAIL</a> hooks; <a class="el" href="classefun.html#afe008c0344508051dcc4d07d79dd0bc4" title="Store str as the error message given instead of the default message &quot;What ?&quot;. ">efun::notify_fail()</a> is can be used, but must be evaluated by the caller.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#acb6f567dff1d19321033c6b4e5b92303">execute_command</a>(string command, object origin, object player)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.7)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="driver_hook_overview.html">hook</a>, <a class="el" href="classefun.html#a227176867b02eec1fee0731bead44a48" title="Take the command command, parse it, and return an array of all matching actions added to origin (read...">efun::match_command()</a>, <a class="el" href="classefun.html#ae0ce5d3f989d2054ce6b26d5fb22ab6d" title="Execute str as a command given directly by the user. ">efun::command()</a>, <a class="el" href="classefun.html#afe008c0344508051dcc4d07d79dd0bc4" title="Store str as the error message given instead of the default message &quot;What ?&quot;. ">efun::notify_fail()</a>, <a class="el" href="classefun.html#a5d1ff18e70214ed8123b3038b933f7c1" title="Return an array describing the current command stack. ">efun::command_stack()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a50fe46ccac04a290922b0752c2dfa4a5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float exp </td>
          <td>(</td>
          <td class="paramtype">int|&#160;</td>
          <td class="paramname"><em>float</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The exponential function. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">float</span> <a class="code" href="classefun.html#a50fe46ccac04a290922b0752c2dfa4a5">exp</a>(<span class="keywordtype">int</span>|<span class="keywordtype">float</span>)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.9) -- added integers as arguments</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a14fd4cedd664420252059fe942d96424" title="Returns the natural logarithm of its argument. ">efun::log()</a>, <a class="el" href="classefun.html#a23db3b9d4dcad4bf886083af59f2f5a2" title="The function returns the value of base raised to the power of exp. ">efun::pow()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a4b1e2c1e9a9dbd9f0206b4422f1277cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string expand_define </td>
          <td>(</td>
          <td class="paramtype">string name&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string arg&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Expands the macro <code>name</code> with the argument(s) <code>arg</code> ... </p>
<p>(default is one empty string ""). Result is the expanded macro, or 0 if there is no macro with that name.</p>
<p>This efun is applicable only while an object is compiled, therefore its usage is restricted to a few functions like <a class="el" href="driver_hook_include_dirs.html">H_INCLUDE_DIRS</a>, or <a class="el" href="classmaster.html#a6760b65ca73074297789d2fe4974408a" title="This function has to announce a runtime error to the active user. ">master::runtime_error()</a>.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a4b1e2c1e9a9dbd9f0206b4422f1277cc">expand_define</a>(string name)</div>
<div class="line">string <a class="code" href="classefun.html#a4b1e2c1e9a9dbd9f0206b4422f1277cc">expand_define</a>(string name, string arg, ...)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">While compiling 'foo.c':</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a4b1e2c1e9a9dbd9f0206b4422f1277cc">expand_define</a>(<span class="stringliteral">&quot;__FILE__&quot;</span>) --&gt; <span class="stringliteral">&quot;foo.c&quot;</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.1@93)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="driver_hook_overview.html">hook</a>, <a class="el" href="classmaster.html#a6760b65ca73074297789d2fe4974408a" title="This function has to announce a runtime error to the active user. ">master::runtime_error()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a5b90a42c555bc61599b700a31b530082"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string* explode </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string del&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return an array of strings, created when the string str is split into substrings as divided by del. </p>
<dl class="section user"><dt>note: implode(explode(str, del), del) == str is always true.</dt><dd></dd></dl>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> * <a class="code" href="classefun.html#a5b90a42c555bc61599b700a31b530082">explode</a>(string str, string del)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><span class="keyword">function</span>                    returns</div>
<div class="line">-------------------------------------------------------------------</div>
<div class="line"><a class="code" href="classefun.html#a5b90a42c555bc61599b700a31b530082">explode</a>(<span class="stringliteral">&quot; ab cd ef &quot;</span>, <span class="stringliteral">&quot; &quot;</span>)  ({ <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;ab&quot;</span>, <span class="stringliteral">&quot;cd&quot;</span>, <span class="stringliteral">&quot;ef&quot;</span>, <span class="stringliteral">&quot;&quot;</span> })</div>
<div class="line"><a class="code" href="classefun.html#a5b90a42c555bc61599b700a31b530082">explode</a>(<span class="stringliteral">&quot;abc&quot;</span>, <span class="stringliteral">&quot;abc&quot;</span>)       ({ <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span> })</div>
<div class="line"><a class="code" href="classefun.html#a5b90a42c555bc61599b700a31b530082">explode</a>(<span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)             ({ <span class="stringliteral">&quot;&quot;</span> })</div>
<div class="line"><a class="code" href="classefun.html#a5b90a42c555bc61599b700a31b530082">explode</a>(<span class="stringliteral">&quot;&quot;</span>, &lt;whatever&gt;)     ({ <span class="stringliteral">&quot;&quot;</span> })</div>
<div class="line"><a class="code" href="classefun.html#a5b90a42c555bc61599b700a31b530082">explode</a>(<span class="stringliteral">&quot;abc&quot;</span>, <span class="stringliteral">&quot;xyz&quot;</span>)       ({ <span class="stringliteral">&quot;abc&quot;</span> })</div>
<div class="line"><a class="code" href="classefun.html#a5b90a42c555bc61599b700a31b530082">explode</a>(<span class="stringliteral">&quot;abc&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)          ({ <span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;c&quot;</span> })</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (unknown) -- <a class="code" href="classefun.html#a5b90a42c555bc61599b700a31b530082">explode</a>(<span class="stringliteral">&quot; ab cd ef &quot;</span>, <span class="stringliteral">&quot; &quot;</span>) formerly returned ({ <span class="stringliteral">&quot;ab&quot;</span>, <span class="stringliteral">&quot;cd&quot;</span>, <span class="stringliteral">&quot;ef&quot;</span> }) instead of ({ <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;ab&quot;</span>, <span class="stringliteral">&quot;cd&quot;</span>, <span class="stringliteral">&quot;ef&quot;</span>, <span class="stringliteral">&quot;&quot;</span> }), i. e. the empty strings were ignored. The <span class="keyword">new</span> behaviour is more consistent, because now <a class="code" href="classefun.html#a7ba15ab03672927eae914004b91b2509">implode</a>(<a class="code" href="classefun.html#a5b90a42c555bc61599b700a31b530082">explode</a>(str, del), del) == str is always <span class="keyword">true</span>.</div>
<div class="line">changed (3.5.0) -- <a class="code" href="classefun.html#a5b90a42c555bc61599b700a31b530082">explode</a>(<span class="stringliteral">&quot;&quot;</span>,<span class="stringliteral">&quot;&quot;</span>) returns ({<span class="stringliteral">&quot;&quot;</span>}), so it is guaranteed to <span class="keywordflow">return</span> a non-empty array.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a45e3a155fb859f16c2600eac07df15f5" title="Parse a string str using the format fmt. ">efun::sscanf()</a>, <a class="el" href="classefun.html#a7ba15ab03672927eae914004b91b2509" title="Concatenate all strings found in array arr, with the string del between each element. ">efun::implode()</a>, <a class="el" href="classefun.html#a785445d41389aab57b55a2bfbccbb436" title="This function is similar to explode but accepts a regular expression pattern as delimiter (interprete...">efun::regexplode()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ade44122dc7cb16d015937a67cc645939"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void export_uid </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the uid of object <code>ob</code> to the current object's effective uid. </p>
<p>It is only possible when object <code>ob</code> has an effective uid of 0.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#ade44122dc7cb16d015937a67cc645939">export_uid</a>(object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.1@47) -- <span class="keyword">this</span> <a class="code" href="classefun.html">efun</a> is availabe only when <span class="keyword">using</span> euids.</div>
<div class="line">changed (3.2.7) -- <span class="keyword">this</span> <a class="code" href="classefun.html">efun</a> is now always available.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a681286799e121e42a3158f8ca5c2f2f4" title="Set effective uid to str. ">efun::seteuid()</a>, <a class="el" href="classefun.html#a1cee8cfd71595afe5cb29db76705b601" title="User-ids are not used in compat mode. ">efun::getuid()</a>, <a class="el" href="classefun.html#a8d2464ee0d105312cb194da96f14179d" title="Get the effective user-id of the object (mostly a wizard or domain name). ">efun::geteuid()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="adbad80797e70e6d2fa6ba96cb6e226fb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int extern_call </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns zero, if the function that is currently being executed was called by a local call, non-zero for <a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a>, driver applies, closure calls, etc. </p>
<p>Currently the only return value for them is 1, but later the various methods may be distinguished by means of the return value.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#adbad80797e70e6d2fa6ba96cb6e226fb">extern_call</a>()</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2@263) -- resp. 3.2.1@12</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a>, <a class="el" href="classefun.html#a8d720f6391a992bf62bb528a3c48ba14" title="Returns an object pointer to the object that did a call (efun::call_other(), efun::funcall(), etc) to the current object, if any. ">efun::previous_object()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a0c87cd9fec8ea173263102f5340e8eeb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int file_size </td>
          <td>(</td>
          <td class="paramtype">string file&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return: </p>
<ul>
<li><code>FSIZE_NOFILE</code> (-1) : indicates that the file either does not exist, or that it is not readable for the calling object/user.</li>
<li><code>FSIZE_DIR</code> (-2) : indicates that it is a directory.</li>
</ul>
<p>Returns the size of the file in bytes.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a0c87cd9fec8ea173263102f5340e8eeb">file_size</a>(string file)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a383474b75b88587a17308ed30dfea60d" title="Append the string str to the file file. ">efun::write_file()</a>, <a class="el" href="classefun.html#aace43816f21156a6d6f2487d1a4d43c8" title="Write string str to file file by overwriting the old bytes at position start. ">efun::write_bytes()</a>, <a class="el" href="classefun.html#a691ba221d2589d03d70a2b024644d250" title="Reads lines from file. ">efun::read_file()</a>, <a class="el" href="classefun.html#a45d3491b9a1f26d6816b7409ca785150" title="Reads a given amount of bytes from file. ">efun::read_bytes()</a>, <a class="el" href="classefun.html#a457ca99271d2dd61e3378e952e34291a" title="This function takes a path as argument and returns an array of file names and attributes in that dire...">efun::get_dir()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ac5e7282ed029a438608ee96f18052e33"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mapping filter </td>
          <td>(</td>
          <td class="paramtype">mapping arg&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">closure cl&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed extra...&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Call the function <code>&lt;ob&gt;-&gt;&lt;func&gt;()</code> resp. </p>
<p>the closure <code>cl</code> for every element of the array, or mapping <code>arg</code>, and return a result made from those elements for which the function call returns TRUE. The <code>extra</code> arguments are passed as additional parameters to the function calls and must not be references of array of mapping elements (like &amp;(i[1]) ).</p>
<p>If <code>ob</code> is omitted, or neither a string nor an object, it defaults to <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code>.</p>
<p>If <code>arg</code> is an array or struct, the function will be called with each of the array/struct values as first parameter, followed by the <code>extra</code> arguments. If the result from the function call is true, the array element in question is included into the efun result.</p>
<p>If the efun is used with a mapping <code>map</code> instead of a function, every array element which is key in <code>map</code> is included into the result.</p>
<p>If <code>arg</code> is a mapping, the function will be called with each of the mapping keys as first, and (if existing) the associated values as second parameter, followed by the <code>extra</code> arguments. If the result is true, the mapping element in question is included into the result.</p>
<p>Depending on the width of the mapping <code>arg</code>, the function call takes one of three forms:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#abd02e530c8ad0620b241d0933fdc91da">widthof</a>(arg) == 0: ob-&gt;func(key, 0, extra...)</div>
<div class="line">             == 1: ob-&gt;func(key, arg[key], extra...)</div>
<div class="line">              &gt; 1: ob-&gt;func( key</div>
<div class="line">                           , ({ arg[key,0] ...arg[key,width-1] })</div>
<div class="line">                           , extra...)</div>
</div><!-- fragment --><p> The advantage of this approach is that the two types of multi-dimensional mappings (mappings with multiple values per key, and mappings of arrays) can be treated in the same way.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed * <a class="code" href="classefun.html#ac5e7282ed029a438608ee96f18052e33">filter</a>(mixed *arg, string fun, <span class="keywordtype">string</span>|object ob, mixed extra...)</div>
<div class="line">mixed * <a class="code" href="classefun.html#ac5e7282ed029a438608ee96f18052e33">filter</a>(mixed *arg, closure cl, mixed extra...)</div>
<div class="line">mixed * <a class="code" href="classefun.html#ac5e7282ed029a438608ee96f18052e33">filter</a>(mixed *arg, mapping map, mixed extra...)</div>
<div class="line"><span class="keywordtype">string</span>  <a class="code" href="classefun.html#ac5e7282ed029a438608ee96f18052e33">filter</a>(string arg, string fun, <span class="keywordtype">string</span>|object ob, mixed extra...)</div>
<div class="line"><span class="keywordtype">string</span>  <a class="code" href="classefun.html#ac5e7282ed029a438608ee96f18052e33">filter</a>(string arg, closure cl, mixed extra...)</div>
<div class="line"><span class="keywordtype">string</span>  <a class="code" href="classefun.html#ac5e7282ed029a438608ee96f18052e33">filter</a>(string arg, mapping map, mixed extra...)</div>
<div class="line">mapping <a class="code" href="classefun.html#ac5e7282ed029a438608ee96f18052e33">filter</a>(mapping arg, string func, <span class="keywordtype">string</span>|object ob, mixed extra...)</div>
<div class="line">mapping <a class="code" href="classefun.html#ac5e7282ed029a438608ee96f18052e33">filter</a>(mapping arg, closure cl, mixed extra...)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.6) -- obsoletes filter_array() for arrays and <a class="code" href="classefun.html#a499fe72696a3dc34028138aa8f465ac8">filter_indices</a>() with mappings.</div>
<div class="line">changed (3.3.439) -- adds filtering of strings.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ac5e7282ed029a438608ee96f18052e33" title="Call the function &lt;ob&gt;-&gt;&lt;func&gt;() resp. ">efun::filter()</a>, <a class="el" href="classefun.html#a499fe72696a3dc34028138aa8f465ac8" title="ob-&gt;func() is called resp. ">efun::filter_indices()</a>, <a class="el" href="classefun.html#a33260046a3141e3b6f24f730d13201b9" title="Call the function &lt;ob&gt;-&gt;&lt;func&gt;() resp. ">efun::map()</a>, <a class="el" href="classefun.html#a82aceeaafc69a2ea441ad52f4657e216" title="Calls ob-&gt;func(key, value1, ..., valueN, extra,...) resp. ">efun::walk_mapping()</a>, <a class="el" href="classefun.html#adf2253b4467a0eb544f67ff5777d2fa2" title="For arrays and strings, returns the index of the first occurance of second arg in the first arg...">efun::member()</a>, <a class="el" href="classefun.html#a149395923f6aed5847a664b568d55124" title="If the mapping contains the key map, the corresponding values are assigned to the data arguments...">efun::m_contains()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a499fe72696a3dc34028138aa8f465ac8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mapping filter_indices </td>
          <td>(</td>
          <td class="paramtype">mapping&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">closure cl&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>ob-&gt;func()</code> is called resp. </p>
<p><code>cl</code> applied to every element in the mapping, with first argument being the key of the element, and then the extra args that were given to filter_indices (these args must not be protected references like &amp;(i[0]). If the function returns true, the element is added to the result mapping. <code>ob</code> can also be an object_name of an object.</p>
<p>If <code>ob</code> is omitted, or neither a string nor an object, it defaults to <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code>.</p>
<p>Histoy 3.2.6 changed: renamed from <code>filter_mapping()</code> and generalised by <a class="el" href="classefun.html#ac5e7282ed029a438608ee96f18052e33" title="Call the function &lt;ob&gt;-&gt;&lt;func&gt;() resp. ">efun::filter()</a>.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mapping <a class="code" href="classefun.html#a499fe72696a3dc34028138aa8f465ac8">filter_indices</a>(mapping, string func, <span class="keywordtype">string</span>|object ob, ...)</div>
<div class="line">mapping <a class="code" href="classefun.html#a499fe72696a3dc34028138aa8f465ac8">filter_indices</a>(mapping, closure cl, ...)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ac5e7282ed029a438608ee96f18052e33" title="Call the function &lt;ob&gt;-&gt;&lt;func&gt;() resp. ">efun::filter()</a>, <a class="el" href="classefun.html#a33260046a3141e3b6f24f730d13201b9" title="Call the function &lt;ob&gt;-&gt;&lt;func&gt;() resp. ">efun::map()</a>, <a class="el" href="classefun.html#ae2e945661de01cfb0e12608d8851e8e7" title="ob-&gt;func() is called resp. ">efun::map_indices()</a>, <a class="el" href="classefun.html#a82aceeaafc69a2ea441ad52f4657e216" title="Calls ob-&gt;func(key, value1, ..., valueN, extra,...) resp. ">efun::walk_mapping()</a>, <a class="el" href="classefun.html#adf2253b4467a0eb544f67ff5777d2fa2" title="For arrays and strings, returns the index of the first occurance of second arg in the first arg...">efun::member()</a>, <a class="el" href="classefun.html#a149395923f6aed5847a664b568d55124" title="If the mapping contains the key map, the corresponding values are assigned to the data arguments...">efun::m_contains()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aa561f6cfab3f611e89688d5aff8a5851"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object* filter_objects </td>
          <td>(</td>
          <td class="paramtype">object  *&#160;</td>
          <td class="paramname"><em>arr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string fun&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed extra&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Similar to <code>filter_array()</code> but calls <code>arr[n]-&gt;fun(extra, ...)</code>. </p>
<p>If the call returns != 0, the object arr[n] ist included in the returned array.</p>
<dl class="section user"><dt>note: 0-entries in arr are ignored.</dt><dd></dd></dl>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> * <a class="code" href="classefun.html#aa561f6cfab3f611e89688d5aff8a5851">filter_objects</a>(object *arr, string fun, mixed extra, ...)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ac5e7282ed029a438608ee96f18052e33" title="Call the function &lt;ob&gt;-&gt;&lt;func&gt;() resp. ">efun::filter()</a>, <a class="el" href="classefun.html#a33260046a3141e3b6f24f730d13201b9" title="Call the function &lt;ob&gt;-&gt;&lt;func&gt;() resp. ">efun::map()</a>, <a class="el" href="classefun.html#afb24b3547fada366e5356ee5a0891d63" title="Similar to efun::map(), but calls arr[n]-&gt;fun(extra,...). ">efun::map_objects()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a92bee49ec4c05a18a4b152ba54656377"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int find_call_out </td>
          <td>(</td>
          <td class="paramtype">closure func&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find the first call-out due to be executed for function <code>func</code> in the current object resp. </p>
<p>for the closure <code>func</code>, and return the time left. If no call-out is found return -1.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a92bee49ec4c05a18a4b152ba54656377">find_call_out</a>(string func)</div>
<div class="line">int <a class="code" href="classefun.html#a92bee49ec4c05a18a4b152ba54656377">find_call_out</a>(closure func)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.1@45) -- can now find a <a class="code" href="classefun.html#a80949ae9919cf34ceed353d2f3a005b8">call_out</a> to a closure</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a80949ae9919cf34ceed353d2f3a005b8" title="Set up a call to function fun in the current object, or to closure cl. ">efun::call_out()</a>, <a class="el" href="classefun.html#aa9d968db432f5efab59603401e05b2c7" title="Remove next pending call-out for function fun in the current object, resp. ">efun::remove_call_out()</a>, <a class="el" href="classefun.html#ab38f224f65efce3dad779451c371e87b" title="Get information about all pending call outs. ">efun::call_out_info()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a93b1b26ca8321d256d3613066fab2966"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int find_input_to </td>
          <td>(</td>
          <td class="paramtype">object player&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string fun&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find the input_to most recently added to the interactive <code>player</code> object matching the <code>fun</code> argument: </p>
<ul>
<li><code>fun</code> is a string: the input_to functionname has to match</li>
<li><code>fun</code> is an object: the object the input_to function is bound to has to match</li>
<li><code>fun</code> is a closure: the input_to closure has to match.</li>
<li><code>ob</code> and <code>fun</code> are given: both the object and the functionname have to match</li>
</ul>
<p>Return -1 if not found, or the position in the input_to stack (0 being <em>least</em> recently added input_to).</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a93b1b26ca8321d256d3613066fab2966">find_input_to</a>(object player, string fun)</div>
<div class="line">int <a class="code" href="classefun.html#a93b1b26ca8321d256d3613066fab2966">find_input_to</a>(object player, closure fun)</div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a93b1b26ca8321d256d3613066fab2966">find_input_to</a>(object player, object fun)</div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a93b1b26ca8321d256d3613066fab2966">find_input_to</a>(object player, object ob, string fun)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.9)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#af611da839c18f550d1639881f3f3cade" title="Enable next line of user input to be sent to the function fun as an argument. ">efun::input_to()</a>, <a class="el" href="classefun.html#a0f74585c69a687a66806f986fa76b5bd" title="Construct an array of all input_to&#39;s pending for this interactive player. ">efun::input_to_info()</a>, <a class="el" href="classefun.html#a5a351739113e6cf32a6dd7d274c068bf" title="Remove a pending input_to from the interactive player object. ">efun::remove_input_to()</a>, <a class="el" href="classefun.html#a580be578b8c57465f68a84e509c12c29" title="If ob is interactive and currently has an efun::input_to() pending, the object that has called the ef...">efun::query_input_pending()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a12339d2d254849a1342fd79bdb89f638"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object find_object </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find an object with the object_name str. </p>
<p>If the object isn't loaded, it will not be found.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#a12339d2d254849a1342fd79bdb89f638">find_object</a>(string str)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">All four of these statements are equal:</p>
<div class="fragment"><div class="line"><span class="keywordtype">object</span> obj;</div>
<div class="line">obj = <a class="code" href="classefun.html#a12339d2d254849a1342fd79bdb89f638">find_object</a>(<span class="stringliteral">&quot;std/thing&quot;</span>);</div>
<div class="line">obj = <a class="code" href="classefun.html#a12339d2d254849a1342fd79bdb89f638">find_object</a>(<span class="stringliteral">&quot;std/thing.c&quot;</span>);</div>
<div class="line">obj = <a class="code" href="classefun.html#a12339d2d254849a1342fd79bdb89f638">find_object</a>(<span class="stringliteral">&quot;/std/thing&quot;</span>);</div>
<div class="line">obj = <a class="code" href="classefun.html#a12339d2d254849a1342fd79bdb89f638">find_object</a>(<span class="stringliteral">&quot;/std/thing.c&quot;</span>);</div>
</div><!-- fragment --><p> This one, however, returns the clone whose object_name is "std/thing#42", if it exists:</p>
<div class="fragment"><div class="line">obj = <a class="code" href="classefun.html#a12339d2d254849a1342fd79bdb89f638">find_object</a>(<span class="stringliteral">&quot;/std/thing#42&quot;</span>);</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a4eae6e47ac233059b5613c83cf5855e0" title="Get the name of an object ob or, if no argument is given, of the current object. ">efun::object_name()</a>, efun::to_object() </dd></dl>

</div>
</div>
<a class="anchor" id="aa33aa7a0208e0b334af0d05bc9386d3d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object first_inventory </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the first object in the inventory of <code>ob</code>, where <code>ob</code> is either an object or the file name of an object. </p>
<p>If <code>ob</code> is not given, the current object is assumed.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#aa33aa7a0208e0b334af0d05bc9386d3d">first_inventory</a>()</div>
<div class="line">object <a class="code" href="classefun.html#aa33aa7a0208e0b334af0d05bc9386d3d">first_inventory</a>(string ob)</div>
<div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#aa33aa7a0208e0b334af0d05bc9386d3d">first_inventory</a>(object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">This efun is mostly used in the following context:</p>
<div class="fragment"><div class="line"><span class="keywordflow">for</span>(<span class="keywordtype">object</span> ob = <a class="code" href="classefun.html#aa33aa7a0208e0b334af0d05bc9386d3d">first_inventory</a>(container); ob; ob = <a class="code" href="classefun.html#ac27f5d278c0e4c64697f3737a973e0e4">next_inventory</a>(ob)) {</div>
<div class="line">  &lt;some actions&gt;</div>
<div class="line">}</div>
</div><!-- fragment --><p> If you use such calls frequently then it would be very useful to use a preprocessor macro:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define FORALL(x, y) for(x=first_inventory(y);x;x=next_inventory(x))</span></div>
</div><!-- fragment --><p> So the above example could be written like this:</p>
<div class="fragment"><div class="line">FORALL(ob, container) {</div>
<div class="line">  &lt;some actions&gt;</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>warning: If the object ob is moved inside , then efun::next_inventory() will return an object from the new inventory of ob. You also shouldn't call efun::next_inventory() on destructed objects.In case of move and/or destruction the following is a better solution:~~~{.c}</dt><dd>for(object ob = first_inventory(container); ob;) { object next = next_inventory(ob); &lt;some actions and moves and/or removes&gt; ob = next; }</dd></dl>
<p>~~~</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ac27f5d278c0e4c64697f3737a973e0e4" title="Get next object in the same inventory as ob. ">efun::next_inventory()</a>, <a class="el" href="classefun.html#ab14beb1b749c799c34e81490763bc26f" title="Returns an array of the objects contained in the inventory of ob, or of this_object(), if no arg given. ">efun::all_inventory()</a>, <a class="el" href="classefun.html#a657cd0dbc848f16af8079c5d43386952" title="Returns the surrounding object of obj, which may be given by name. ">efun::environment()</a>, <a class="el" href="classefun.html#a28946d9af16fa288cf2f243de7f7aa12" title="Returns an array of the objects contained in the inventory of ob (or this_object() if no arg given) a...">efun::deep_inventory()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1493e7a68d0e7eb19f5f60d3c5761e9c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int floatp </td>
          <td>(</td>
          <td class="paramtype">mixed&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns 1 if the arg is a floating point number, 0 else. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a1493e7a68d0e7eb19f5f60d3c5761e9c">floatp</a>(mixed)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a62a23bfd4fb3823c9d808b3bff345980" title="The efun returns 1 if obj is a clone, and 0 if it is not. ">efun::clonep()</a>, <a class="el" href="classefun.html#af96696b3733777271624be5575c72726" title="Returns 1 if the argument is a closure. ">efun::closurep()</a>, <a class="el" href="classefun.html#a588bcd8d5f59e8c2c08c0d989c530863" title="Returns 1 if the argument is a mapping, or 0 if it is not. ">efun::mappingp()</a>, <a class="el" href="classefun.html#acc5e526acbd3a54f8f9625cc1fdc7f75" title="Return 1 if arg is an object. ">efun::objectp()</a>, <a class="el" href="classefun.html#aae25e47ee6526e8297fa3d9c822a22be" title="Return 1 if arg is an integer number. ">efun::intp()</a>, <a class="el" href="classefun.html#af28bd368a436849fb5195eb34ca53af3" title="returns true if arg was passed by reference to the current function, instead of the usual call-by-val...">efun::referencep()</a>, <a class="el" href="classefun.html#a3c94a0dd0f29e1f90f48d17e53fec879" title="Return 1 if arg is a pointer, i.e. ">efun::pointerp()</a>, <a class="el" href="classefun.html#ad45cc3605ecbe92c52b8c1c8408da017" title="Return 1 if arg is a string. ">efun::stringp()</a>, <a class="el" href="classefun.html#aa0bbde61230276ac5155fa61b54c63f2" title="Returns 1 if value is a symbol. ">efun::symbolp()</a>, <a class="el" href="classefun.html#a1f75bb586fd744aa865714d4bab27b34" title="Return 1 if arg is a struct. ">efun::structp()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a3a15332be362222ad502e21d511bd239"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float floor </td>
          <td>(</td>
          <td class="paramtype">float number&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Round the <code>number</code> downwards the nearest whole number, returning that value. </p>
<p>If the <code>number</code> value is an integer, the result will be that value, converted to float.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">float</span> <a class="code" href="classefun.html#a3a15332be362222ad502e21d511bd239">floor</a>(float number)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><a class="code" href="classefun.html#a3a15332be362222ad502e21d511bd239">floor</a>(4.5)  - returns  4.0</div>
<div class="line">floor(-4.5) - returns -5.0</div>
<div class="line">floor(5)    - returns  5.0</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.7)</div>
<div class="line">changed (3.2.9) -- adds integers as argument values.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ab3455bc278e2680045694e1aa4bd4a22" title="Returns the absolute value of number. ">efun::abs()</a>, <a class="el" href="classefun.html#af5c93b9b06a11a60e5920f4c099937e0" title="Round the number upwards the nearest whole number, returning that value. ">efun::ceil()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a665f686219e1bffdb5e89a5158167473"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed funcall </td>
          <td>(</td>
          <td class="paramtype">closure cl&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed&#160;</td>
          <td class="paramname"><em>arg ...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Evaluates the closure. </p>
<p>The extra args will be passed as args to the closure. If cl is not a closure, it will simply be returned.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed <a class="code" href="classefun.html#a665f686219e1bffdb5e89a5158167473">funcall</a>(closure cl, mixed arg ...)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line">mixed eval(<span class="keywordtype">object</span> ob, <span class="keywordtype">string</span> func, mixed *args)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="classefun.html#a665f686219e1bffdb5e89a5158167473">funcall</a>(#<span class="stringliteral">&#39;call_other, ob, func, args);</span></div>
<div class="line"><span class="stringliteral">}</span></div>
</div><!-- fragment --><p> This will result in calling:</p>
<div class="fragment"><div class="line">ob-&gt;func(args).</div>
</div><!-- fragment --><p> In combination with the '...' operator, the functionality of <a class="el" href="classefun.html#aaf018e933ee843dfe67f2916aeeb51a1" title="Evaluates the closure cl with the following arguments. ">efun::apply()</a> can be implemented:</p>
<div class="fragment"><div class="line">mixed eval(<span class="keywordtype">object</span> ob, <span class="keywordtype">string</span> func, mixed *args)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="classefun.html#a665f686219e1bffdb5e89a5158167473">funcall</a>(#<span class="stringliteral">&#39;call_other, ob, func, args...);</span></div>
<div class="line"><span class="stringliteral">}</span></div>
</div><!-- fragment --><p> will result in calling:</p>
<div class="fragment"><div class="line">ob-&gt;func(args[0],args[1],...,args[<span class="keyword">sizeof</span>(args)-1])</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2@70)</div>
<div class="line">changed (3.2.1) -- returns a non-closure unchanged even when args are given.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#aaf018e933ee843dfe67f2916aeeb51a1" title="Evaluates the closure cl with the following arguments. ">efun::apply()</a>, <a class="el" href="classefun.html#a78e86c560d9bfc454fc228b3988db651" title="Converts arrays to quoted arrays and strings to symbols. ">efun::quote()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a5d01aa2cfe41a64bb709d8ef3db87b58"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed function_exists </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int flags&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Look up a function <code>str</code> in the current object, respectively in the object <code>ob</code>. </p>
<p>Depending on the value of <code>flags</code>, one of the following informations is returned:</p>
<p><code>flags</code> == <code>FEXISTS_PROGNAME</code> (0, default): Return the name of the program the function is defined in. This can be either <code>object_name(ob)</code>, or the name of an inherited program. If !compat mode, the returned name always begins with a '/'.</p>
<p><code>flags</code> == <code>FEXISTS_FILENAME</code> (1): Return the name of the file the function is defined in (this may be an include file). If !compat mode, the returned name always begins with a '/'.</p>
<p><code>flags</code> == <code>FEXISTS_LINENO</code> (2): Return the line number within the source file.</p>
<p><code>flags</code> == <code>FEXISTS_ALL</code> (3): Return an array with all the above information, plus information about the function type/flags/number of arguments.</p>
<p>The returned array contains this information: string [<code>FEXISTS_PROGNAME</code>]: the program name string [<code>FEXISTS_FILENAME</code>]: the filename int [<code>FEXISTS_LINENO</code>]: the linenumber int [<code>FEXISTS_NUMARG</code>]: the number of arguments to the function int [<code>FEXISTS_TYPE</code>]: the return type of the function int [<code>FEXISTS_FLAGS</code>]: the function flags</p>
<p>The <code>flags</code> value can be or-ed to <code>NAME_HIDDEN</code> to return information about static and protected functions in other objects. It is not possible to return information about private functions.</p>
<p>If the function cannot be found (because it doesn't exist or it is not visible to the caller), the result is 0.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed <a class="code" href="classefun.html#a5d01aa2cfe41a64bb709d8ef3db87b58">function_exists</a>(string str)</div>
<div class="line">mixed <a class="code" href="classefun.html#a5d01aa2cfe41a64bb709d8ef3db87b58">function_exists</a>(string str, int flags)</div>
<div class="line">mixed <a class="code" href="classefun.html#a5d01aa2cfe41a64bb709d8ef3db87b58">function_exists</a>(string str, object ob)</div>
<div class="line">mixed <a class="code" href="classefun.html#a5d01aa2cfe41a64bb709d8ef3db87b58">function_exists</a>(string str, object ob, int flags)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><a class="code" href="classefun.html#a5d01aa2cfe41a64bb709d8ef3db87b58">function_exists</a>(<span class="stringliteral">&quot;create&quot;</span>)</div>
<div class="line"><a class="code" href="classefun.html#a5d01aa2cfe41a64bb709d8ef3db87b58">function_exists</a>(&quot;create&quot;, that_object, NAME_HIDDEN|FEXISTS_ALL);</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.10) -- broadened the range of returned values and introduced the flags argument.</div>
<div class="line">changed (3.2.12/3.3.713) -- added the <span class="keyword">function</span> type/flags/number of arguments to the result of FEXISTS_ALL.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a>, <a class="el" href="classefun.html#a00b4bc507accbe808ae0c1ae25b7aed6" title="Similar to efun::call_other(). ">efun::call_resolved()</a>, <a class="el" href="classefun.html#ae6f59c9fb98b3b61c5cc313efa4f831d" title="Returns an array with information about functions defined in ob. ">efun::functionlist()</a>, <a class="el" href="classefun.html#a2801e7dd302b68995897babaee958d39" title="Look up a variable str in the current object, respectively in the object ob. ">efun::variable_exists()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae6f59c9fb98b3b61c5cc313efa4f831d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed* functionlist </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int flags&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an array with information about functions defined in <code>ob</code>. </p>
<p>For every function, 1 to 4 values (depending on <code>flags</code>) are stored in the result array conveying in this order:</p>
<ul>
<li>the name of the function</li>
<li>the function flags (see below)</li>
<li>the return type (listed in <code>&lt;lpctypes.h&gt;</code>)</li>
<li>the number of accepted argumens</li>
</ul>
<p><code>ob</code> may be given as true object or as a filename. In the latter case, the efun does not try to load the object before proceeding.</p>
<p><code>flags</code> determines both which information is returned for every function, and which functions should be considered at all. Its value is created by bin-or'ing together following flags from &lt;functionlist.h&gt;:</p>
<p>The 'flags' information consists of the bin-or of the list control flags given above, plus the following:</p>
<p>TYPE_MOD_VARARGS function takes varargs NAME_UNDEFINED function not defined yet, but referenced. NAME_CROSS_DEFINED function is defined to be in a different program TYPE_MOD_NO_MASK function is nomask TYPE_MOD_PUBLIC function is public</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed * <a class="code" href="classefun.html#ae6f59c9fb98b3b61c5cc313efa4f831d">functionlist</a>(object ob, int flags)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ac1f2f96fbcb047b4d200a9d68f05aa8d" title="Returns the names of all files inherited by ob, including ob own filename. ">efun::inherit_list()</a>, <a class="el" href="classefun.html#a5d01aa2cfe41a64bb709d8ef3db87b58" title="Look up a function str in the current object, respectively in the object ob. ">efun::function_exists()</a>, <a class="el" href="classefun.html#a5b94e483c0d2c57a5860cfd36280c100" title="Return an array with information about ob variables. ">efun::variable_list()</a>, <a class="el" href="classefun.html#a00b4bc507accbe808ae0c1ae25b7aed6" title="Similar to efun::call_other(). ">efun::call_resolved()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a67ed52ff313f35d713201c8427a64d05"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void garbage_collection </td>
          <td>(</td>
          <td class="paramtype">string filename&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int flag&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tell the parser to initiate a garbage collection after the current execution ended. </p>
<p>Depending on the type of memory allocator used, this GC is more less thorough.</p>
<p>If the 'smalloc' memory allocator is used, the GC produces output to a log file. The default name of the log file is specified at program start, but can be modified at runtime:</p>
<ul>
<li>With the <code>filename</code> argument a log file for the GC output different from the default log file can be specified.</li>
<li>If <code>flag</code> is not given or 0, the output from the next and only the next GC will go into the log file. If the file already exists, the new output will be appended.</li>
<li>If <code>flag</code> is 1, the <code>filename</code> will be used as the new default log file for all following GCs. If the file already exists, it will be overwritten from the start.</li>
</ul>
<p>If a different memory allocator is used, the GC does not produce output and the <code>filename</code> and <code>flag</code> arguments are ignored.</p>
<p>Calling this efun causes a privilege_violation.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a67ed52ff313f35d713201c8427a64d05">garbage_collection</a>()</div>
<div class="line">void <a class="code" href="classefun.html#a67ed52ff313f35d713201c8427a64d05">garbage_collection</a>(string filename)</div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a67ed52ff313f35d713201c8427a64d05">garbage_collection</a>(string filename, int flag)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">The following examples demonstrate how the flag affects logging behavior:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a67ed52ff313f35d713201c8427a64d05">garbage_collection</a>()</div>
<div class="line"><span class="comment">// GC occurs -&gt; logs into default file</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="classefun.html#a67ed52ff313f35d713201c8427a64d05">garbage_collection</a>(&quot;/GCLOG&quot;)</div>
<div class="line"><span class="comment">// GC occurs -&gt; logs into &quot;/GCLOG&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="classefun.html#a67ed52ff313f35d713201c8427a64d05">garbage_collection</a>(&quot;/GCLOG&quot;, 1)</div>
<div class="line"><span class="comment">// GC occurs -&gt; logs into &quot;/GCLOG&quot;, sets default log to &quot;/GCLOG&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="classefun.html#a67ed52ff313f35d713201c8427a64d05">garbage_collection</a>(&quot;/GCLOG&quot;)</div>
<div class="line"><a class="code" href="classefun.html#a67ed52ff313f35d713201c8427a64d05">garbage_collection</a>(&quot;/GCLOG2&quot;)</div>
<div class="line"><span class="comment">// GC occurs -&gt; logs into &quot;/GCLOG&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="classefun.html#a67ed52ff313f35d713201c8427a64d05">garbage_collection</a>(&quot;/GCLOG&quot;, 1)</div>
<div class="line"><a class="code" href="classefun.html#a67ed52ff313f35d713201c8427a64d05">garbage_collection</a>(&quot;/GCLOG2&quot;)</div>
<div class="line"><span class="comment">// GC occurs -&gt; logs into &quot;/GCLOG2&quot;, sets default log to &quot;/GCLOG&quot;</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.9) -- adds the filename argument.</div>
<div class="line">changed (3.3.209) -- adds the flag argument.</div>
<div class="line">changed (3.5.0) -- made the <a class="code" href="classefun.html">efun</a> privileged.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a83a7cffa7753ffb83fec4e27ed711041" title="Return an array with current system resource usage statistics, as returned by the getrusage(2) of Uni...">efun::rusage()</a>, <a class="el" href="classmaster.html#a78319a01fda597126abe408a7e1000dd" title="This function is called to check if the object ob with the user-id uid has write permissions to the f...">master::valid_write()</a>, <a class="el" href="classmaster.html#afaf1545f7ccfbb3d897293150f5a45ca" title="Validate the execution of a privileged operation. ">master::privilege_violation()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a2f7dfc134c4c4ebdcf02dd7d87e86945"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed get_combine_charset </td>
          <td>(</td>
          <td class="paramtype">int mode&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the combine charset of the current interactive in the form requested by <code>mode:</code> </p>
<ul>
<li><code>mode</code> == <code>CHARSET_VECTOR</code>: return as bitvector</li>
<li><code>mode</code> == <code>CHARSET_STRING</code>: return as string</li>
</ul>
<p>The bitvector is interpreted as an array of 8-bit-values and might contain up to 32 elements. Character n is "combinable" if <code>sizeof(bitvector) &gt; n/8 &amp;&amp; bitvector[n/8] &amp; (1 &lt;&lt; n%8)</code>.</p>
<p>If there is no current interactive, the function returns 0.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed <a class="code" href="classefun.html#a2f7dfc134c4c4ebdcf02dd7d87e86945">get_combine_charset</a>(int mode)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.10)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#afd261176f0cf637f88ffed5450bed7e8" title="Return the connection charset of the current interactive in the form requested by mode: ...">efun::get_connection_charset()</a>, <a class="el" href="classefun.html#afd261176f0cf637f88ffed5450bed7e8" title="Return the connection charset of the current interactive in the form requested by mode: ...">efun::get_connection_charset()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="afd261176f0cf637f88ffed5450bed7e8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed get_connection_charset </td>
          <td>(</td>
          <td class="paramtype">int mode&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the connection charset of the current interactive in the form requested by <code>mode:</code> </p>
<ul>
<li><code>mode</code> == <code>CHARSET_VECTOR</code>: return as bitvector</li>
<li><code>mode</code> == <code>CHARSET_STRING</code>: return as string</li>
</ul>
<p>Alternatively, the status of the IAC quoting can be queried:</p>
<ul>
<li><code>mode</code> == <code>CHARSET_QUOTE_IAC</code>: Return 0 if IACs are not quoted, return 1 if they are.</li>
</ul>
<p>The bitvector is interpreted as an array of 8-bit-values and might contain up to 32 elements. Character n is "combinable" if <code>sizeof(bitvector) &gt; n/8 &amp;&amp; bitvector[n/8] &amp; (1 &lt;&lt; n%8)</code>.</p>
<p>If there is no current interactive, the function returns 0.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed <a class="code" href="classefun.html#afd261176f0cf637f88ffed5450bed7e8">get_connection_charset</a>(int mode)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.10)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a18fb8c8f81826d32e697b2912d969d75" title="Set the set of characters that can be output to the interactive user (this does not apply to efun::bi...">efun::set_connection_charset()</a>, <a class="el" href="classefun.html#a2f7dfc134c4c4ebdcf02dd7d87e86945" title="Return the combine charset of the current interactive in the form requested by mode: ...">efun::get_combine_charset()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a457ca99271d2dd61e3378e952e34291a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed* get_dir </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int mask&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function takes a path as argument and returns an array of file names and attributes in that directory. </p>
<p>Returns 0 if the directory to search in does not exist.</p>
<p>The filename part of the path may contain '*' or '?' as wildcards: every '*' matches an arbitrary amount of characters (or just itself), a '?' matches any character. Thus get_dir("/path/&lt;em&gt;") would return an alphabetically sorted array of all files in directory "/path", or just ({ "/path/&lt;/em&gt;" }) if this file happens to exist.</p>
<p>To query the content of a directory, use the directory name with a trailing '/' or '/.', for example <code>get_dir("/path/.")</code>. Use the directory name as it is to get information about the directory itself.</p>
<p>The optional second argument mask can be used to get information about the specified files.:</p>
<div class="fragment"><div class="line">:macro:`GETDIR_EMPTY`    (0x00)  <a class="code" href="classefun.html#a457ca99271d2dd61e3378e952e34291a">get_dir</a> returns an empty array (not very useful).</div>
<div class="line">:macro:`GETDIR_NAMES`    (0x01)  put the alphabetically sorted file names into the returned array.</div>
<div class="line">:macro:`GETDIR_SIZES`    (0x02)  put the file sizes unsorted into the returned array. directories have size :macro:`FSIZE_DIR` (-2).</div>
<div class="line">:macro:`GETDIR_DATES`    (0x04)  put the file modification dates (in seconds since 01/01/1970) unsorted into the returned array.</div>
<div class="line">:macro:`GETDIR_ACCESS`   (0x40)  put the file access dates unsorted into the returned array.</div>
<div class="line">:macro:`GETDIR_MODES`    (0x80)  put the unix file modes unsorted into the returned array.</div>
<div class="line"></div>
<div class="line">:macro:`GETDIR_ALL`      (0xDF)  Return all.</div>
<div class="line"></div>
<div class="line">:macro:`GETDIR_PATH`     (0x10)  if this mask bit is set, the filenames with the full path will be returned (GETDIR_NAMES is implied).</div>
<div class="line">:macro:`GETDIR_UNSORTED` (0x20)  if this mask bit is set, the result of will _not_ be sorted.</div>
</div><!-- fragment --> <dl class="section user"><dt>note: You should use GETDIR_NAMES|GETDIR_UNSORTED to get the entries in the same order as with GETDIR_SIZES and GETDIR_DATES.</dt><dd></dd></dl>
<p>The values of mask can be added together.</p>
<dl class="section user"><dt>note: The path argument to this efun is processed by master::valid_read() in the mudlib master before being used. The mudlib may normalize this path (e.g. strip leading or trailing "/") and this may lead to unexpected results (e.g. get_dir("/dir/", ...) not returning the contents of "/dir/").</dt><dd></dd></dl>
<dl class="section user"><dt>note: in  driver_topics_predefined "__COMPAT_MODE__", GETDIR_PATH will return the paths without the leading /.</dt><dd></dd></dl>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed * <a class="code" href="classefun.html#a457ca99271d2dd61e3378e952e34291a">get_dir</a>(string str)</div>
<div class="line">mixed * <a class="code" href="classefun.html#a457ca99271d2dd61e3378e952e34291a">get_dir</a>(string str, int mask)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line">  <span class="keyword">function</span>                         returns</div>
<div class="line">  -------------------------------------------------------------------</div>
<div class="line">  <a class="code" href="classefun.html#a457ca99271d2dd61e3378e952e34291a">get_dir</a>(<span class="stringliteral">&quot;/obj/.&quot;</span>)                all files contained in directory /obj.</div>
<div class="line">  <a class="code" href="classefun.html#a457ca99271d2dd61e3378e952e34291a">get_dir</a>(&quot;/obj/&quot;)                 the same as <a class="code" href="classefun.html#a457ca99271d2dd61e3378e952e34291a">get_dir</a>(&quot;/obj/&quot;)</div>
<div class="line"></div>
<div class="line">  <a class="code" href="classefun.html#a457ca99271d2dd61e3378e952e34291a">get_dir</a>(&quot;/obj/sword.c&quot;)          ({ <span class="stringliteral">&quot;sword.c&quot;</span> }) <span class="keywordflow">if</span> /obj/sword.c</div>
<div class="line">                                   exists (it may be a file or a</div>
<div class="line">                                   directory), otherwise ({ }) <span class="keywordflow">if</span></div>
<div class="line">                                   /obj is a directory,</div>
<div class="line">                                   otherwise 0.</div>
<div class="line"></div>
<div class="line">  <a class="code" href="classefun.html#a457ca99271d2dd61e3378e952e34291a">get_dir</a>(<span class="stringliteral">&quot;/obj/*&quot;</span>)                ({ <span class="stringliteral">&quot;*&quot;</span> }) <span class="keywordflow">if</span> * exists.</div>
<div class="line">*                                  otherwise and normally an</div>
<div class="line">*                                  alphabetically sorted array with all</div>
<div class="line">*                                  names of files and directories in</div>
<div class="line">*                                  /obj <span class="keywordflow">if</span> /obj is a directory,</div>
<div class="line">*                                  otherwise 0.</div>
<div class="line"></div>
<div class="line">* <a class="code" href="classefun.html#a457ca99271d2dd61e3378e952e34291a">get_dir</a>(<span class="stringliteral">&quot;/obj/sword.c&quot;</span>, GETDIR_SIZES)  ({ &lt;size of /obj/sword.c&gt; })</div>
<div class="line">*                                  <span class="keywordflow">if</span> that file exists.</div>
<div class="line">* <a class="code" href="classefun.html#a457ca99271d2dd61e3378e952e34291a">get_dir</a>(<span class="stringliteral">&quot;/obj/.&quot;</span>, GETDIR_NAMES)  the same as <a class="code" href="classefun.html#a457ca99271d2dd61e3378e952e34291a">get_dir</a>(<span class="stringliteral">&quot;/obj/.&quot;</span>).</div>
<div class="line">* <a class="code" href="classefun.html#a457ca99271d2dd61e3378e952e34291a">get_dir</a>(<span class="stringliteral">&quot;/obj/.&quot;</span>, GETDIR_SIZES)  an array with the sizes of the files</div>
<div class="line">*                                  in /obj, not sorted by names.</div>
<div class="line">* <a class="code" href="classefun.html#a457ca99271d2dd61e3378e952e34291a">get_dir</a>(&quot;/obj/.&quot;, GETDIR_NAMES|GETDIR_SIZES|GETDIR_DATES) or shorter</div>
<div class="line">* <a class="code" href="classefun.html#a457ca99271d2dd61e3378e952e34291a">get_dir</a>(&quot;/obj/.&quot;, GETDIR_ALL)    an one-dimensional array that</div>
<div class="line">*                                  contains for each file in /obj its</div>
<div class="line">*                                  name, its size and its modification</div>
<div class="line">*                                  date, sorted by names, for example</div>
<div class="line">*                                    ({</div>
<div class="line">*                                       <span class="stringliteral">&quot;axe.c&quot;</span>  ,  927, 994539583,</div>
<div class="line">*                                       <span class="stringliteral">&quot;sword.c&quot;</span>, 1283, 998153903,</div>
<div class="line">*                                    }).</div>
<div class="line"></div>
<div class="line">* <a class="code" href="classefun.html#a457ca99271d2dd61e3378e952e34291a">get_dir</a>(<span class="stringliteral">&quot;/obj/sword.c&quot;</span>, GETDIR_NAMES|GETDIR_PATH)</div>
<div class="line">*                                  ({ <span class="stringliteral">&quot;/obj/sword.c&quot;</span> }) <span class="keywordflow">if</span> applicable.</div>
<div class="line">* <a class="code" href="classefun.html#a457ca99271d2dd61e3378e952e34291a">get_dir</a>(<span class="stringliteral">&quot;/obj/sword.c&quot;</span>, GETDIR_PATH)  Short form of the same query.</div>
<div class="line"></div>
<div class="line">*</div>
</div><!-- fragment --><p> This returns an array of arrays, with filename, size and filetime as elements, not sorted by names:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#ab4a9f331461f994362f7b3cda352dbea">transpose_array</a>(({ <a class="code" href="classefun.html#a457ca99271d2dd61e3378e952e34291a">get_dir</a>(str, GETDIR_NAMES|GETDIR_UNSORTED)</div>
<div class="line">                 , <a class="code" href="classefun.html#a457ca99271d2dd61e3378e952e34291a">get_dir</a>(str, GETDIR_SIZES)</div>
<div class="line">                 , <a class="code" href="classefun.html#a457ca99271d2dd61e3378e952e34291a">get_dir</a>(str, GETDIR_DATES) }));</div>
</div><!-- fragment --><p> Here's an example of this array:</p>
<div class="fragment"><div class="line">({</div>
<div class="line">   ({ <span class="stringliteral">&quot;sword.c&quot;</span>, 1283, 998153903 }),</div>
<div class="line">   ({ <span class="stringliteral">&quot;axe.c&quot;</span>  ,  927, 994539583 }),</div>
<div class="line">}).</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.9) -- adds GETDIR_PATH.</div>
<div class="line">changed (3.2.11/3.3.648) -- adds GETDIR_ACCESS and GETDIR_MODES.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a04954648bada0ed418aae3b3d42e552c" title="Make a directory named path. ">efun::mkdir()</a>, <a class="el" href="classefun.html#a2fb85ac66a311b390a291be362fe3f50" title="Remove directory dir. ">efun::rmdir()</a>, <a class="el" href="classefun.html#a0c87cd9fec8ea173263102f5340e8eeb" title="Return: ">efun::file_size()</a>, <a class="el" href="classefun.html#a383474b75b88587a17308ed30dfea60d" title="Append the string str to the file file. ">efun::write_file()</a>, <a class="el" href="classefun.html#aace43816f21156a6d6f2487d1a4d43c8" title="Write string str to file file by overwriting the old bytes at position start. ">efun::write_bytes()</a>, <a class="el" href="classefun.html#a691ba221d2589d03d70a2b024644d250" title="Reads lines from file. ">efun::read_file()</a>, <a class="el" href="classefun.html#a45d3491b9a1f26d6816b7409ca785150" title="Reads a given amount of bytes from file. ">efun::read_bytes()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1a4bda269528a61482e43104716b43e2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed* get_error_file </td>
          <td>(</td>
          <td class="paramtype">string name&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int set_forget_flag&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return information about the last error which occured for <code>name</code> (where <code>name</code> is a valid name from the wiz list). </p>
<p>Result is an array of four elements: the filename of the program where the error occured, the linenumber in the program, the error message (runtime error messages usually start with a '*'), and a numerical flag (the 'forget flag') if the error information has been queried already.</p>
<p>If there is no error stored for the given <code>name</code>, 0 is returned.</p>
<p>If <code>set_forget_flag</code> is non-zero, the 'forget' flag is set for the error message after it has been returned.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed * <a class="code" href="classefun.html#a1a4bda269528a61482e43104716b43e2">get_error_file</a>(string name, int set_forget_flag)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a9ee9e4fa5066437c75195638c362ee6d" title="Calling without arguments will start the editor ed with the name of the error file, that was returned by master-&gt;valid_read(0, geteuid(this_player()), &quot;ed_start&quot;, this_player()), usually something like ~/.err. ">efun::ed()</a>, <a class="el" href="classmaster.html#a43ecfe8cbfb8fa9dffacb9111a6d180a" title="This function is called to check if the object ob with the user-id uid has read permissions for the f...">master::valid_read()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a91b15fc4ef6d406fc7caf7e26d67223d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int get_eval_cost </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the remaining evaluation cost the current execution (the current command) may use up. </p>
<p>It starts at a driver given high value and is reduced with each executed statement.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a91b15fc4ef6d406fc7caf7e26d67223d">get_eval_cost</a>()</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.6) -- the initial value was made available as macro.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a83a7cffa7753ffb83fec4e27ed711041" title="Return an array with current system resource usage statistics, as returned by the getrusage(2) of Uni...">efun::rusage()</a>, <a class="el" href="classefun.html#ae0ce5d3f989d2054ce6b26d5fb22ab6d" title="Execute str as a command given directly by the user. ">efun::command()</a>, <a class="el" href="classefun.html#a810ac293b0967a7d3129f745c9b2d9e6" title="Return an array with the current runtime limits, resp. ">efun::query_limits()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a8d02f1b3e1eba1feaf5edb4d894c29e6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed get_extra_wizinfo </td>
          <td>(</td>
          <td class="paramtype">int wiz&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the 'extra' information that was set for the given wizard <code>wiz</code> in the wizlist. </p>
<p>The function causes a privilege violation.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed <a class="code" href="classefun.html#a8d02f1b3e1eba1feaf5edb4d894c29e6">get_extra_wizinfo</a>(object wiz)</div>
<div class="line">mixed <a class="code" href="classefun.html#a8d02f1b3e1eba1feaf5edb4d894c29e6">get_extra_wizinfo</a>(string wiz)</div>
<div class="line">mixed <a class="code" href="classefun.html#a8d02f1b3e1eba1feaf5edb4d894c29e6">get_extra_wizinfo</a>(int wiz)</div>
</div><!-- fragment --></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wiz</td><td>the entry of its creator (uid) is used </td></tr>
    <tr><td class="paramname">wiz</td><td>a creator (aka uid) that names the entry to use </td></tr>
    <tr><td class="paramname">wiz</td><td>Uses the given wizlist entry (or the default entry, if the number is 0)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a68a193afd07ce9f74d4722f8ae4e1efd" title="Returns an array with the interesting entries of the wizlist. ">efun::wizlist_info()</a>, <a class="el" href="classefun.html#a6621468655305aa773e3fc8dca0e1110" title="Set the value extra as the &#39;extra&#39; information for the wizlist entry of wiz. ">efun::set_extra_wizinfo()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="abacc5106be40e401a1f39db35581434b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int get_max_commands </td>
          <td>(</td>
          <td class="paramtype">object obj&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the max number of commands the interactive <code>obj</code> is allowed to execute per second. </p>
<p>A negative result means 'unlimited'.</p>
<p>If <code>obj</code> is not given, the current interactive is queried. For non-interactive objects the result is 0.</p>
<p>A 'command' in this context means every received data packet which causes a LPC call - actions and calls to <a class="el" href="classefun.html#af611da839c18f550d1639881f3f3cade" title="Enable next line of user input to be sent to the function fun as an argument. ">efun::input_to()</a> alike.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#abacc5106be40e401a1f39db35581434b">get_max_commands</a>()</div>
<div class="line">int <a class="code" href="classefun.html#abacc5106be40e401a1f39db35581434b">get_max_commands</a>(object obj)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.10)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a53d32f9a0ba6e86c3ba46dd681005ee4" title="Set the max number of commands the interactive obj is allowed to execute per second to num...">efun::set_max_commands()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ac251ce3e185e6ef6e265806ba711e871"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed get_type_info </td>
          <td>(</td>
          <td class="paramtype">mixed value&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int flag&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns info about the type of <code>value</code>, as controlled by the flag. </p>
<p>If the optional argument <code>flag</code> is not given, an array is returned whose first element is an integer denoting the data type, as defined in &lt;lpctypes.h&gt;. The second entry can contain additional information about <code>value</code>.</p>
<p>If <code>flag</code> flag is the number 0, only the first element of that array (i.e. the data type) is returned (as int). If <code>flag</code> is 1, the second element is returned.</p>
<p>If <code>value</code> is a closure, the <code>flag</code> setting 2 lets the efun return the object of the closure (which for 'lfun closures' is the object the lfun is defined in, which is not necessarily the object the closure is bound to).</p>
<p>If <code>value</code> is a struct, the <code>flag</code> setting 2 lets the efun return the base name of the struct.</p>
<p>If <code>value</code> is a lfun or context closure, the <code>flag</code> setting 3 lets the efun return the name of the program the closure was defined in. For other closures, <code>flag</code> setting 3 returns 0.</p>
<p>If <code>value</code> is a lfun or context closure, the <code>flag</code> setting 4 lets the efun return the name of the function. For other closures, <code>flag</code> setting 4 returns 0.</p>
<p>For every other <code>flag</code> setting, -1 is returned.</p>
<p>The secondary information is:</p>
<ul>
<li>for mappings the width, ie the number of data items per key.</li>
<li>for symbols and quoted arrays the number of quotes.</li>
<li>for closures, the (internal) closure type, as defined in &lt;lpctypes.h&gt;.</li>
<li>for strings 0 for shared strings, and non-0 for others.</li>
<li>for structs the unique identifier string</li>
<li>-1 for all other datatypes.</li>
</ul>
<dl class="section user"><dt>misleading: This function seems to be due to frequent changes as the driver develops resp. is debugged.</dt><dd></dd></dl>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed <a class="code" href="classefun.html#ac251ce3e185e6ef6e265806ba711e871">get_type_info</a>(mixed value)</div>
<div class="line">mixed <a class="code" href="classefun.html#ac251ce3e185e6ef6e265806ba711e871">get_type_info</a>(mixed value, int flag)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">      introduced (3.2@127) -- in the 3.2 branch, flag could be of any type</div>
<div class="line">      changed (3.2.1@84) -- added flag setting 2.</div>
<div class="line">      changed (3.2.7) -- added secondary <span class="keywordtype">string</span> information.</div>
<div class="line"></div>
<div class="line">get_type_info(closure,2) now returns the <span class="keywordtype">object</span> from a <a class="code" href="classefun.html#a4ef2926c525dcf7e7d339d3f424b18a9">lambda</a> closure or bound-<a class="code" href="classefun.html#a4ef2926c525dcf7e7d339d3f424b18a9">lambda</a> closure.</div>
<div class="line">      added secondary <span class="keywordtype">string</span> information.</div>
<div class="line">      get_type_info(closure,2) now returns the <span class="keywordtype">object</span> from a <a class="code" href="classefun.html#a4ef2926c525dcf7e7d339d3f424b18a9">lambda</a> closure or bound-<a class="code" href="classefun.html#a4ef2926c525dcf7e7d339d3f424b18a9">lambda</a> closure.</div>
<div class="line">      changed (3.3.276) -- added the secondary information <span class="keywordflow">for</span> structs.</div>
<div class="line">      changed (3.3.548) -- added flag setting <span class="charliteral">&#39;3&#39;</span> <span class="keywordflow">for</span> lfun/context closures.</div>
<div class="line">      changed (3.3.708) -- added flag setting <span class="charliteral">&#39;4&#39;</span> <span class="keywordflow">for</span> lfun/context closures.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a7a7cc530c7ebabb824ee97c5b0a4f18b" title="OBSOLETED_IN_MASTER_IGNORE_FOR_NOW Gather some driver internal debug information according to the set...">efun::debug_info()</a>, <a class="el" href="classefun.html#a2c59429dab21cfd036e4a73cdb0d6eed" title="Returns a code for the type of the argument, as defined in &lt;lpctypes.h&gt;. ">efun::typeof()</a>, efun::to_object() </dd></dl>

</div>
</div>
<a class="anchor" id="a8d2464ee0d105312cb194da96f14179d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string geteuid </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the effective user-id of the object (mostly a wizard or domain name). </p>
<p>Standard objects cloned by this object will get that userid. The effective userid is also used for checking access permissions. If <code>ob</code> is omitted, is <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code> as default.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a8d2464ee0d105312cb194da96f14179d">geteuid</a>(object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.1@47) -- <span class="keyword">this</span> <a class="code" href="classefun.html">efun</a> is availabe only when <span class="keyword">using</span> euids.</div>
<div class="line">changed (3.2.7) -- <span class="keyword">this</span> <a class="code" href="classefun.html">efun</a> is always available.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a681286799e121e42a3158f8ca5c2f2f4" title="Set effective uid to str. ">efun::seteuid()</a>, <a class="el" href="classefun.html#a1cee8cfd71595afe5cb29db76705b601" title="User-ids are not used in compat mode. ">efun::getuid()</a>, <a class="el" href="classefun.html#ade44122dc7cb16d015937a67cc645939" title="Set the uid of object ob to the current object&#39;s effective uid. ">efun::export_uid()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1cee8cfd71595afe5cb29db76705b601"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string getuid </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>User-ids are not used in compat mode. </p>
<p>Get user-id of the object, i.e. the name of the wizard or domain that is responsible for the object. This name is also the name used in the wizlist. If no <code>ob</code> is given, use <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code> as default.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a1cee8cfd71595afe5cb29db76705b601">getuid</a>(object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.1@47) -- <a class="code" href="classefun.html#a55343a0ba8533a02cda89031a6fa91b7">creator</a> is an alias <span class="keywordflow">for</span> <span class="keyword">this</span> <a class="code" href="classefun.html">efun</a></div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a681286799e121e42a3158f8ca5c2f2f4" title="Set effective uid to str. ">efun::seteuid()</a>, <a class="el" href="classefun.html#a8d2464ee0d105312cb194da96f14179d" title="Get the effective user-id of the object (mostly a wizard or domain name). ">efun::geteuid()</a>, <a class="el" href="classefun.html#ade44122dc7cb16d015937a67cc645939" title="Set the uid of object ob to the current object&#39;s effective uid. ">efun::export_uid()</a>, <a class="el" href="classefun.html#a55343a0ba8533a02cda89031a6fa91b7" title="This efun is for backward compatibility only. ">efun::creator()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af44be4217f00942db63875e6988a0f56"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int* gmtime </td>
          <td>(</td>
          <td class="paramtype">int  *&#160;</td>
          <td class="paramname"><em>uclock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Interpret the argument clock as number of seconds since <code>Jan, 1st, 1970, 0:00</code>, and return the time in UTC in a nice structure. </p>
<p>if <code>clock</code> is not specified, <code><a class="el" href="classefun.html#aa560fa38ca94599aa767ccb916e9bce7" title="Return number of seconds elapsed since `1. ">time()</a></code> is used as default.</p>
<p>Alternatively, accept an array of two ints: the first is <code>clock</code> value as in the first form, the second int is the number of microseconds elapsed in the current second, which is ignored.</p>
<p>The result is an array of integers:</p>
<table class="doxtable">
<tr>
<th>place </th><th>contains  </th></tr>
<tr>
<td>int <code>TM_SEC</code> (0) </td><td>Seconds (0..59) </td></tr>
<tr>
<td>int <code>TM_MIN</code> (1) </td><td>Minutes (0..59) </td></tr>
<tr>
<td>int <code>TM_HOUR</code> (2) </td><td>Hours (0..23) </td></tr>
<tr>
<td>int <code>TM_MDAY</code> (3) </td><td>Day of the month (1..31) </td></tr>
<tr>
<td>int <code>TM_MON</code> (4) </td><td>Month of the year (0..11) </td></tr>
<tr>
<td>int <code>TM_YEAR</code> (5) </td><td>Year (e.g. 2001) </td></tr>
<tr>
<td>int <code>TM_WDAY</code> (6) </td><td>Day of the week (Sunday = 0) </td></tr>
<tr>
<td>int <code>TM_YDAY</code> (7) </td><td>Day of the year (0..365) </td></tr>
<tr>
<td>int <code>TM_ISDST</code> (8) </td><td>TRUE during daylight saving time </td></tr>
</table>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> * <a class="code" href="classefun.html#af44be4217f00942db63875e6988a0f56">gmtime</a>(int clock)</div>
<div class="line">int * <a class="code" href="classefun.html#af44be4217f00942db63875e6988a0f56">gmtime</a>(int *uclock)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">The following trivial example prints the current day:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a2f50b85e38b1f7510cddbe6dc5435942">printf</a>(<span class="stringliteral">&quot;Today is %s\n&quot;</span>,</div>
<div class="line">     ({ <span class="stringliteral">&quot;Sunday&quot;</span>, <span class="stringliteral">&quot;Monday&quot;</span>, <span class="stringliteral">&quot;Tuesday&quot;</span>, <span class="stringliteral">&quot;Wednesday&quot;</span>, <span class="stringliteral">&quot;Thursday&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;Friday&quot;</span>, <span class="stringliteral">&quot;Saturday&quot;</span> })[<a class="code" href="classefun.html#af44be4217f00942db63875e6988a0f56">gmtime</a>()[TM_WDAY]]);</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.9)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a0063aa195f706f56b790a045c06afcb1" title="Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0.00 and convert it to a nice...">efun::ctime()</a>, <a class="el" href="classefun.html#acd45e9336d29a4f03307ff89318e26ee" title="Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0:00, and return the time in ...">efun::localtime()</a>, <a class="el" href="classefun.html#aa560fa38ca94599aa767ccb916e9bce7" title="Return number of seconds elapsed since `1. ">efun::time()</a>, <a class="el" href="classefun.html#a3b84da42b3b5f804d14762ddfcc3da91" title="Return the time since `1. ">efun::utime()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a2ae8a96180aad2e6b720a153546b2c25"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string hash </td>
          <td>(</td>
          <td class="paramtype">int method&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>arg </em>[, int iterations ]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate the hash from <code>arg</code> as determined by <code>method</code>. </p>
<p>The hash is calculated with <code>iterations</code> iterations, default is 1 iteration.</p>
<p><code>method</code> is one of the constants defined in tls.h; not all recognized methods may be supported for a given driver:</p>
<ul>
<li><code>TLS_HASH_SHA1</code> (1)</li>
<li><code>TLS_HASH_SHA224</code> (2)</li>
<li><code>TLS_HASH_SHA256</code> (3)</li>
<li><code>TLS_HASH_SHA384</code> (4)</li>
<li><code>TLS_HASH_SHA512</code> (5)</li>
<li><code>TLS_HASH_MD5</code> (6)</li>
<li><code>TLS_HASH_RIPEMD160</code> (7)</li>
</ul>
<p>If the driver is compiled without OpenSSL or GCrypt support only <code>TLS_HASH_SHA1</code> and <code>TLS_HASH_MD5</code> are available.</p>
<p>The efun costs 10 ticks per iteration.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a2ae8a96180aad2e6b720a153546b2c25">hash</a>(int method, <span class="keywordtype">string</span> arg [, <span class="keywordtype">int</span> iterations ])</div>
<div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a2ae8a96180aad2e6b720a153546b2c25">hash</a>(int method, <span class="keywordtype">int</span> *  arg [, <span class="keywordtype">int</span> iterations ])</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">The example below shows how to compute the <em>SHA1</em> hash of a string and an array of characters:</p>
<div class="fragment"><div class="line"><span class="keywordtype">string</span> s;</div>
<div class="line"></div>
<div class="line">s = <a class="code" href="classefun.html#a2ae8a96180aad2e6b720a153546b2c25">hash</a>(TLS_HASH_SHA1, <span class="stringliteral">&quot;Hello&quot;</span>, 2);</div>
<div class="line">s = <a class="code" href="classefun.html#a2ae8a96180aad2e6b720a153546b2c25">hash</a>(TLS_HASH_SHA1, ({ <span class="charliteral">&#39;H&#39;</span>, <span class="charliteral">&#39;e&#39;</span>, <span class="charliteral">&#39;l&#39;</span>, <span class="charliteral">&#39;l&#39;</span>, <span class="charliteral">&#39;o&#39;</span> }) );</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.714)</div>
<div class="line">changed (3.3.719) -- added the iteration-based evaluation cost</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a293b5dd324033d04f2b6da0f6ba4654b" title="Crypt the string str the first two characters from the string seed as a seed. ">efun::crypt()</a>, <a class="el" href="classefun.html#a4f75178a00fc81b8384aa3a757d0902f" title="Create and return a MD5 message digest from arg. ">efun::md5()</a>, <a class="el" href="classefun.html#a31c2c39301c169902bdd78369dab70ae" title="Crypt the string str the first two characters from the string seed as a seed. ">efun::md5_crypt()</a>, <a class="el" href="classefun.html#ac53ffe809c88eeb6af75fedb41d9bfc3" title="Create and return a SHA1 message digest from arg. ">efun::sha1()</a>, <a class="el" href="classefun.html#a2fcc22b543fc2a8229c4739af28fbcae" title="Calculate the Hashed Message Authenication Code for value based on the digest method and the password...">efun::hmac()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a7561f541e0ab0c03ee82b700e06db31e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object* heart_beat_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function returns an array of all objects having their heart beat turned on. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> * <a class="code" href="classefun.html#a7561f541e0ab0c03ee82b700e06db31e">heart_beat_info</a>()</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a5d6c713394a406430daac52a0067b6d8" title="Enable or disable heart beat. ">efun::set_heart_beat()</a>, <a class="el" href="classapplied.html#ac6da9e44029c67ea80ffa494d9328384" title="This function will be called automatically every __HEART_BEAT_INTERVAL__ seconds. ...">applied::heart_beat()</a>, <a class="el" href="classefun.html#ab38f224f65efce3dad779451c371e87b" title="Get information about all pending call outs. ">efun::call_out_info()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a2fcc22b543fc2a8229c4739af28fbcae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string hmac </td>
          <td>(</td>
          <td class="paramtype">int method&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string key&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em> arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate the Hashed Message Authenication Code for <code>value</code> based on the digest <code>method</code> and the password <code>key</code>. </p>
<p>Return the HMAC.</p>
<p><code>method</code> is one of the &gt;&gt;TLS_HASH_&lt;&lt; constants defined in tls.h; not all recognized methods may be supported for a given driven:</p>
<p>TLS_HASH_SHA1 (1) TLS_HASH_SHA224 (2) TLS_HASH_SHA256 (3) TLS_HASH_SHA384 (4) TLS_HASH_SHA512 (5) TLS_HASH_MD5 (6) TLS_HASH_RIPEMD160 (7)</p>
<p>If the driver is compiled without OpenSSL or GCrypt support an error is thrown.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a2fcc22b543fc2a8229c4739af28fbcae">hmac</a>(int method, string key, string value)</div>
<div class="line">string <a class="code" href="classefun.html#a2fcc22b543fc2a8229c4739af28fbcae">hmac</a>(int method, string key, <span class="keywordtype">int</span> *  arg)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">The example below shows how to compute the SHA1 hmac of a string and an array of characters:</p>
<div class="fragment"><div class="line"><span class="keywordtype">string</span> s;</div>
<div class="line"></div>
<div class="line">s = <a class="code" href="classefun.html#a2fcc22b543fc2a8229c4739af28fbcae">hmac</a>(TLS_HASH_SHA1, <span class="stringliteral">&quot;secret&quot;</span>, <span class="stringliteral">&quot;Hello&quot;</span>);</div>
<div class="line">s = <a class="code" href="classefun.html#a2fcc22b543fc2a8229c4739af28fbcae">hmac</a>(TLS_HASH_SHA1, <span class="stringliteral">&quot;secret&quot;</span>, ({ <span class="charliteral">&#39;H&#39;</span>, <span class="charliteral">&#39;e&#39;</span>, <span class="charliteral">&#39;l&#39;</span>, <span class="charliteral">&#39;l&#39;</span>, <span class="charliteral">&#39;o&#39;</span> }) );</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.714)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a293b5dd324033d04f2b6da0f6ba4654b" title="Crypt the string str the first two characters from the string seed as a seed. ">efun::crypt()</a>, <a class="el" href="classefun.html#a4f75178a00fc81b8384aa3a757d0902f" title="Create and return a MD5 message digest from arg. ">efun::md5()</a>, <a class="el" href="classefun.html#a31c2c39301c169902bdd78369dab70ae" title="Crypt the string str the first two characters from the string seed as a seed. ">efun::md5_crypt()</a>, <a class="el" href="classefun.html#ac53ffe809c88eeb6af75fedb41d9bfc3" title="Create and return a SHA1 message digest from arg. ">efun::sha1()</a>, <a class="el" href="classefun.html#a2fcc22b543fc2a8229c4739af28fbcae" title="Calculate the Hashed Message Authenication Code for value based on the digest method and the password...">efun::hmac()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a577d34e6ad73183274b24e5072b72b16"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string idna_stringprep </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int profile&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int flags&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare the UTF-8 string <code>str</code> according to the stringprep <code>profile</code> (see also libidn stringprep(3)). </p>
<p><code>profile</code> and <code>flags</code> are one of the values defined in <code>idn.h</code>.</p>
<p>If an error occurs, an exception is thrown.</p>
<p>The efun is available only if the system supports libidn - in that case <a class="el" href="driver_topics_predefined.html">__IDNA__</a> is defined.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a577d34e6ad73183274b24e5072b72b16">idna_stringprep</a>(string str, int profile, int flags)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.713)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#acffbc5493c554e688efabc660f2cac56" title="Convert the string str from charset from_cs to charset to_cs and return the converted string...">efun::convert_charset()</a>, <a class="el" href="classefun.html#aee5eda114231d4cd7809c13057f38c9a" title="Convert string name from UTF-8 to idna representation (8z punycode). ">efun::idna_to_ascii()</a>, <a class="el" href="classefun.html#ae20f06d0b57897f89e5858c7dece465e" title="Convert string name from idna representation (8z punycode) to UTF-8. ">efun::idna_to_unicode()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aee5eda114231d4cd7809c13057f38c9a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string idna_to_ascii </td>
          <td>(</td>
          <td class="paramtype">string name&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert string <code>name</code> from UTF-8 to idna representation (8z punycode). </p>
<p>If an error occurs, an exception is thrown.</p>
<p>The efun is available only if the system supports libidn - in that case <a class="el" href="driver_topics_predefined.html">__IDNA__</a> is defined.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#aee5eda114231d4cd7809c13057f38c9a">idna_to_ascii</a>(string name)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.713)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#acffbc5493c554e688efabc660f2cac56" title="Convert the string str from charset from_cs to charset to_cs and return the converted string...">efun::convert_charset()</a>, <a class="el" href="classefun.html#aee5eda114231d4cd7809c13057f38c9a" title="Convert string name from UTF-8 to idna representation (8z punycode). ">efun::idna_to_ascii()</a>, <a class="el" href="classefun.html#a577d34e6ad73183274b24e5072b72b16" title="Prepare the UTF-8 string str according to the stringprep profile (see also libidn stringprep(3))...">efun::idna_stringprep()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae20f06d0b57897f89e5858c7dece465e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string idna_to_unicode </td>
          <td>(</td>
          <td class="paramtype">string name&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert string <code>name</code> from idna representation (8z punycode) to UTF-8. </p>
<p>If an error occurs, an exception is thrown.</p>
<p>The efun is available only if the system supports libidn - in that case <a class="el" href="driver_topics_predefined.html">__IDNA__</a> is defined.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#ae20f06d0b57897f89e5858c7dece465e">idna_to_unicode</a>(string name)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.713)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#acffbc5493c554e688efabc660f2cac56" title="Convert the string str from charset from_cs to charset to_cs and return the converted string...">efun::convert_charset()</a>, <a class="el" href="classefun.html#aee5eda114231d4cd7809c13057f38c9a" title="Convert string name from UTF-8 to idna representation (8z punycode). ">efun::idna_to_ascii()</a>, <a class="el" href="classefun.html#a577d34e6ad73183274b24e5072b72b16" title="Prepare the UTF-8 string str according to the stringprep profile (see also libidn stringprep(3))...">efun::idna_stringprep()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a7ba15ab03672927eae914004b91b2509"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string implode </td>
          <td>(</td>
          <td class="paramtype">mixed  *&#160;</td>
          <td class="paramname"><em>arr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string del&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Concatenate all strings found in array <code>arr</code>, with the string <code>del</code> between each element. </p>
<p>Only strings are used from the array.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a7ba15ab03672927eae914004b91b2509">implode</a>(mixed *arr, string del)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">This basic example inserts an asterisk between each array element:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a7ba15ab03672927eae914004b91b2509">implode</a>(({ <span class="stringliteral">&quot;foo&quot;</span>, <span class="stringliteral">&quot;bar&quot;</span>, <span class="stringliteral">&quot;&quot;</span> }), <span class="stringliteral">&quot;*&quot;</span>) <span class="comment">// returns &quot;foo*bar*&quot;</span></div>
</div><!-- fragment --><p> Because implode ignores non-string elements, the result below only includes a single "b":</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a7ba15ab03672927eae914004b91b2509">implode</a>(({ <span class="stringliteral">&quot;a&quot;</span>, 2, <a class="code" href="classefun.html#a3beb87980adf6911709c4c431e244488">this_object</a>(), <span class="stringliteral">&quot;c&quot;</span> }), <span class="stringliteral">&quot;b&quot;</span>) <span class="comment">// returns &quot;abc&quot;</span></div>
</div><!-- fragment --><p> Together with <a class="el" href="classefun.html#a5b90a42c555bc61599b700a31b530082" title="Return an array of strings, created when the string str is split into substrings as divided by del...">efun::explode()</a> this can be used as a search-and-replace for strings:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a7ba15ab03672927eae914004b91b2509">implode</a>(<a class="code" href="classefun.html#a5b90a42c555bc61599b700a31b530082">explode</a>(<span class="stringliteral">&quot;a short text&quot;</span>, <span class="stringliteral">&quot; &quot;</span>), <span class="stringliteral">&quot;_&quot;</span>) <span class="comment">// returns &quot;a_short_text&quot;</span></div>
</div><!-- fragment --><p> But nowadays you can also use:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a1a9644b0891c8674664e2c80aff7f963">regreplace</a>(<span class="stringliteral">&quot;a short text&quot;</span>, <span class="stringliteral">&quot; &quot;</span>, <span class="stringliteral">&quot;_&quot;</span>, 1)</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a5b90a42c555bc61599b700a31b530082" title="Return an array of strings, created when the string str is split into substrings as divided by del...">efun::explode()</a>, <a class="el" href="classefun.html#a1a9644b0891c8674664e2c80aff7f963" title="This function looks through txt looking for the regular expression pattern. ">efun::regreplace()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ac1f2f96fbcb047b4d200a9d68f05aa8d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string* inherit_list </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int flag&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the names of all files inherited by <code>ob</code>, including <code>ob</code> own filename. </p>
<p>If <code>ob</code> is omitted, it defaults to the current object. The value of <code>flag</code> determines the structure of the output.</p>
<p><code>flag</code> = <code>INHLIST_FLAT</code> (0, default): The result is an array of filenames, starting the with the filename of <code>ob</code> itself, followed by the names of all inherited objects in breadth order.</p>
<p><code>flag</code> = <code>INHLIST_TREE</code> (1): The result is an array starting the with the filename of <code>ob</code> itself, followed by the all directly inherited objects. If one of the inherited objects has no inherits by itself, then its name will be stored directly in the array. If one inherited object has inherits by itself, a subvector will be created and stored in the result vector. The subvector(s) have the same structure as the main result vector.</p>
<p><code>flag</code> = <code>INHLIST_TAG_VIRTUAL</code> (2): All names in the result are prefixed with a tag: "  " (two spaces) for normal inherits, "v " for virtual inherits.</p>
<p>All flags can be combined with binary "or" (<code>|</code>), though <code>INHLIST_FLAT</code> and <code>INHLIST_TREE</code> are mutually exclusive.</p>
<p>If objects, including <code>ob</code>, had been undergone a <a class="el" href="classefun.html#a0dc3b4d26c35f8eeae78a2cc913dfa07" title="Substitutes a program with the inherited program program. ">efun::replace_program()</a>, the returned filenames will reflect the actual active program.</p>
<p>The returned names always begin with '/' (absolute path), except when the parser runs in <a class="el" href="driver_topics_predefined.html">__COMPAT_MODE__</a>.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> * <a class="code" href="classefun.html#ac1f2f96fbcb047b4d200a9d68f05aa8d">inherit_list</a>()</div>
<div class="line">string * <a class="code" href="classefun.html#ac1f2f96fbcb047b4d200a9d68f05aa8d">inherit_list</a>(object ob)</div>
<div class="line"><span class="keywordtype">string</span> * <a class="code" href="classefun.html#ac1f2f96fbcb047b4d200a9d68f05aa8d">inherit_list</a>(object ob, int flag)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">Given this inheritance structure:</p>
<ul>
<li>a</li>
<li>c<ul>
<li>d</li>
</ul>
</li>
<li>b</li>
</ul>
<p>the efun will give the following results:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#ac1f2f96fbcb047b4d200a9d68f05aa8d">inherit_list</a>(a)     <span class="comment">// ({ &quot;a&quot;, &quot;c&quot;, &quot;b&quot;, &quot;d&quot; })</span></div>
<div class="line"><a class="code" href="classefun.html#ac1f2f96fbcb047b4d200a9d68f05aa8d">inherit_list</a>(c)     <span class="comment">// ({ &quot;c&quot;, &quot;d&quot; })</span></div>
<div class="line"><a class="code" href="classefun.html#ac1f2f96fbcb047b4d200a9d68f05aa8d">inherit_list</a>(a, 1)  <span class="comment">// ({ &quot;a&quot;, ({ &quot;c&quot;, &quot;d&quot; }), &quot;b&quot; })</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.8) -- the returned names now start with a <span class="charliteral">&#39;/&#39;</span>.</div>
<div class="line">changed (3.2.9/3.3.111) -- added the tree representation.</div>
<div class="line">changed (3.2.9/3.3.125) -- added the tagging of <span class="keyword">virtual</span> inherits.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a7a7cc530c7ebabb824ee97c5b0a4f18b" title="OBSOLETED_IN_MASTER_IGNORE_FOR_NOW Gather some driver internal debug information according to the set...">efun::debug_info()</a>, efun::include_list() </dd></dl>

</div>
</div>
<a class="anchor" id="af611da839c18f550d1639881f3f3cade"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void input_to </td>
          <td>(</td>
          <td class="paramtype">string|&#160;</td>
          <td class="paramname"><em>closure fun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int flag&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string|&#160;</td>
          <td class="paramname"><em>closure prompt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enable next line of user input to be sent to the function <code>fun</code> as an argument. </p>
<p>Exception: if the next input line starts with a "!", it will be parsed as a command resp. passed to the most recent input_to given with the <code>INPUT_IGNORE_BANG</code> flag. The function <code>fun</code> may be static, but must not be private (or it won't be found).</p>
<dl class="section user"><dt>note: that fun is not called immediately but after pressing the RETURN key.</dt><dd></dd></dl>
<p>Usually, if input_to is called more than once in the same execution, only the first call has any effect. This behaviour can be modified by specifying the <code>INPUT_APPEND</code> flag which will append the given input_to to the already existing input_tos.</p>
<p>Also, if a command given during an input_to (using the "!" escape) issues its own input_to, the previous input_to is suspended until the new input_to has been handled, then the previous one becomes active again.</p>
<p>The optional argument <code>flag</code> may be a binary-OR ('|') of the following option values:</p>
<p><code>INPUT_NOECHO</code> (1): The line given by the player will not be echoed, and is not seen if snooped.</p>
<p>A change of this mode not possible with telnet disabled.</p>
<p><code>INPUT_CHARMODE</code> (2): The connection is switched from line- into charmode to retrieve a single character(!) from the player.</p>
<p>Is telnet disabled, then only the handling of the incoming data by the driver is changed - the client program of the player will remain in its current mode.</p>
<p>After execution of <code>fun</code>, the connection is switched back into linemode unless a subsequent <code>input_to( , 2)</code> has been issued.</p>
<p>Lineends are received exactly as the client sent them: "n", "r" followed by "n", or just "r".</p>
<p>Note that the players frontend is free to stay in linemode all the time: even if you request a single character, the player might be forced to type (and send) that character plus the return key. Usually your function will then receive the complete input line (including the newline character sequence!) in one call.</p>
<p>If you plan to stay in charmode a longer time , you can reduce the call overhead by using <a class="el" href="classefun.html#a279e14b29d8dae86cda6374631c66e6c" title="Set the set of characters which can be combined into a single string when already received en-bloc in...">efun::set_combine_charset()</a> to retrieve sequences of certain characters as one string instead of one-by-one. In a screen-oriented editor for example this would be most of the printable characters.</p>
<p><code>INPUT_PROMPT</code> (4): The argument following the <code>flag</code> argument is used as prompt for the input. If this flag is not given, and thus no prompt specified, nothing will be printed.</p>
<p><code>INPUT_NO_TELNET</code> (8): Modifies the <code>INPUT_CHARMODE</code> flag: the driver will switch it's internal handling of incoming data, but not send out any telnet commands to switch the client's behaviour.</p>
<p><code>INPUT_APPEND</code> (16): Append the input_to to the list of currently pending input_tos (if any).</p>
<p><code>INPUT_IGNORE_BANG</code> (128): Input lines starting with '!' (or whatever the input escape character was configured to be) will <em>not</em> be parsed as commands, but are given to the function as well. Usage of this option is privileged.</p>
<p>The optional trailing args will be passed as second and subsequent args to the function fun.</p>
<dl class="section user"><dt>limit: In charmode, it is not possible to receive the NUL character and pass it to the mudlib: internally the NUL character has magical properties.</dt><dd></dd></dl>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#af611da839c18f550d1639881f3f3cade">input_to</a>(<span class="keywordtype">string</span>|closure fun)</div>
<div class="line">void <a class="code" href="classefun.html#af611da839c18f550d1639881f3f3cade">input_to</a>(<span class="keywordtype">string</span>|closure fun, int flag, ...)</div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#af611da839c18f550d1639881f3f3cade">input_to</a>(<span class="keywordtype">string</span>|closure fun, int flag, <span class="keywordtype">string</span>|closure prompt, ...)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">When reaching the <a class="el" href="classefun.html#af611da839c18f550d1639881f3f3cade" title="Enable next line of user input to be sent to the function fun as an argument. ">efun::input_to()</a> statement in the example below, the driver continues executing the function <code>func()</code>, but also asks the user for input. When the user enters whatever is asked and presses <code>RETURN</code>, the driver will invoke the <code>enter_name()</code> function with the entered string as argument:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> func() {</div>
<div class="line">   ...</div>
<div class="line">   input_to(<span class="stringliteral">&quot;enter_name&quot;</span>, INPUT_PROMPT, <span class="stringliteral">&quot;Please enter your name:&quot;</span>);</div>
<div class="line">   <span class="comment">// The traditional way of doing this was:</span></div>
<div class="line">   <span class="comment">//   write(&quot;Please enter your name:&quot;);</span></div>
<div class="line">   <span class="comment">//   input_to(&quot;enter_name&quot;);</span></div>
<div class="line">   ...</div>
<div class="line">}</div>
<div class="line">enter_name(<span class="keywordtype">string</span> str) {</div>
<div class="line">   <a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<span class="stringliteral">&quot;Is &#39;&quot;</span>+str+<span class="stringliteral">&quot;&#39; really your name?? *giggle*\n&quot;</span>);</div>
<div class="line">   ...</div>
<div class="line">}</div>
</div><!-- fragment --><p> This next sequence will queue two input_tos: the input first goes to <code>enter_firstname()</code> and when this function is done (including any non-appended input_tos of its own), the next input will go to <code>enter_lastname()</code>:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> func() {</div>
<div class="line">  ..</div>
<div class="line">  <a class="code" href="classefun.html#af611da839c18f550d1639881f3f3cade">input_to</a>(<span class="stringliteral">&quot;enter_firstname&quot;</span>);</div>
<div class="line">  <a class="code" href="classefun.html#af611da839c18f550d1639881f3f3cade">input_to</a>(<span class="stringliteral">&quot;enter_lastname, INPUT_APPEND);</span></div>
<div class="line"><span class="stringliteral">  ...</span></div>
<div class="line"><span class="stringliteral">}</span></div>
</div><!-- fragment --><p> The list of input_tos is treated as a flat list:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> func() {</div>
<div class="line">  ..</div>
<div class="line">  <a class="code" href="classefun.html#af611da839c18f550d1639881f3f3cade">input_to</a>(<span class="stringliteral">&quot;func1&quot;</span>);</div>
<div class="line">  <a class="code" href="classefun.html#af611da839c18f550d1639881f3f3cade">input_to</a>(<span class="stringliteral">&quot;func2&quot;</span>, INPUT_APPEND);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> func1() {</div>
<div class="line">  ..</div>
<div class="line">  <a class="code" href="classefun.html#af611da839c18f550d1639881f3f3cade">input_to</a>(<span class="stringliteral">&quot;func3&quot;</span>, INPUT_APPEND);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> func2() { ... }</div>
<div class="line"><span class="keywordtype">void</span> func3() { ... }</div>
</div><!-- fragment --><p> This code will result in the functions being called in the order <code>func(), func1(), func2(), func3();</code> and not <code>func(), func1(), func3(), func2()</code>.</p>
<p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.1@93) -- The meaning of the flag parameter was extended.</div>
<div class="line">changed (3.2.8) -- added <a class="code" href="classefun.html#a2ae3872648557b6f90a3ccda1665b84b">limited</a> <span class="stringliteral">&quot;stacking&quot;</span> of input_tos issued from !commands.</div>
<div class="line">changed -- the <span class="keyword">function</span> can be given as a closure.</div>
<div class="line">changed (3.2.9/3.3.125) -- added the INPUT_PROMPT flag and argument.</div>
<div class="line">changed (3.2.11/3.3.593) -- added the INPUT_NO_TELNET flag.</div>
<div class="line">changed (3.2.11/3.3.637) -- added the INPUT_APPEND flag.</div>
<div class="line">changed (3.3) -- changed handling of newline sequences in charmode to verbatim passing. Earlier drivers passed an empty <span class="keywordtype">string</span> instead.</div>
<div class="line">changed -- driver can be configured to use a different input escape character.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classmaster.html#afaf1545f7ccfbb3d897293150f5a45ca" title="Validate the execution of a privileged operation. ">master::privilege_violation()</a>, <a class="el" href="classefun.html#a279e14b29d8dae86cda6374631c66e6c" title="Set the set of characters which can be combined into a single string when already received en-bloc in...">efun::set_combine_charset()</a>, <a class="el" href="classefun.html#a580be578b8c57465f68a84e509c12c29" title="If ob is interactive and currently has an efun::input_to() pending, the object that has called the ef...">efun::query_input_pending()</a>, <a class="el" href="classefun.html#a93b1b26ca8321d256d3613066fab2966" title="Find the input_to most recently added to the interactive player object matching the fun argument: ...">efun::find_input_to()</a>, <a class="el" href="classefun.html#a0f74585c69a687a66806f986fa76b5bd" title="Construct an array of all input_to&#39;s pending for this interactive player. ">efun::input_to_info()</a>, <a class="el" href="classefun.html#a5a351739113e6cf32a6dd7d274c068bf" title="Remove a pending input_to from the interactive player object. ">efun::remove_input_to()</a>, <a class="el" href="classefun.html#a0edd06bcaa96598da8d8041b8783a2d8" title="Enable or disable the telnet machine for the interactive object obj. ">efun::enable_telnet()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a0f74585c69a687a66806f986fa76b5bd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed* input_to_info </td>
          <td>(</td>
          <td class="paramtype">object player&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct an array of all input_to's pending for this interactive <code>player</code>. </p>
<p>The first entry in the array is the least recently added <a class="el" href="classefun.html#af611da839c18f550d1639881f3f3cade" title="Enable next line of user input to be sent to the function fun as an argument. ">efun::input_to()</a>, the last element the most recently added one.</p>
<p>Every item in the array is itself an array of 2 or more entries:</p>
<p><code>[0]</code> The object (only if the function is a string).</p>
<p><code>[1]</code> The function (string or closure).</p>
<p><code>[2..]</code> The argument(s).</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed * <a class="code" href="classefun.html#a0f74585c69a687a66806f986fa76b5bd">input_to_info</a>(object player)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.9)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#af611da839c18f550d1639881f3f3cade" title="Enable next line of user input to be sent to the function fun as an argument. ">efun::input_to()</a>, <a class="el" href="classefun.html#a93b1b26ca8321d256d3613066fab2966" title="Find the input_to most recently added to the interactive player object matching the fun argument: ...">efun::find_input_to()</a>, <a class="el" href="classefun.html#a5a351739113e6cf32a6dd7d274c068bf" title="Remove a pending input_to from the interactive player object. ">efun::remove_input_to()</a>, <a class="el" href="classefun.html#a580be578b8c57465f68a84e509c12c29" title="If ob is interactive and currently has an efun::input_to() pending, the object that has called the ef...">efun::query_input_pending()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="abb6bdbce645e4924d4e99dbb9582c3e5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int interactive </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return non-zero if <code>ob</code> is an interactive user. </p>
<p>If <code>ob</code> is omitted, <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code> will be used. The return value is 1 if the object <code>ob</code> is interactive, else 0.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#abb6bdbce645e4924d4e99dbb9582c3e5">interactive</a>()</div>
<div class="line">int <a class="code" href="classefun.html#abb6bdbce645e4924d4e99dbb9582c3e5">interactive</a>(object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a1d819b245fe5d59d0f9da64d3c82f6ac" title="True if the object is or once was interactive. ">efun::query_once_interactive()</a>, <a class="el" href="classefun.html#af2badf1733245cd49bc69b30b610207b" title="Give the ip-number for the current user or the optional argument ob. ">efun::query_ip_number()</a>, <a class="el" href="classefun.html#a2d730466c50796059128b65fc3153a55" title="Give the ip-name for user the current user or for the optional argument ob. ">efun::query_ip_name()</a>, <a class="el" href="classefun.html#a2a20a6def5cbe33d8a54dd17235e1cb5" title="Query how many seconds an interactive object ob has been idle. ">efun::query_idle()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aae25e47ee6526e8297fa3d9c822a22be"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int intp </td>
          <td>(</td>
          <td class="paramtype">mixed arg&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return 1 if arg is an integer number. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#aae25e47ee6526e8297fa3d9c822a22be">intp</a>(mixed arg)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a62a23bfd4fb3823c9d808b3bff345980" title="The efun returns 1 if obj is a clone, and 0 if it is not. ">efun::clonep()</a>, <a class="el" href="classefun.html#af96696b3733777271624be5575c72726" title="Returns 1 if the argument is a closure. ">efun::closurep()</a>, <a class="el" href="classefun.html#a1493e7a68d0e7eb19f5f60d3c5761e9c" title="Returns 1 if the arg is a floating point number, 0 else. ">efun::floatp()</a>, <a class="el" href="classefun.html#a588bcd8d5f59e8c2c08c0d989c530863" title="Returns 1 if the argument is a mapping, or 0 if it is not. ">efun::mappingp()</a>, <a class="el" href="classefun.html#acc5e526acbd3a54f8f9625cc1fdc7f75" title="Return 1 if arg is an object. ">efun::objectp()</a>, <a class="el" href="classefun.html#af28bd368a436849fb5195eb34ca53af3" title="returns true if arg was passed by reference to the current function, instead of the usual call-by-val...">efun::referencep()</a>, <a class="el" href="classefun.html#a3c94a0dd0f29e1f90f48d17e53fec879" title="Return 1 if arg is a pointer, i.e. ">efun::pointerp()</a>, <a class="el" href="classefun.html#ad45cc3605ecbe92c52b8c1c8408da017" title="Return 1 if arg is a string. ">efun::stringp()</a>, <a class="el" href="classefun.html#aa0bbde61230276ac5155fa61b54c63f2" title="Returns 1 if value is a symbol. ">efun::symbolp()</a>, <a class="el" href="classefun.html#a1f75bb586fd744aa865714d4bab27b34" title="Return 1 if arg is a struct. ">efun::structp()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ad37a5b85653678afc3bba3b0fb152a3f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string invert_bits </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Invert the status of all bits in bitstring <code>str</code> and return the new string. </p>
<p>Note that the total number of bits (ie the string length) stays the same.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#ad37a5b85653678afc3bba3b0fb152a3f">invert_bits</a>(string str)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> s;</div>
<div class="line"></div>
<div class="line">s = <a class="code" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a>(<span class="stringliteral">&quot;&quot;</span>, 3);</div>
<div class="line">s = <a class="code" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a>(s, 4);</div>
<div class="line">s = <a class="code" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a>(s, 15); <span class="comment">//s is now  &quot;8 (&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="classefun.html#ad37a5b85653678afc3bba3b0fb152a3f">invert_bits</a>(s) <span class="comment">//returns &quot;G_W&quot;</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#aae4303bfb007375b5f182294e1fb274e" title="Return the new string where bit n is set in string str. ">efun::set_bit()</a>, <a class="el" href="classefun.html#a9820c9a0cc652f0f9054e8dd9d7e56b0" title="Return the new string where bit n is cleared in string str. ">efun::clear_bit()</a>, <a class="el" href="classefun.html#a1f992595c33434f4657015ffe765d2bc" title="Return 0 or 1 if bit n was set in string str. ">efun::test_bit()</a>, <a class="el" href="classefun.html#add033af196d131772d3a99373bd14cd9" title="Return the number of the last set bit in bitstring str. ">efun::last_bit()</a>, <a class="el" href="classefun.html#a481a071b1544dd0eb27556efb3768cb6" title="str1 and str2 are both bitstrings. ">efun::and_bits()</a>, <a class="el" href="classefun.html#af939d33eba6b16a15e87e0737206b0e2" title="str1 and str2 are both bitstrings. ">efun::or_bits()</a>, <a class="el" href="classefun.html#aeda3e1403911d376dd0db4b9b501dc62" title="str1 and str2 are both bitstrings. ">efun::xor_bits()</a>, <a class="el" href="classefun.html#a4219dca74e569f12726df9bd9e11669d" title="Count the number of set bits in bitstring str and return the number as result. ">efun::count_bits()</a>, <a class="el" href="classefun.html#afcb4b753b24046893741d3c3e0c33e62" title="Copy the bitrange [&lt;em&gt;srcstart&lt;/em&gt;..&lt;em&gt;srcstart&lt;/em&gt;+&lt;em&gt;copylen&lt;/em&gt;] from bitstring src and copy...">efun::copy_bits()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ad605c9c8bf3e838e8867b378347afb5f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed json_parse </td>
          <td>(</td>
          <td class="paramtype">string jsonstring&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This efun parses the <code>JSON</code> object encoded as string in <code>jsonstr</code> into a suitable LPC type. </p>
<table class="doxtable">
<tr>
<th>json type </th><th>LPC type  </th></tr>
<tr>
<td><a class="el" href="driver_syntax_types.html">types</a> </td><td>int (0) </td></tr>
<tr>
<td>"null" </td><td></td></tr>
<tr>
<td><code>boolean</code> </td><td>int (0 or 1) </td></tr>
<tr>
<td></td><td></td></tr>
<tr>
<td><a class="el" href="driver_syntax_int.html">int</a> </td><td>int </td></tr>
</table>
<p>| "int" | <code>int64</code> | | | <code>double</code> | float | | <a class="el" href="driver_syntax_string.html">string</a> | string | | "string" | | | <a class="el" href="driver_syntax_object.html">object</a> | mapping | | "object" | | | <a class="el" href="driver_syntax_arrays.html">arrays</a> | arrays | | "array" | |</p>
<dl class="section user"><dt>warning: All other JSON types cause a runtime error.</dt><dd></dd></dl>
<p>The <code>JSON</code> object can nest other <code>JSON</code> objects.</p>
<p>The function is available only if the driver is compiled with Iksemel support. In that case, <code>__JSON__</code> is defined.</p>
<dl class="section user"><dt>limit: 64 bit wide integers can only be parsed losslessly on hosts with a 64 bit wide LPC int and json-c library newer than 0.90.</dt><dd></dd></dl>
<dl class="section user"><dt>limit:  driver_topics_predefined "__FLOAT_MIN__" is not serialized/parsed losslessly.</dt><dd></dd></dl>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed <a class="code" href="classefun.html#ad605c9c8bf3e838e8867b378347afb5f">json_parse</a>(string jsonstring)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">The following examples demonstrate the LPC values returned by parsing a sample of JSON strings:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#ad605c9c8bf3e838e8867b378347afb5f">json_parse</a>(<span class="stringliteral">&quot;42&quot;</span>)                   <span class="comment">// 42</span></div>
<div class="line"><a class="code" href="classefun.html#ad605c9c8bf3e838e8867b378347afb5f">json_parse</a>(&quot;42.0&quot;)                 <span class="comment">// 42.0</span></div>
<div class="line"><a class="code" href="classefun.html#ad605c9c8bf3e838e8867b378347afb5f">json_parse</a>(&quot;\&quot;hello world\\n\&quot;&quot;)   <span class="comment">// &quot;hello world\n&quot;</span></div>
<div class="line"><a class="code" href="classefun.html#ad605c9c8bf3e838e8867b378347afb5f">json_parse</a>(&quot;[ 1, 2, 3, 4, 5, 6 ]&quot;) <span class="comment">// ({1,2,3,4,5,6})</span></div>
<div class="line"></div>
<div class="line">json_parse(&quot;{ \<span class="stringliteral">&quot;test 2\&quot;: 42.000000, \&quot;test 1\&quot;: 42 }&quot;</span>)</div>
<div class="line"><span class="comment">// ([ &quot;test 1&quot;: 42, &quot;test 2&quot;: 42.0 ])</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.5.0)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#af42d09408a63d42c762b51c94e5c8df6" title="This efun creates a JSON object from the given LPC variable and returns the object encoded as a LPC s...">efun::json_serialize()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af42d09408a63d42c762b51c94e5c8df6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string json_serialize </td>
          <td>(</td>
          <td class="paramtype">mixed data&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This efun creates a <code>JSON</code> object from the given LPC variable and returns the object encoded as a LPC string. </p>
<p>For container types like arrays, mappings and structs, this will be done recursively.</p>
<p>Only the following LPC types are serialized. All other LPC types cause a runtime error.</p>
<table class="doxtable">
<tr>
<th>LPC type </th><th><code>JSON</code> type  </th></tr>
<tr>
<td>&lt;int&gt; </td><td><code>JSON</code> int </td></tr>
<tr>
<td>&lt;float&gt; </td><td><code>JSON</code> double </td></tr>
<tr>
<td>&lt;string&gt; </td><td><code>JSON</code> string </td></tr>
<tr>
<td>&lt;mapping&gt; </td><td><code>JSON</code> objects </td></tr>
<tr>
<td></td><td></td></tr>
<tr>
<td>&lt;array&gt; </td><td><code>JSON</code> arrays </td></tr>
<tr>
<td>&lt;struct&gt; </td><td><code>JSON</code> objects </td></tr>
</table>
<p>The function is available only if the driver is compiled with Iksemel support. In that case, <code>__JSON__</code> is defined.</p>
<dl class="section user"><dt>limit: Only mappings with a width of 1 value per key and only string keys can be serialized.</dt><dd></dd></dl>
<dl class="section user"><dt>limit: 64 bit wide integers can only be serialized losslessly on hosts with a 64 bit wide LPC int and json-c library newer than 0.90.</dt><dd></dd></dl>
<dl class="section user"><dt>limit:  driver_topics_predefined "__FLOAT_MIN__" is not serialized/parsed losslessly.</dt><dd></dd></dl>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#af42d09408a63d42c762b51c94e5c8df6">json_serialize</a>(mixed data)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">The examples below demonstrate the <code>JSON</code> strings serialized from simple LPC values:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#af42d09408a63d42c762b51c94e5c8df6">json_serialize</a>(42)              <span class="comment">// &quot;42&quot;</span></div>
<div class="line"><a class="code" href="classefun.html#af42d09408a63d42c762b51c94e5c8df6">json_serialize</a>(42.0)            <span class="comment">// &quot;42.0&quot;</span></div>
<div class="line"><a class="code" href="classefun.html#af42d09408a63d42c762b51c94e5c8df6">json_serialize</a>(&quot;hello world\n&quot;) <span class="comment">// &quot;\&quot;hello world\\n\&quot;&quot;</span></div>
<div class="line"><a class="code" href="classefun.html#af42d09408a63d42c762b51c94e5c8df6">json_serialize</a>(({1,2,3,4,5,6})) <span class="comment">// &quot;[ 1, 2, 3, 4, 5, 6 ]&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="classefun.html#af42d09408a63d42c762b51c94e5c8df6">json_serialize</a>(([ &quot;test 1&quot;: 42, &quot;test 2&quot;: 42.0 ]))</div>
<div class="line"><span class="comment">// &quot;{ \&quot;test 2\&quot;: 42.000000, \&quot;test 1\&quot;: 42 }&quot;</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.5.0)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ad605c9c8bf3e838e8867b378347afb5f" title="This efun parses the JSON object encoded as string in jsonstr into a suitable LPC type...">efun::json_parse()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a4ef2926c525dcf7e7d339d3f424b18a9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">closure lambda </td>
          <td>(</td>
          <td class="paramtype">mixed  *&#160;</td>
          <td class="paramname"><em>arr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a lambda closure, like lambda function in LISP. </p>
<p>The closure is bound to the creating object, and thus can contain references to global variables.</p>
<p>The first argument is an array describing the arguments (symbols) passed to the closure upon evaluation by <a class="el" href="classefun.html#a665f686219e1bffdb5e89a5158167473" title="Evaluates the closure. ">efun::funcall()</a> or <a class="el" href="classefun.html#aaf018e933ee843dfe67f2916aeeb51a1" title="Evaluates the closure cl with the following arguments. ">efun::apply()</a>.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">closure <a class="code" href="classefun.html#a4ef2926c525dcf7e7d339d3f424b18a9">lambda</a>(mixed *arr, mixed)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2@70)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="driver_syntax_closures.html">closure</a>, <a class="el" href="classefun.html#ad7e5e12d8853c0b52534f8a8e57dcef6" title="Constructs a lambda closure that is not bound to an object, like lambda function in LISP...">efun::unbound_lambda()</a>, <a class="el" href="classefun.html#aaf018e933ee843dfe67f2916aeeb51a1" title="Evaluates the closure cl with the following arguments. ">efun::apply()</a>, <a class="el" href="classefun.html#a665f686219e1bffdb5e89a5158167473" title="Evaluates the closure. ">efun::funcall()</a>, <a class="el" href="classefun.html#a8e512d3268244957695f1a9fcf988f33" title="Binds an unbound lambda closure to an object and return it. ">efun::bind_lambda()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="add033af196d131772d3a99373bd14cd9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int last_bit </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the number of the last set bit in bitstring <code>str</code>. </p>
<p>Each character contains 6 bits. So you can store a value between 0 and 63 in one character (2^6=64). Starting character is the blank char:(U+00020 SPACE) which has the value 0. The first character in the string is the one with the lowest bits (0-5).</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#add033af196d131772d3a99373bd14cd9">last_bit</a>(string str)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> s;</div>
<div class="line"></div>
<div class="line">s = <a class="code" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a>(<span class="stringliteral">&quot;&quot;</span>, 4);</div>
<div class="line">s = <a class="code" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a>(s, 2);</div>
<div class="line"></div>
<div class="line"><a class="code" href="classefun.html#add033af196d131772d3a99373bd14cd9">last_bit</a>(s) <span class="comment">// returns 4</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#aae4303bfb007375b5f182294e1fb274e" title="Return the new string where bit n is set in string str. ">efun::set_bit()</a>, <a class="el" href="classefun.html#a9820c9a0cc652f0f9054e8dd9d7e56b0" title="Return the new string where bit n is cleared in string str. ">efun::clear_bit()</a>, <a class="el" href="classefun.html#ae9a22225f7ecf80a5bcd52261d1b27c0" title="Return the number of the next bit in bitstring str after position start. ">efun::next_bit()</a>, <a class="el" href="classefun.html#a1f992595c33434f4657015ffe765d2bc" title="Return 0 or 1 if bit n was set in string str. ">efun::test_bit()</a>, <a class="el" href="classefun.html#a4219dca74e569f12726df9bd9e11669d" title="Count the number of set bits in bitstring str and return the number as result. ">efun::count_bits()</a>, <a class="el" href="classefun.html#a481a071b1544dd0eb27556efb3768cb6" title="str1 and str2 are both bitstrings. ">efun::and_bits()</a>, <a class="el" href="classefun.html#af939d33eba6b16a15e87e0737206b0e2" title="str1 and str2 are both bitstrings. ">efun::or_bits()</a>, <a class="el" href="classefun.html#aeda3e1403911d376dd0db4b9b501dc62" title="str1 and str2 are both bitstrings. ">efun::xor_bits()</a>, <a class="el" href="classefun.html#ad37a5b85653678afc3bba3b0fb152a3f" title="Invert the status of all bits in bitstring str and return the new string. ">efun::invert_bits()</a>, <a class="el" href="classefun.html#afcb4b753b24046893741d3c3e0c33e62" title="Copy the bitrange [&lt;em&gt;srcstart&lt;/em&gt;..&lt;em&gt;srcstart&lt;/em&gt;+&lt;em&gt;copylen&lt;/em&gt;] from bitstring src and copy...">efun::copy_bits()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae4cb90ea7fc1b005d59712643e907865"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string* last_instructions </td>
          <td>(</td>
          <td class="paramtype">int length&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int verbose&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an array showing the 'length' last executed instructions in disassembled form. </p>
<p>If 'verbose' is non-zero (the default), line number information are also included. Each string is built as this:</p>
<div class="fragment"><div class="line">Opcode-Address: Opcode Operand Mnemonic (Stackdepth) Linenumber</div>
</div><!-- fragment --><p> The Stackdepth information consists of two numbers <code>&lt;em&gt;rel&lt;/em&gt;:&lt;em&gt;abs&lt;/em&gt;</code> <em>rel</em> is the relative stack usage in this function, <em>abs</em> is the absolute stack usage.</p>
<p>The linenumber information is appended if requested and a new source line is reached. Also, calls between objects produce a:</p>
<div class="fragment"><div class="line">Objectname Programname Linenumber</div>
</div><!-- fragment --><p> entry in the resulting array (in verbose mode only).</p>
<p>There is a preconfigured upper limit for the backtrace.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> * <a class="code" href="classefun.html#ae4cb90ea7fc1b005d59712643e907865">last_instructions</a>(int length, int verbose)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.1@34)</div>
<div class="line">changed (3.2.8) -- added absolute stack depth information</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a969ddceb77d814a037ea17410af50e3e" title="Prints the given text to stdout, stderr, the &lt;host&gt;.debug.log file, or any combination of these...">efun::debug_message()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a2ae3872648557b6f90a3ccda1665b84b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed limited </td>
          <td>(</td>
          <td class="paramtype">closure fun&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int  *&#160;</td>
          <td class="paramname"><em>limits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed  *&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Call the function <code>fun</code> with any given <code>args</code> as parameters, and execute it with the given runtime limits. </p>
<p>After the function exits, the currently active limits are restored. Result of the efun is the result of the closure call.</p>
<p>The runtime limits can be given in two ways: as an array (like the one returned from <a class="el" href="classefun.html#a810ac293b0967a7d3129f745c9b2d9e6" title="Return an array with the current runtime limits, resp. ">efun::query_limits()</a>, or as a list of tagged values. If the efun is used without any limit specification, all limits are supposed to be 'unlimited'.</p>
<p>The limit settings recognize three special values:</p>
<ul>
<li><code>LIMIT_UNLIMITED</code>: the limit is deactivated</li>
<li><code>LIMIT_KEEP</code>: the former setting is kept</li>
<li><code>LIMIT_DEFAULT</code>: the 'global' default setting is used.</li>
</ul>
<p>For <code>LIMIT_COST</code>, the special values have these meaning:</p>
<ul>
<li><code>LIMIT_UNLIMITED</code>: at maximum 1 tick is accounted</li>
<li><code>LIMIT_KEEP</code>: <code>LIMIT_COST</code> is set to 0</li>
<li><code>LIMIT_DEFAULT</code>: <code>LIMIT_COST</code> is set to -100</li>
</ul>
<p>The efun causes a privilege violation ("limited", current_object, fun, limits-array).</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed <a class="code" href="classefun.html#a2ae3872648557b6f90a3ccda1665b84b">limited</a>(closure fun)</div>
<div class="line">mixed <a class="code" href="classefun.html#a2ae3872648557b6f90a3ccda1665b84b">limited</a>(closure fun, int tag, int value, ...)</div>
<div class="line">mixed <a class="code" href="classefun.html#a2ae3872648557b6f90a3ccda1665b84b">limited</a>(closure fun, int *limits)</div>
<div class="line">mixed <a class="code" href="classefun.html#a2ae3872648557b6f90a3ccda1665b84b">limited</a>(closure fun, int *limits, mixed *args)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">Execute function with no limits at all:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a2ae3872648557b6f90a3ccda1665b84b">limited</a>(#<span class="stringliteral">&#39;func)</span></div>
</div><!-- fragment --><p> Executes func with an eval_cost limit of 200000, and calls func as <code>&lt;func&gt;("foo")</code>:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a2ae3872648557b6f90a3ccda1665b84b">limited</a>(#<span class="stringliteral">&#39;func, ({ 200000 }), &quot;foo&quot;)</span></div>
</div><!-- fragment --><p> Executes func with an eval_cost limit of 200000, and calls func as <code>&lt;func&gt;("foo")</code>:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a2ae3872648557b6f90a3ccda1665b84b">limited</a>(<a class="code" href="classefun.html#a4ef2926c525dcf7e7d339d3f424b18a9">lambda</a>(0, ({#<span class="stringliteral">&#39;func, &quot;foo&quot;})), LIMIT_EVAL, 200000)</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.7)</div>
<div class="line">changed (3.3.563) -- added LIMIT_COST.</div>
<div class="line">changed (3.3.677) -- added LIMIT_MAPPING_KEYS, LIMIT_MAPPING_SIZE.</div>
<div class="line">changed (3.5.0) -- added LIMIT_MEMORY.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a810ac293b0967a7d3129f745c9b2d9e6" title="Return an array with the current runtime limits, resp. ">efun::query_limits()</a>, <a class="el" href="classefun.html#a37d7da9a3d79ee3a75fdeaf3a3305c0b" title="Set the default runtime limits from the given arguments. ">efun::set_limits()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a84dd5e31020dfbdb2f748f7837d6a7ee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int living </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if <code>ob</code> is a living object (that is, <a class="el" href="classefun.html#a57a7c813f5dd1e9315900171a868d4dd" title="Enable this object to use commands normally accessible to users. ">efun::enable_commands()</a> has been called from inside the <code>ob</code>). </p>
<p><code>ob</code> may be 0.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a84dd5e31020dfbdb2f748f7837d6a7ee">living</a>(object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd"><code>living(this_player())</code></p>
<p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a57a7c813f5dd1e9315900171a868d4dd" title="Enable this object to use commands normally accessible to users. ">efun::enable_commands()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a844fa0ed8be8f868d0d4b7a98a20f707"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string load_name </td>
          <td>(</td>
          <td class="paramtype">string obj&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the load name for the object <code>obj</code> which may be given directly or by its name. </p>
<p>If <code>obj</code> is a clone, return the <a class="el" href="classefun.html#a844fa0ed8be8f868d0d4b7a98a20f707" title="Return the load name for the object obj which may be given directly or by its name. ">efun::load_name()</a> of <code>obj's</code> blueprint. If <code>obj</code> is a blueprint, return the filename from which the blueprint was compiled.</p>
<p>If <code>obj</code> is given by name but not/no longer existing, the function synthesizes the load name as it should be and returns that. If the given name is illegal, the function returns 0.</p>
<p>As a special case, if <code>obj</code> is 0, the function returns 0.</p>
<p>For virtual objects this efun returns the original load_name of the object created by the virtual compiler.</p>
<p>If <code>obj</code> is omitted, the name for the current object is returned.</p>
<p>In contrast to the <a class="el" href="classefun.html#a4eae6e47ac233059b5613c83cf5855e0" title="Get the name of an object ob or, if no argument is given, of the current object. ">efun::object_name()</a>, the load name can not be changed by with <a class="el" href="classefun.html#af4de6d3ac3373ec8a4d78ebe32c068ff" title="Give the object ob a new object name new_name. ">efun::rename_object()</a> or a virtual compiler. However, if an object uses <a class="el" href="classefun.html#a0dc3b4d26c35f8eeae78a2cc913dfa07" title="Substitutes a program with the inherited program program. ">efun::replace_program()</a> the load name no longer reflects the actual behaviour of an object.</p>
<p>The returned name starts with a '/', unless the driver is running in <a class="el" href="driver_topics_predefined.html">__COMPAT_MODE__</a>.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a844fa0ed8be8f868d0d4b7a98a20f707">load_name</a>()</div>
<div class="line">string <a class="code" href="classefun.html#a844fa0ed8be8f868d0d4b7a98a20f707">load_name</a>(object obj)</div>
<div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a844fa0ed8be8f868d0d4b7a98a20f707">load_name</a>(string obj)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> o;</div>
<div class="line">o = <a class="code" href="classefun.html#ac48b7a182d90218465e671cd6f2dcd68">clone_object</a>(<span class="stringliteral">&quot;/std/thing&quot;</span>);</div>
<div class="line"></div>
<div class="line"><a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<a class="code" href="classefun.html#a844fa0ed8be8f868d0d4b7a98a20f707">load_name</a>(o)); <span class="comment">// writes &quot;/std/thing&quot; in !compat mode</span></div>
<div class="line">                     <span class="comment">// and &quot;std/thing&quot;  in compat mode</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<a class="code" href="classefun.html#a844fa0ed8be8f868d0d4b7a98a20f707">load_name</a>(<span class="stringliteral">&quot;/std/thing&quot;</span>)); <span class="comment">// same as above</span></div>
<div class="line"><a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<a class="code" href="classefun.html#a844fa0ed8be8f868d0d4b7a98a20f707">load_name</a>(<span class="stringliteral">&quot;/std/thing#4n5&quot;</span>)); <span class="comment">// writes 0</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.6)</div>
<div class="line">changed (3.2.8) -- Strings are accepted as arguments</div>
<div class="line">changed (3.2.9) -- 0 is accepted as argument</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ac48b7a182d90218465e671cd6f2dcd68" title="Clone a new object from definition name, or alternatively from the object template. ">efun::clone_object()</a>, <a class="el" href="classefun.html#a62a23bfd4fb3823c9d808b3bff345980" title="The efun returns 1 if obj is a clone, and 0 if it is not. ">efun::clonep()</a>, <a class="el" href="classefun.html#a4eae6e47ac233059b5613c83cf5855e0" title="Get the name of an object ob or, if no argument is given, of the current object. ">efun::object_name()</a>, <a class="el" href="classefun.html#a8ef004651be5805383aca5b9a3f8291b" title="Load the object from the file name (which can not be empty) and return it. ">efun::load_object()</a>, <a class="el" href="classefun.html#a0dc3b4d26c35f8eeae78a2cc913dfa07" title="Substitutes a program with the inherited program program. ">efun::replace_program()</a>, <a class="el" href="classefun.html#a29da7cfd7195efb63c82bd788a609e93" title="Returns the name of the program of obj, resp. ">efun::program_name()</a>, <a class="el" href="classefun.html#a4bb6390381b4cd2768beb7b59df5abfb" title="This efun searches the inventory of object env (default is this_object()) for an object with a specif...">efun::present_clone()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a8ef004651be5805383aca5b9a3f8291b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object load_object </td>
          <td>(</td>
          <td class="paramtype">string name&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load the object from the file <code>name</code> (which can not be empty) and return it. </p>
<p>If the object already exists, just return it.</p>
<p>This efun can be used only to load blueprints; for clones, use <a class="el" href="classefun.html#ac48b7a182d90218465e671cd6f2dcd68" title="Clone a new object from definition name, or alternatively from the object template. ">efun::clone_object()</a>.</p>
<p>If strict euids are enforced, the cloning object must have a non-zero euid.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#a8ef004651be5805383aca5b9a3f8291b">load_object</a>(string name)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">Update and reload the standard player object:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a89a46c286d5c8b1c09148c9c6e269c0b">destruct</a>(<a class="code" href="classefun.html#a12339d2d254849a1342fd79bdb89f638">find_object</a>(<span class="stringliteral">&quot;/std/player&quot;</span>));</div>
<div class="line"><a class="code" href="classefun.html#a8ef004651be5805383aca5b9a3f8291b">load_object</a>(<span class="stringliteral">&quot;/std/player&quot;</span>);</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.6)</div>
<div class="line">changed (3.3.716) -- requires that name is not empty.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ac48b7a182d90218465e671cd6f2dcd68" title="Clone a new object from definition name, or alternatively from the object template. ">efun::clone_object()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="acd45e9336d29a4f03307ff89318e26ee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int* localtime </td>
          <td>(</td>
          <td class="paramtype">int  *&#160;</td>
          <td class="paramname"><em>uclock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Interpret the argument clock as number of seconds since <code>Jan, 1st, 1970, 0:00</code>, and return the time in local time in a nice structure. </p>
<p>if <code>clock</code> is not specified, <code><a class="el" href="classefun.html#aa560fa38ca94599aa767ccb916e9bce7" title="Return number of seconds elapsed since `1. ">time()</a></code> is used as default.</p>
<p>Alternatively, accept an array of two ints: the first is <code>clock</code> value as in the first form, the second int is the number of microseconds elapsed in the current second, which is ignored.</p>
<p>The result is an array of integers:</p>
<table class="doxtable">
<tr>
<th>place </th><th>contains  </th></tr>
<tr>
<td>int <code>TM_SEC</code> (0) </td><td>Seconds (0..59) </td></tr>
<tr>
<td>int <code>TM_MIN</code> (1) </td><td>Minutes (0..59) </td></tr>
<tr>
<td>int <code>TM_HOUR</code> (2) </td><td>Hours (0..23) </td></tr>
<tr>
<td>int <code>TM_MDAY</code> (3) </td><td>Day of the month (1..31) </td></tr>
<tr>
<td>int <code>TM_MON</code> (4) </td><td>Month of the year (0..11) </td></tr>
<tr>
<td>int <code>TM_YEAR</code> (5) </td><td>Year (e.g. 2001) </td></tr>
<tr>
<td>int <code>TM_WDAY</code> (6) </td><td>Day of the week (Sunday = 0) </td></tr>
<tr>
<td>int <code>TM_YDAY</code> (7) </td><td>Day of the year (0..365) </td></tr>
<tr>
<td>int <code>TM_ISDST</code> (8) </td><td>TRUE during daylight saving time </td></tr>
</table>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> * <a class="code" href="classefun.html#acd45e9336d29a4f03307ff89318e26ee">localtime</a>(int clock)</div>
<div class="line">int * <a class="code" href="classefun.html#acd45e9336d29a4f03307ff89318e26ee">localtime</a>(int *uclock)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><a class="code" href="classefun.html#a2f50b85e38b1f7510cddbe6dc5435942">printf</a>(<span class="stringliteral">&quot;Today is %s\n&quot;</span>,</div>
<div class="line">       ({ <span class="stringliteral">&quot;Sunday&quot;</span>, <span class="stringliteral">&quot;Monday&quot;</span>, <span class="stringliteral">&quot;Tuesday&quot;</span>, <span class="stringliteral">&quot;Wednesday&quot;</span>,</div>
<div class="line">          <span class="stringliteral">&quot;Thursday&quot;</span>, <span class="stringliteral">&quot;Friday&quot;</span>, <span class="stringliteral">&quot;Saturday&quot;</span> })[<a class="code" href="classefun.html#acd45e9336d29a4f03307ff89318e26ee">localtime</a>()[TM_WDAY]]);</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.9)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a0063aa195f706f56b790a045c06afcb1" title="Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0.00 and convert it to a nice...">efun::ctime()</a>, <a class="el" href="classefun.html#af44be4217f00942db63875e6988a0f56" title="Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0:00, and return the time in ...">efun::gmtime()</a>, <a class="el" href="classefun.html#aa560fa38ca94599aa767ccb916e9bce7" title="Return number of seconds elapsed since `1. ">efun::time()</a>, <a class="el" href="classefun.html#a3b84da42b3b5f804d14762ddfcc3da91" title="Return the time since `1. ">efun::utime()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a14fd4cedd664420252059fe942d96424"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float log </td>
          <td>(</td>
          <td class="paramtype">int|&#160;</td>
          <td class="paramname"><em>float arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the natural logarithm of its argument. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">float</span> <a class="code" href="classefun.html#a14fd4cedd664420252059fe942d96424">log</a>(<span class="keywordtype">int</span>|float arg)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.9) -- added integers as arguments</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a50fe46ccac04a290922b0752c2dfa4a5" title="The exponential function. ">efun::exp()</a>, <a class="el" href="classefun.html#a23db3b9d4dcad4bf886083af59f2f5a2" title="The function returns the value of base raised to the power of exp. ">efun::pow()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aa09b025daf57d621ec68445ba592caeb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string lower_case </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert all characters in str to lower case, and return the new string. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#aa09b025daf57d621ec68445ba592caeb">lower_case</a>(string str)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd"><code>lower_case("Heya!") // returns "heya!"</code></p>
<p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ad0587036475bd3f7ba65855ac3aaa114" title="Convert the first character in str to upper case, and return the new string. ">efun::capitalize()</a>, <a class="el" href="classefun.html#a3fa30d4685b1295a17eaf188456796c1" title="Convert all characters in str to upper case, and return the new string. ">efun::upper_case()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="acc510db961553dfdf2856f0e1de7eefc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mapping m_add </td>
          <td>(</td>
          <td class="paramtype">mapping map&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed key&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add (or replace) an entry with index <code>key</code> in mapping <code>map</code>. </p>
<p>The modified mapping is also returned as result.</p>
<p>The values for the entry are taken from the <code>data</code> arguments. Unassigned entry values default to 0, extraneous <code>data</code> arguments are ignored.</p>
<p>The difference between <a class="el" href="classefun.html#acc510db961553dfdf2856f0e1de7eefc" title="Add (or replace) an entry with index key in mapping map. ">efun::m_add()</a> and <a class="el" href="driver_syntax_operators.html">+=</a> is that the latter creates a duplicate of the target mapping if it has several references.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mapping <a class="code" href="classefun.html#acc510db961553dfdf2856f0e1de7eefc">m_add</a>(mapping map, mixed key, [mixed data...])</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line">mapping m;</div>
<div class="line"></div>
<div class="line">m = ([ <span class="stringliteral">&quot;foo&quot;</span> ]);</div>
<div class="line"><a class="code" href="classefun.html#acc510db961553dfdf2856f0e1de7eefc">m_add</a>(m, <span class="stringliteral">&quot;bar&quot;</span>, 1) <span class="comment">// ([ &quot;foo&quot;, &quot;bar&quot; ])</span></div>
<div class="line"></div>
<div class="line">m = ([ &quot;foo&quot;:1 ]);</div>
<div class="line"><a class="code" href="classefun.html#acc510db961553dfdf2856f0e1de7eefc">m_add</a>(m, &quot;bar&quot;, 1) <span class="comment">// ([ &quot;foo&quot;:1, &quot;bar&quot;:1 ])</span></div>
<div class="line"></div>
<div class="line">m = ([ &quot;foo&quot;:1;2 ]);</div>
<div class="line"><a class="code" href="classefun.html#acc510db961553dfdf2856f0e1de7eefc">m_add</a>(m, &quot;bar&quot;, 1) <span class="comment">// ([ &quot;foo&quot;:1;2, &quot;bar&quot;:1;0 ])</span></div>
<div class="line"><a class="code" href="classefun.html#acc510db961553dfdf2856f0e1de7eefc">m_add</a>(m, &quot;baz&quot;, ({ 4, 5 })... ) <span class="comment">// ([ &quot;foo&quot;:1;2, &quot;bar&quot;:1;0, &quot;baz&quot;:4;5 ])</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.9)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a588bcd8d5f59e8c2c08c0d989c530863" title="Returns 1 if the argument is a mapping, or 0 if it is not. ">efun::mappingp()</a>, <a class="el" href="classefun.html#a6cd46ef2f89a1b7f5a4ec5f4cb7beee1" title="The first form returns a mapping with indices from arr1 and values from arr2... ">efun::mkmapping()</a>, <a class="el" href="classefun.html#a7d2bbcf03098048f203304b517a88a29" title="Remove the entry with index &#39;key&#39; from mapping &#39;map&#39;. ">efun::m_delete()</a>, <a class="el" href="classefun.html#a3b4d34af1c4ceb2ade88380e2bcfb7b1" title="Query the mapping map for the entry for key and return all its values in one array. ">efun::m_entry()</a>, <a class="el" href="classefun.html#a706faae97294c390a3cd88cb080d509a" title="Returns an array containing the indices of mapping &#39;map&#39;. ">efun::m_indices()</a>, <a class="el" href="classefun.html#a2bed0d3fd8a81f635ddf28b8f539d4c1" title="Returns an array with the values of mapping map. ">efun::m_values()</a>, <a class="el" href="classefun.html#a1b26f2ff266e671649fc060bea19b228" title="Returns the number of elements of an array or struct, the number of characters in a string...">efun::sizeof()</a>, <a class="el" href="classefun.html#abd02e530c8ad0620b241d0933fdc91da" title="Returns the number of values per key of mapping map. ">efun::widthof()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a9ae4e2d42d75ad4aa7f4e100c60c3d41"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mapping m_allocate </td>
          <td>(</td>
          <td class="paramtype">int size&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int width&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reserve memory for a mapping. </p>
<p><code>size</code> is the number of entries (i.e. keys) to reserve, <code>width</code> is the number of data items per entry. If the optional width is omitted, 1 is used as default.</p>
<p>This is useful only when you are going to construct a mapping whose approximate size you know beforehand, to save overhead on repeated memory allocations. If you don't fill in data for all the allocated elements, any leftovers will be eventually freed some time later (see remark below).</p>
<p>It is also useful if you want the mapping to have a certain width even if you don't provide all the data items for the keys yet.</p>
<p>If the goal is just to create an empty mapping with a certain width, the following notations can be used:</p>
<p><code>([ ])</code> creates an empty mapping of width 1.</p>
<p><code>([:width ])</code> creates an empty mapping the given <code>width</code>, where <code>width</code> can be any expression yielding an integer result. In fact this notation is compiled as <code>m_allocate(0, width)</code>.</p>
<dl class="section user"><dt>note: Unused memory in the allocated mapping will be freed during the so-called compacting of the mapping. This is done during the data-cleanup or the garbage collection. The time between data-cleanups is configurable by efun::configure_driver().</dt><dd></dd></dl>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mapping <a class="code" href="classefun.html#a9ae4e2d42d75ad4aa7f4e100c60c3d41">m_allocate</a>(int size)</div>
<div class="line">mapping <a class="code" href="classefun.html#a9ae4e2d42d75ad4aa7f4e100c60c3d41">m_allocate</a>(int size, int width)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">To allocate a mapping with 7 values per key, and with space for 3 entries:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a9ae4e2d42d75ad4aa7f4e100c60c3d41">m_allocate</a>(3, 7)</div>
</div><!-- fragment --><p> If you only need to allocate width, you can just use the literal syntax:</p>
<div class="fragment"><div class="line">([:2*3 ]) -&gt; same as <a class="code" href="classefun.html#a9ae4e2d42d75ad4aa7f4e100c60c3d41">m_allocate</a>(0, 6)</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.6) -- Renamed from <span class="stringliteral">&#39;allocate_mapping&#39;</span>.</div>
<div class="line">changed (3.2.9) -- The ([:width ]) notation was introduced in LDMud 3.2.9 / 3.3.208.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="driver_syntax_mappings.html">mapping</a>, <a class="el" href="classefun.html#a82aceeaafc69a2ea441ad52f4657e216" title="Calls ob-&gt;func(key, value1, ..., valueN, extra,...) resp. ">efun::walk_mapping()</a>, <a class="el" href="classefun.html#ac251ce3e185e6ef6e265806ba711e871" title="Returns info about the type of value, as controlled by the flag. ">efun::get_type_info()</a>, <a class="el" href="classefun.html#a8c9bb41a965b9516ff6b86c97c35ab0c" title="Create a new mapping with width values per key and fill it with the values from mapping m...">efun::m_reallocate()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a149395923f6aed5847a664b568d55124"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int m_contains </td>
          <td>(</td>
          <td class="paramtype">mixed  &amp;&#160;</td>
          <td class="paramname"><em>data1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>dataN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classefun.html#a33260046a3141e3b6f24f730d13201b9">map</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">key&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If the mapping contains the key map, the corresponding values are assigned to the data arguments, which must be passed by reference, and 1 is returned. </p>
<p>If key is not in map, 0 is returned and the data args are left unchanged. It is possible to use this function for a 0-value mapping, in which case it has the same effect as <a class="el" href="classefun.html#adf2253b4467a0eb544f67ff5777d2fa2" title="For arrays and strings, returns the index of the first occurance of second arg in the first arg...">efun::member()</a>.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a149395923f6aed5847a664b568d55124">m_contains</a>(mixed &amp;data1, ..., &amp;dataN, map, key)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.6) -- Renamed from <span class="stringliteral">&#39;mapping_contains()&#39;</span>.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a3b4d34af1c4ceb2ade88380e2bcfb7b1" title="Query the mapping map for the entry for key and return all its values in one array. ">efun::m_entry()</a>, <a class="el" href="driver_syntax_mappings.html">mapping</a>, <a class="el" href="classefun.html#adf2253b4467a0eb544f67ff5777d2fa2" title="For arrays and strings, returns the index of the first occurance of second arg in the first arg...">efun::member()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a7d2bbcf03098048f203304b517a88a29"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mapping m_delete </td>
          <td>(</td>
          <td class="paramtype">mapping map&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed key&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove the entry with index 'key' from mapping 'map'. </p>
<p>The changed mapping 'map' is also returned as result. If the mapping does not have an entry with index 'key', nothing is changed.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mapping <a class="code" href="classefun.html#a7d2bbcf03098048f203304b517a88a29">m_delete</a>(mapping map, mixed key)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a588bcd8d5f59e8c2c08c0d989c530863" title="Returns 1 if the argument is a mapping, or 0 if it is not. ">efun::mappingp()</a>, <a class="el" href="classefun.html#a6cd46ef2f89a1b7f5a4ec5f4cb7beee1" title="The first form returns a mapping with indices from arr1 and values from arr2... ">efun::mkmapping()</a>, <a class="el" href="classefun.html#acc510db961553dfdf2856f0e1de7eefc" title="Add (or replace) an entry with index key in mapping map. ">efun::m_add()</a>, <a class="el" href="classefun.html#a706faae97294c390a3cd88cb080d509a" title="Returns an array containing the indices of mapping &#39;map&#39;. ">efun::m_indices()</a>, <a class="el" href="classefun.html#a2bed0d3fd8a81f635ddf28b8f539d4c1" title="Returns an array with the values of mapping map. ">efun::m_values()</a>, <a class="el" href="classefun.html#a1b26f2ff266e671649fc060bea19b228" title="Returns the number of elements of an array or struct, the number of characters in a string...">efun::sizeof()</a>, <a class="el" href="classefun.html#abd02e530c8ad0620b241d0933fdc91da" title="Returns the number of values per key of mapping map. ">efun::widthof()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a3b4d34af1c4ceb2ade88380e2bcfb7b1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed* m_entry </td>
          <td>(</td>
          <td class="paramtype">mapping map&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed key&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Query the mapping <code>map</code> for the entry for <code>key</code> and return all its values in one array. </p>
<p>If <code>map</code> does not contain <code>key</code>, 0 is returned.</p>
<dl class="section user"><dt>note: efun::m_add() can be used to add all values for an entry at once.</dt><dd></dd></dl>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed * <a class="code" href="classefun.html#a3b4d34af1c4ceb2ade88380e2bcfb7b1">m_entry</a>(mapping map, mixed key)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line">mapping m = ([ 1:<span class="stringliteral">&quot;foo&quot;</span>:-1, 2:<span class="stringliteral">&quot;bar&quot;</span>:-2 ]);</div>
<div class="line"></div>
<div class="line"><a class="code" href="classefun.html#a3b4d34af1c4ceb2ade88380e2bcfb7b1">m_entry</a>(m, 0) <span class="comment">// 0</span></div>
<div class="line"><a class="code" href="classefun.html#a3b4d34af1c4ceb2ade88380e2bcfb7b1">m_entry</a>(m, 1) <span class="comment">// ({ &quot;foo&quot;, -1 })</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.10)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#acc510db961553dfdf2856f0e1de7eefc" title="Add (or replace) an entry with index key in mapping map. ">efun::m_add()</a>, <a class="el" href="classefun.html#a149395923f6aed5847a664b568d55124" title="If the mapping contains the key map, the corresponding values are assigned to the data arguments...">efun::m_contains()</a>, <a class="el" href="driver_syntax_mappings.html">mapping</a>, <a class="el" href="classefun.html#adf2253b4467a0eb544f67ff5777d2fa2" title="For arrays and strings, returns the index of the first occurance of second arg in the first arg...">efun::member()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a706faae97294c390a3cd88cb080d509a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed* m_indices </td>
          <td>(</td>
          <td class="paramtype">mapping map&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an array containing the indices of mapping 'map'. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed * <a class="code" href="classefun.html#a706faae97294c390a3cd88cb080d509a">m_indices</a>(mapping map)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a588bcd8d5f59e8c2c08c0d989c530863" title="Returns 1 if the argument is a mapping, or 0 if it is not. ">efun::mappingp()</a>, <a class="el" href="classefun.html#a6cd46ef2f89a1b7f5a4ec5f4cb7beee1" title="The first form returns a mapping with indices from arr1 and values from arr2... ">efun::mkmapping()</a>, <a class="el" href="classefun.html#a2bed0d3fd8a81f635ddf28b8f539d4c1" title="Returns an array with the values of mapping map. ">efun::m_values()</a>, <a class="el" href="classefun.html#acc510db961553dfdf2856f0e1de7eefc" title="Add (or replace) an entry with index key in mapping map. ">efun::m_add()</a>, <a class="el" href="classefun.html#a7d2bbcf03098048f203304b517a88a29" title="Remove the entry with index &#39;key&#39; from mapping &#39;map&#39;. ">efun::m_delete()</a>, <a class="el" href="classefun.html#a1b26f2ff266e671649fc060bea19b228" title="Returns the number of elements of an array or struct, the number of characters in a string...">efun::sizeof()</a>, <a class="el" href="classefun.html#abd02e530c8ad0620b241d0933fdc91da" title="Returns the number of values per key of mapping map. ">efun::widthof()</a>, <a class="el" href="classefun.html#aadbb0164f8028ef61dbf76a2db6ff243" title="Take mapping map and return an array of arrays with the keys and values from the mapping. ">efun::unmkmapping()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a8c9bb41a965b9516ff6b86c97c35ab0c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mapping m_reallocate </td>
          <td>(</td>
          <td class="paramtype">mapping m&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int width&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a new mapping with <code>width</code> values per key and fill it with the values from mapping <code>m</code>. </p>
<p>If <code>m</code> has less than <code>width</code> values per key, the extra values in the result are set to 0. If <code>m</code> has more values per key, the extra values are ignored.</p>
<p>The mapping <code>m</code> is not changed.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mapping <a class="code" href="classefun.html#a8c9bb41a965b9516ff6b86c97c35ab0c">m_reallocate</a>(mapping m, int width)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line">mapping m = ([ <span class="stringliteral">&quot;foo&quot;</span>:1;2;3, <span class="stringliteral">&quot;bar&quot;</span>:4;5;6 ])</div>
<div class="line"></div>
<div class="line"><a class="code" href="classefun.html#a8c9bb41a965b9516ff6b86c97c35ab0c">m_reallocate</a>(m, 1) <span class="comment">// returns ([ &quot;foo&quot;:1,       &quot;bar&quot;:4 ])</span></div>
<div class="line"><a class="code" href="classefun.html#a8c9bb41a965b9516ff6b86c97c35ab0c">m_reallocate</a>(m, 4) <span class="comment">// returns ([ &quot;foo&quot;:1;2;3;0, &quot;bar&quot;:4;5;6;0 ])</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.6) -- suggested by Tubmud.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a9ae4e2d42d75ad4aa7f4e100c60c3d41" title="Reserve memory for a mapping. ">efun::m_allocate()</a>, <a class="el" href="classefun.html#a2bed0d3fd8a81f635ddf28b8f539d4c1" title="Returns an array with the values of mapping map. ">efun::m_values()</a>, <a class="el" href="classefun.html#abd02e530c8ad0620b241d0933fdc91da" title="Returns the number of values per key of mapping map. ">efun::widthof()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a2bed0d3fd8a81f635ddf28b8f539d4c1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed* m_values </td>
          <td>(</td>
          <td class="paramtype">mapping map&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int index&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an array with the values of mapping <code>map</code>. </p>
<p>If <code>index</code> is given as a number between 0 and the width of the mapping, the values from the given column are returned, else the values of the first column.</p>
<dl class="section user"><dt>note: The exact order of the values in the resulting arrays is not specified, and may vary after any change to the mapping. The only guarantee given is that if efun::m_indices() and efun::m_values() are taken at the same time, the order of both results is identical.</dt><dd></dd></dl>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed * <a class="code" href="classefun.html#a2bed0d3fd8a81f635ddf28b8f539d4c1">m_values</a>(mapping map)</div>
<div class="line">mixed * <a class="code" href="classefun.html#a2bed0d3fd8a81f635ddf28b8f539d4c1">m_values</a>(mapping map, int index)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line">mapping m = ([ <span class="stringliteral">&quot;foo&quot;</span>:1;2;3, <span class="stringliteral">&quot;bar&quot;</span>:4;5;6, <span class="stringliteral">&quot;baz&quot;</span>:7;8;9 ])</div>
<div class="line"><a class="code" href="classefun.html#a2bed0d3fd8a81f635ddf28b8f539d4c1">m_values</a>(m)    <span class="comment">// returns ({ 1, 4, 7 }) or some permutation thereof</span></div>
<div class="line"><a class="code" href="classefun.html#a2bed0d3fd8a81f635ddf28b8f539d4c1">m_values</a>(m, 0) <span class="comment">// returns ({ 1, 4, 7 }) (ditto)</span></div>
<div class="line"><a class="code" href="classefun.html#a2bed0d3fd8a81f635ddf28b8f539d4c1">m_values</a>(m, 1) <span class="comment">// returns ({ 2, 8, 9 }) (ditto)</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a588bcd8d5f59e8c2c08c0d989c530863" title="Returns 1 if the argument is a mapping, or 0 if it is not. ">efun::mappingp()</a>, <a class="el" href="classefun.html#a6cd46ef2f89a1b7f5a4ec5f4cb7beee1" title="The first form returns a mapping with indices from arr1 and values from arr2... ">efun::mkmapping()</a>, <a class="el" href="classefun.html#a706faae97294c390a3cd88cb080d509a" title="Returns an array containing the indices of mapping &#39;map&#39;. ">efun::m_indices()</a>, <a class="el" href="classefun.html#acc510db961553dfdf2856f0e1de7eefc" title="Add (or replace) an entry with index key in mapping map. ">efun::m_add()</a>, <a class="el" href="classefun.html#a7d2bbcf03098048f203304b517a88a29" title="Remove the entry with index &#39;key&#39; from mapping &#39;map&#39;. ">efun::m_delete()</a>, <a class="el" href="classefun.html#a1b26f2ff266e671649fc060bea19b228" title="Returns the number of elements of an array or struct, the number of characters in a string...">efun::sizeof()</a>, <a class="el" href="classefun.html#abd02e530c8ad0620b241d0933fdc91da" title="Returns the number of values per key of mapping map. ">efun::widthof()</a>, <a class="el" href="classefun.html#aadbb0164f8028ef61dbf76a2db6ff243" title="Take mapping map and return an array of arrays with the keys and values from the mapping. ">efun::unmkmapping()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a7e6879fb12b588c2762f5f34fe7f83c1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string make_shared_string </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Puts <code>str</code> in the table of shared strings of the game. </p>
<p>If the string is used by several variables/objects this saves memory. Keys of alists and mappings are always shared strings.</p>
<p>In LDMud 3.3, this function is no longer necessary: strings are shared as much as possible anyway, and the driver automatically converts untabled strings into tabled strings after some time.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a7e6879fb12b588c2762f5f34fe7f83c1">make_shared_string</a>(string str)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.6) -- following a suggestion from Tubmud.</div>
<div class="line">deprecated (3.3.531) -- This <span class="keyword">function</span> is no longer necessary because strings are shared as much as possible anyway, and the driver automatically converts untabled strings into tabled strings after some <a class="code" href="classefun.html#aa560fa38ca94599aa767ccb916e9bce7">time</a>.</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="a33260046a3141e3b6f24f730d13201b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string map </td>
          <td>(</td>
          <td class="paramtype">string arg&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mapping&#160;</td>
          <td class="paramname"><em>m </em>[, int idx]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Call the function <code>&lt;ob&gt;-&gt;&lt;func&gt;()</code> resp. </p>
<p>the closure <code>cl</code> for every element of the string, array, struct or mapping <code>arg</code>, and return a result made up from the returned values.</p>
<p>If <code>ob</code> is omitted, or neither a string nor an object, it defaults to <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code>.</p>
<p>If <code>arg</code> is an string, array or struct, the function will be called with each of the array/struct elements as first parameter, followed by the <code>extra</code> arguments. The result of the efun is an array/struct with all the results returned from the function calls. Thus the operation could be described as:</p>
<div class="fragment"><div class="line"><span class="keywordflow">foreach</span>(index) result[index] = ob-&gt;func(arg[index], extra...)</div>
</div><!-- fragment --><p> If <code>arg</code> is an string/array/struct, and a mapping is specified instead of a function, the result is an array/struct with the values found in the mapping for the original values, resp. with the original values for which no mapping entry exists. If a column index <code>idx</code> is given, that column of the mapping is used. In other words:</p>
<div class="fragment"><div class="line"><span class="keywordflow">foreach</span>(index)</div>
<div class="line">  <span class="keywordflow">if</span> (arg[index] exists as key in map)</div>
<div class="line">    result[index] = map[arg[index]] or map[arg[index], idx]</div>
<div class="line">  <span class="keywordflow">else</span></div>
<div class="line">    result[index] = arg[index]</div>
</div><!-- fragment --><p> If <code>arg</code> is a string, the only allowed replacement values are numbers, of which only the lower 8 bit will be considered.</p>
<p>If <code>arg</code> is a mapping, the function will be called with each of the mapping keys as first, and (if existing) the associated values as second parameter, followed by the <code>extra</code> arguments (these must not be protected references like &amp;(i[0]). The result of the efun is a mapping of all results of the function calls, stored under their corresponding key.</p>
<p>Depending on the width of the mapping <code>arg</code>, the operation can be described as:</p>
<div class="fragment"><div class="line"><span class="keywordflow">foreach</span> (key <span class="keywordflow">in</span> arg)</div>
<div class="line">  <span class="keywordflow">switch</span> (<a class="code" href="classefun.html#abd02e530c8ad0620b241d0933fdc91da">widthof</a>(arg))</div>
<div class="line">  <span class="keywordflow">case</span> 0:</div>
<div class="line">    result[key] = ob-&gt;func(key, 0, extra...)</div>
<div class="line">  <span class="keywordflow">case</span> 1:</div>
<div class="line">    result[key] = ob-&gt;func(key, arg[key], extra...)</div>
<div class="line">  <span class="keywordflow">else</span>  :</div>
<div class="line">    result[key] = ob-&gt;func( key</div>
<div class="line">                          , ({ arg[key,0] ...arg[key,width-1] })</div>
<div class="line">                          , extra...)</div>
</div><!-- fragment --><p> The advantage of this approach is that the two types of multi-dimensional mappings (mappings with multiple values per key, and mappings of arrays) can be treated in the same way.</p>
<p>Caution: the resulting mapping <em>always</em> has one value per key. </p>
<dl class="section user"><dt>note: This efun behaves like map_array(), but used with mappings generalises efun::map_indices()!</dt><dd></dd></dl>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed * <a class="code" href="classefun.html#a33260046a3141e3b6f24f730d13201b9">map</a>(mixed *arg, string func, <span class="keywordtype">string</span>|object ob, mixed extra...)</div>
<div class="line">mixed * map(mixed *arg, closure cl, mixed extra...)</div>
<div class="line">mixed * map(mixed *arg, mapping m [, int idx])</div>
<div class="line">mixed * map(struct arg, string func, <span class="keywordtype">string</span>|object ob, mixed extra...)</div>
<div class="line">mixed * map(struct arg, closure cl, mixed extra...)</div>
<div class="line">mixed * map(struct arg, mapping m [, int idx])</div>
<div class="line">mapping map(mapping arg, string func, <span class="keywordtype">string</span>|object ob, mixed extra...)</div>
<div class="line">mapping map(mapping arg, closure cl, mixed extra...)</div>
<div class="line"><span class="keywordtype">string</span> map(string arg, string func, <span class="keywordtype">string</span>|object ob, mixed extra...)</div>
<div class="line"><span class="keywordtype">string</span> map(string arg, closure cl, mixed extra...)</div>
<div class="line"><span class="keywordtype">string</span> map(string arg, mapping m [, int idx])</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line">arr = ({ 1, 2, 3, 4 });</div>
<div class="line">m = ([ 1:-1, 3:-3 ]);</div>
<div class="line"></div>
<div class="line"><a class="code" href="classefun.html#a33260046a3141e3b6f24f730d13201b9">map</a>(arr, #<span class="stringliteral">&#39;%, 2); // returns ({ 1, 0, 1, 0 })</span></div>
<div class="line"><span class="stringliteral">map(arr, m);      // returns ({ -1, 2, -3, 4 })</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.6) -- obsoletes map_array().</div>
<div class="line">changed (3.2.8) -- added the feature of mapping an array through a mapping.</div>
<div class="line">changed (3.3.439) -- added mapping of strings.</div>
<div class="line">changed (3.3.719) -- added the idx parameter <span class="keywordflow">for</span> mapping through mappings.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ac5e7282ed029a438608ee96f18052e33" title="Call the function &lt;ob&gt;-&gt;&lt;func&gt;() resp. ">efun::filter()</a>, <a class="el" href="classefun.html#a499fe72696a3dc34028138aa8f465ac8" title="ob-&gt;func() is called resp. ">efun::filter_indices()</a>, <a class="el" href="classefun.html#ae2e945661de01cfb0e12608d8851e8e7" title="ob-&gt;func() is called resp. ">efun::map_indices()</a>, <a class="el" href="classefun.html#afb24b3547fada366e5356ee5a0891d63" title="Similar to efun::map(), but calls arr[n]-&gt;fun(extra,...). ">efun::map_objects()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae2e945661de01cfb0e12608d8851e8e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mapping map_indices </td>
          <td>(</td>
          <td class="paramtype">mapping m&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">closure cl&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>ob-&gt;func()</code> is called resp. </p>
<p>cl applied to every element in the mapping, with the key of the element as first argument, and then the extra args that were given to map_indices (these args must not be protected references like &amp;(i[0])). The data item in the mapping is replaced by the return value of the function. ob can also be a file_name of an object.</p>
<p>If <code>ob</code> is omitted, or neither a string nor an object, it defaults to <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code>.</p>
<p>Note that if mapping m has more than one value per key, these are ignored: the resulting mapping always has one value per key.</p>
<p>Also note that the behaviour of this function is different from <code>map(&lt;array&gt;)</code>.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mapping <a class="code" href="classefun.html#ae2e945661de01cfb0e12608d8851e8e7">map_indices</a>(mapping m, string func, <span class="keywordtype">string</span>|object ob, ...)</div>
<div class="line">mapping <a class="code" href="classefun.html#ae2e945661de01cfb0e12608d8851e8e7">map_indices</a>(mapping m, closure cl, ...)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line">m = <a class="code" href="classefun.html#a6cd46ef2f89a1b7f5a4ec5f4cb7beee1">mkmapping</a>(<a class="code" href="classefun.html#a46c12392d13bc3a5c91c20a6f7de7c7c">users</a>());</div>
<div class="line">m = <a class="code" href="classefun.html#ae2e945661de01cfb0e12608d8851e8e7">map_indices</a>(m, #<span class="stringliteral">&#39;environment);</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.6) -- renamed from map_mapping() and complemented by map.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a33260046a3141e3b6f24f730d13201b9" title="Call the function &lt;ob&gt;-&gt;&lt;func&gt;() resp. ">efun::map()</a>, <a class="el" href="classefun.html#ac5e7282ed029a438608ee96f18052e33" title="Call the function &lt;ob&gt;-&gt;&lt;func&gt;() resp. ">efun::filter()</a>, <a class="el" href="classefun.html#a499fe72696a3dc34028138aa8f465ac8" title="ob-&gt;func() is called resp. ">efun::filter_indices()</a>, <a class="el" href="classefun.html#a82aceeaafc69a2ea441ad52f4657e216" title="Calls ob-&gt;func(key, value1, ..., valueN, extra,...) resp. ">efun::walk_mapping()</a>, <a class="el" href="classefun.html#adf2253b4467a0eb544f67ff5777d2fa2" title="For arrays and strings, returns the index of the first occurance of second arg in the first arg...">efun::member()</a>, <a class="el" href="classefun.html#a149395923f6aed5847a664b568d55124" title="If the mapping contains the key map, the corresponding values are assigned to the data arguments...">efun::m_contains()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="afb24b3547fada366e5356ee5a0891d63"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed* map_objects </td>
          <td>(</td>
          <td class="paramtype">string  *&#160;</td>
          <td class="paramname"><em>arr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string fun&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed extra&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Similar to <a class="el" href="classefun.html#a33260046a3141e3b6f24f730d13201b9" title="Call the function &lt;ob&gt;-&gt;&lt;func&gt;() resp. ">efun::map()</a>, but calls <code>arr[n]-&gt;fun(extra,...)</code>. </p>
<p>The returned value replaces the object/string in returned array. <code>arr</code> may contain a mixture of objects and object names as well.</p>
<p>Any number of extra arguments is allowed, which are all passed. 0-entries in arr are ignored.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed * <a class="code" href="classefun.html#afb24b3547fada366e5356ee5a0891d63">map_objects</a>(object *arr, string fun, mixed extra, ...)</div>
<div class="line">mixed * <a class="code" href="classefun.html#afb24b3547fada366e5356ee5a0891d63">map_objects</a>(string *arr, string fun, mixed extra, ...)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a33260046a3141e3b6f24f730d13201b9" title="Call the function &lt;ob&gt;-&gt;&lt;func&gt;() resp. ">efun::map()</a>, <a class="el" href="classefun.html#ac5e7282ed029a438608ee96f18052e33" title="Call the function &lt;ob&gt;-&gt;&lt;func&gt;() resp. ">efun::filter()</a>, <a class="el" href="classefun.html#aa561f6cfab3f611e89688d5aff8a5851" title="Similar to filter_array() but calls arr[n]-&gt;fun(extra, ...). ">efun::filter_objects()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a588bcd8d5f59e8c2c08c0d989c530863"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mappingp </td>
          <td>(</td>
          <td class="paramtype">mixed arg&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns 1 if the argument is a mapping, or 0 if it is not. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a588bcd8d5f59e8c2c08c0d989c530863">mappingp</a>(mixed arg)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a6cd46ef2f89a1b7f5a4ec5f4cb7beee1" title="The first form returns a mapping with indices from arr1 and values from arr2... ">efun::mkmapping()</a>, <a class="el" href="classefun.html#a706faae97294c390a3cd88cb080d509a" title="Returns an array containing the indices of mapping &#39;map&#39;. ">efun::m_indices()</a>, <a class="el" href="classefun.html#a2bed0d3fd8a81f635ddf28b8f539d4c1" title="Returns an array with the values of mapping map. ">efun::m_values()</a>, <a class="el" href="classefun.html#acc510db961553dfdf2856f0e1de7eefc" title="Add (or replace) an entry with index key in mapping map. ">efun::m_add()</a>, <a class="el" href="classefun.html#a7d2bbcf03098048f203304b517a88a29" title="Remove the entry with index &#39;key&#39; from mapping &#39;map&#39;. ">efun::m_delete()</a>, <a class="el" href="classefun.html#a1b26f2ff266e671649fc060bea19b228" title="Returns the number of elements of an array or struct, the number of characters in a string...">efun::sizeof()</a>, <a class="el" href="classefun.html#abd02e530c8ad0620b241d0933fdc91da" title="Returns the number of values per key of mapping map. ">efun::widthof()</a>, <a class="el" href="classefun.html#a62a23bfd4fb3823c9d808b3bff345980" title="The efun returns 1 if obj is a clone, and 0 if it is not. ">efun::clonep()</a>, <a class="el" href="classefun.html#af96696b3733777271624be5575c72726" title="Returns 1 if the argument is a closure. ">efun::closurep()</a>, <a class="el" href="classefun.html#a1493e7a68d0e7eb19f5f60d3c5761e9c" title="Returns 1 if the arg is a floating point number, 0 else. ">efun::floatp()</a>, <a class="el" href="classefun.html#acc5e526acbd3a54f8f9625cc1fdc7f75" title="Return 1 if arg is an object. ">efun::objectp()</a>, <a class="el" href="classefun.html#aae25e47ee6526e8297fa3d9c822a22be" title="Return 1 if arg is an integer number. ">efun::intp()</a>, <a class="el" href="classefun.html#af28bd368a436849fb5195eb34ca53af3" title="returns true if arg was passed by reference to the current function, instead of the usual call-by-val...">efun::referencep()</a>, <a class="el" href="classefun.html#a3c94a0dd0f29e1f90f48d17e53fec879" title="Return 1 if arg is a pointer, i.e. ">efun::pointerp()</a>, <a class="el" href="classefun.html#ad45cc3605ecbe92c52b8c1c8408da017" title="Return 1 if arg is a string. ">efun::stringp()</a>, <a class="el" href="classefun.html#aa0bbde61230276ac5155fa61b54c63f2" title="Returns 1 if value is a symbol. ">efun::symbolp()</a>, <a class="el" href="classefun.html#a1f75bb586fd744aa865714d4bab27b34" title="Return 1 if arg is a struct. ">efun::structp()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ab609a7360590189eb371e1229b440599"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object <a class="el" href="classmaster.html">master</a> </td>
          <td>(</td>
          <td class="paramtype">int dont_load&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the master object. </p>
<p>If <code>dont_load</code> is false, the function first makes sure that the master object exists.</p>
<p>If <code>dont_load</code> is true, the function just returns the current master object, or 0 if the current master has been destructed.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#ab609a7360590189eb371e1229b440599">master</a>()</div>
<div class="line">object <a class="code" href="classmaster.html">master</a>(int dont_load)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.10)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="a227176867b02eec1fee0731bead44a48"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed* match_command </td>
          <td>(</td>
          <td class="paramtype">string command&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object origin&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Take the command <code>command</code>, parse it, and return an array of all matching actions added to <code>origin</code> (read: <code>origin</code> is the object 'issuing' the command). </p>
<p>Each entry in the result array is itself an array of:</p>
<ul>
<li>string [<code>CMDM_VERB</code>]: The matched verb.</li>
<li>string [<code>CMDM_ARG</code>]: The argument string remaining, or 0 if none.</li>
<li>object [<code>CMDM_OBJECT</code>]: The object defining the action.</li>
<li>string [<code>CMDM_FUN</code>]: The name of the function to call in <code>CMDM_OBJECT</code>, which may be static.</li>
</ul>
<p>The efun is useful for both debugging, and for implementing your own <a class="el" href="driver_hook_command.html">H_COMMAND</a> handling.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed * <a class="code" href="classefun.html#a227176867b02eec1fee0731bead44a48">match_command</a>(string command, object origin)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.259)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="driver_hook_overview.html">hook</a>, <a class="el" href="classefun.html#acb6f567dff1d19321033c6b4e5b92303" title="Low-level access to the command parser: take the command, parse it into verb and argument and call th...">efun::execute_command()</a>, <a class="el" href="classefun.html#ae0ce5d3f989d2054ce6b26d5fb22ab6d" title="Execute str as a command given directly by the user. ">efun::command()</a>, <a class="el" href="classefun.html#afe008c0344508051dcc4d07d79dd0bc4" title="Store str as the error message given instead of the default message &quot;What ?&quot;. ">efun::notify_fail()</a>, <a class="el" href="classefun.html#a5d1ff18e70214ed8123b3038b933f7c1" title="Return an array describing the current command stack. ">efun::command_stack()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a739d49b2b01d227fb40edfa965954dc7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int float max </td>
          <td>(</td>
          <td class="paramtype">int|float  *&#160;</td>
          <td class="paramname"><em>arg_array</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determaxe the maximum value of the arguments and return it. </p>
<p>If <a class="el" href="classefun.html#a739d49b2b01d227fb40edfa965954dc7" title="Determaxe the maximum value of the arguments and return it. ">efun::max()</a> is called with an array (which must not be empty) as only argument, it returns the maximum value of the array contents.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span>    <a class="code" href="classefun.html#a739d49b2b01d227fb40edfa965954dc7">max</a>(string arg, ...)</div>
<div class="line">string    max(string *arg_array)</div>
<div class="line"><span class="keywordtype">int</span>|<span class="keywordtype">float</span> max(<span class="keywordtype">int</span>|float arg, ...)</div>
<div class="line"><span class="keywordtype">int</span>|<span class="keywordtype">float</span> max(<span class="keywordtype">int</span>|float *arg_array)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><a class="code" href="classefun.html#a739d49b2b01d227fb40edfa965954dc7">max</a>(1)                     <span class="comment">// returns 1</span></div>
<div class="line">max(1, 1.1)                <span class="comment">// returns 1.1</span></div>
<div class="line">max(&quot;foo&quot;, &quot;bar&quot;)          <span class="comment">// returns &quot;foo&quot;</span></div>
<div class="line">max( ({ <span class="stringliteral">&quot;foo&quot;</span>, <span class="stringliteral">&quot;bar&quot;</span> }) )  <span class="comment">// returns &quot;foo&quot;</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.9)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a744a0a207cfdcfea8095cf0ae7cab584" title="Determine the minimum value of the arguments and return it. ">efun::min()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a4f75178a00fc81b8384aa3a757d0902f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string md5 </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>arg </em>[, int iterations]</td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create and return a <em>MD5</em> message digest from <code>arg</code>. </p>
<p><code>arg</code> may be a string, or an array of numbers (each considered to be a character, ignoring all but the lowest byte).</p>
<p>If <code>iterations</code> is given as a number greater than 0, it is the number of iterations used in the digest calculation. If omitted, the driver executes just one iteration.</p>
<p>The efun costs 5 ticks per iteration.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a4f75178a00fc81b8384aa3a757d0902f">md5</a>(<span class="keywordtype">string</span> arg [, int iterations])</div>
<div class="line">string <a class="code" href="classefun.html#a4f75178a00fc81b8384aa3a757d0902f">md5</a>(<span class="keywordtype">int</span> *  arg [, int iterations])</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> s;</div>
<div class="line"></div>
<div class="line">s = <a class="code" href="classefun.html#a4f75178a00fc81b8384aa3a757d0902f">md5</a>(<span class="stringliteral">&quot;Hello&quot;</span>);</div>
<div class="line">s = <a class="code" href="classefun.html#a4f75178a00fc81b8384aa3a757d0902f">md5</a>( ({ <span class="charliteral">&#39;H&#39;</span>, <span class="charliteral">&#39;e&#39;</span>, <span class="charliteral">&#39;l&#39;</span>, <span class="charliteral">&#39;l&#39;</span>, <span class="charliteral">&#39;o&#39;</span> }) );</div>
<div class="line">s = <a class="code" href="classefun.html#a4f75178a00fc81b8384aa3a757d0902f">md5</a>( ({ <span class="charliteral">&#39;H&#39;</span>, <span class="charliteral">&#39;e&#39;</span>, <span class="charliteral">&#39;l&#39;</span>, <span class="charliteral">&#39;l&#39;</span>, <span class="charliteral">&#39;o&#39;</span> }), 2 );</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.9)</div>
<div class="line">changed (3.2.12) -- added number arrays as argument, and the number of iterations.</div>
<div class="line">changed (3.3.717) -- added the iteration-based evaluation cost.</div>
<div class="line">deprecated (3.3.719) -- obsoleted by <a class="code" href="classefun.html#a2ae8a96180aad2e6b720a153546b2c25">hash</a>.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a293b5dd324033d04f2b6da0f6ba4654b" title="Crypt the string str the first two characters from the string seed as a seed. ">efun::crypt()</a>, <a class="el" href="classefun.html#a31c2c39301c169902bdd78369dab70ae" title="Crypt the string str the first two characters from the string seed as a seed. ">efun::md5_crypt()</a>, <a class="el" href="classefun.html#ac53ffe809c88eeb6af75fedb41d9bfc3" title="Create and return a SHA1 message digest from arg. ">efun::sha1()</a>, <a class="el" href="classefun.html#a2ae8a96180aad2e6b720a153546b2c25" title="Calculate the hash from arg as determined by method. ">efun::hash()</a>, <a class="el" href="classefun.html#a2fcc22b543fc2a8229c4739af28fbcae" title="Calculate the Hashed Message Authenication Code for value based on the digest method and the password...">efun::hmac()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a31c2c39301c169902bdd78369dab70ae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string md5_crypt </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string seed&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Crypt the string <code>str</code> the first two characters from the string <code>seed</code> as a seed. </p>
<p>If <code>seed</code> is an integer, then a random seed is used.</p>
<p>The result has the first two characters as the seed.</p>
<p>The efun uses the MD5 algorithm for encryption, and the result is compatible with the Apache password encryption.</p>
<p>If you want to let enter password information without echo, <a class="el" href="classefun.html#af611da839c18f550d1639881f3f3cade" title="Enable next line of user input to be sent to the function fun as an argument. ">efun::input_to()</a> can be used with special argument.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a31c2c39301c169902bdd78369dab70ae">md5_crypt</a>(string str, int seed)</div>
<div class="line">string <a class="code" href="classefun.html#a31c2c39301c169902bdd78369dab70ae">md5_crypt</a>(string str, string seed)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a293b5dd324033d04f2b6da0f6ba4654b" title="Crypt the string str the first two characters from the string seed as a seed. ">efun::crypt()</a>, <a class="el" href="classefun.html#af611da839c18f550d1639881f3f3cade" title="Enable next line of user input to be sent to the function fun as an argument. ">efun::input_to()</a>, <a class="el" href="classefun.html#a4f75178a00fc81b8384aa3a757d0902f" title="Create and return a MD5 message digest from arg. ">efun::md5()</a>, <a class="el" href="classefun.html#a31c2c39301c169902bdd78369dab70ae" title="Crypt the string str the first two characters from the string seed as a seed. ">efun::md5_crypt()</a>, <a class="el" href="classefun.html#a2ae8a96180aad2e6b720a153546b2c25" title="Calculate the hash from arg as determined by method. ">efun::hash()</a>, <a class="el" href="classefun.html#a2fcc22b543fc2a8229c4739af28fbcae" title="Calculate the Hashed Message Authenication Code for value based on the digest method and the password...">efun::hmac()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="adf2253b4467a0eb544f67ff5777d2fa2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int member </td>
          <td>(</td>
          <td class="paramtype">mapping m&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed key&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For arrays and strings, returns the index of the first occurance of second arg in the first arg, or -1 if none found. </p>
<p>If <code>start</code> is given and non-negative, the search starts at that position. A start position beyond the end of the string or array will cause the efun to return -1.</p>
<p>For mappings it checks, if key is present in mapping m and returns 1 if so, 0 if key is not in m.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#adf2253b4467a0eb544f67ff5777d2fa2">member</a>(mixed *array, mixed elem [, int start])</div>
<div class="line">int <a class="code" href="classefun.html#adf2253b4467a0eb544f67ff5777d2fa2">member</a>(string s, <span class="keywordtype">int</span> elem [, int start])</div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#adf2253b4467a0eb544f67ff5777d2fa2">member</a>(mapping m, mixed key)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.3.556) -- added the start parameter.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ac150e7930f842694fd159c15bee0fcc8" title="For arrays and strings, returns the index of the last occurance of second arg in the first arg...">efun::rmember()</a>, <a class="el" href="driver_syntax_mappings.html">mapping</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a744a0a207cfdcfea8095cf0ae7cab584"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int float min </td>
          <td>(</td>
          <td class="paramtype">int|float  *&#160;</td>
          <td class="paramname"><em>arg_array</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determine the minimum value of the arguments and return it. </p>
<p>If called with an array (which must not be empty) as only argument, it returns the minimum value of the array contents.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a744a0a207cfdcfea8095cf0ae7cab584">min</a>(string arg, ...)</div>
<div class="line">string <a class="code" href="classefun.html#a744a0a207cfdcfea8095cf0ae7cab584">min</a>(string *arg_array)</div>
<div class="line"><span class="keywordtype">int</span>|<span class="keywordtype">float</span> <a class="code" href="classefun.html#a744a0a207cfdcfea8095cf0ae7cab584">min</a>(<span class="keywordtype">int</span>|float arg, ...)</div>
<div class="line"><span class="keywordtype">int</span>|<span class="keywordtype">float</span> <a class="code" href="classefun.html#a744a0a207cfdcfea8095cf0ae7cab584">min</a>(<span class="keywordtype">int</span>|float *arg_array)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><a class="code" href="classefun.html#a744a0a207cfdcfea8095cf0ae7cab584">min</a>(1)                     <span class="comment">// returns 1</span></div>
<div class="line"><a class="code" href="classefun.html#a744a0a207cfdcfea8095cf0ae7cab584">min</a>(1, -1.1)               <span class="comment">// returns -1.1</span></div>
<div class="line"><a class="code" href="classefun.html#a744a0a207cfdcfea8095cf0ae7cab584">min</a>(&quot;foo&quot;, &quot;bar&quot;)          <span class="comment">// returns &quot;bar&quot;</span></div>
<div class="line"><a class="code" href="classefun.html#a744a0a207cfdcfea8095cf0ae7cab584">min</a>( ({ <span class="stringliteral">&quot;foo&quot;</span>, <span class="stringliteral">&quot;bar&quot;</span> }) )  <span class="comment">// returns &quot;bar&quot;</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.9)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a739d49b2b01d227fb40edfa965954dc7" title="Determaxe the maximum value of the arguments and return it. ">efun::max()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a04954648bada0ed418aae3b3d42e552c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mkdir </td>
          <td>(</td>
          <td class="paramtype">string path&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Make a directory named path. </p>
<p>Return 1 for success and 0 for failure.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a04954648bada0ed418aae3b3d42e552c">mkdir</a>(string path)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a2fb85ac66a311b390a291be362fe3f50" title="Remove directory dir. ">efun::rmdir()</a>, <a class="el" href="classefun.html#aaec3d134cb8138d71a07a58e90503ff1" title="Remove the file. ">efun::rm()</a>, <a class="el" href="classefun.html#a457ca99271d2dd61e3378e952e34291a" title="This function takes a path as argument and returns an array of file names and attributes in that dire...">efun::get_dir()</a>, <a class="el" href="classefun.html#a0c87cd9fec8ea173263102f5340e8eeb" title="Return: ">efun::file_size()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a6cd46ef2f89a1b7f5a4ec5f4cb7beee1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mapping mkmapping </td>
          <td>(</td>
          <td class="paramtype">struct st&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The first form returns a mapping with indices from <code>arr1</code> and values from <code>arr2</code>... </p>
<p>. arr1[0] will index arr2...[0], arr1[1] will index arr2...[1], etc. If the arrays are of unequal size, the mapping will only contain as much elements as are in the smallest array.</p>
<p>The second form converts the given struct <code>st</code> into a mapping using the struct member names as index values.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mapping <a class="code" href="classefun.html#a6cd46ef2f89a1b7f5a4ec5f4cb7beee1">mkmapping</a>(mixed *arr1, mixed *arr2, ...)</div>
<div class="line">mapping <a class="code" href="classefun.html#a6cd46ef2f89a1b7f5a4ec5f4cb7beee1">mkmapping</a>(struct st)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><a class="code" href="classefun.html#a6cd46ef2f89a1b7f5a4ec5f4cb7beee1">mkmapping</a>( ({ 1, 2 }), ({ 10, 11 }), ({ 20, 21, 22}))</div>
<div class="line"><span class="comment">// returns ([ 1:10;20, 2:11;21 ])</span></div>
<div class="line"></div>
<div class="line">struct s { <span class="keywordtype">int</span> a; <span class="keywordtype">int</span> *b; <span class="keywordtype">int</span> c; };</div>
<div class="line"><a class="code" href="classefun.html#a6cd46ef2f89a1b7f5a4ec5f4cb7beee1">mkmapping</a>( (&lt;s&gt; a: 1, b: ({ 2, 3 }), c: 3 )</div>
<div class="line"><span class="comment">// returns ([ &quot;a&quot;:1, &quot;b&quot;:({2,3}), &quot;c&quot;:3 ])</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.3.433) -- added the conversion from structs</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="driver_syntax_mappings.html">mapping</a>, <a class="el" href="classefun.html#a588bcd8d5f59e8c2c08c0d989c530863" title="Returns 1 if the argument is a mapping, or 0 if it is not. ">efun::mappingp()</a>, <a class="el" href="classefun.html#a706faae97294c390a3cd88cb080d509a" title="Returns an array containing the indices of mapping &#39;map&#39;. ">efun::m_indices()</a>, <a class="el" href="classefun.html#a2bed0d3fd8a81f635ddf28b8f539d4c1" title="Returns an array with the values of mapping map. ">efun::m_values()</a>, <a class="el" href="classefun.html#acc510db961553dfdf2856f0e1de7eefc" title="Add (or replace) an entry with index key in mapping map. ">efun::m_add()</a>, <a class="el" href="classefun.html#a7d2bbcf03098048f203304b517a88a29" title="Remove the entry with index &#39;key&#39; from mapping &#39;map&#39;. ">efun::m_delete()</a>, <a class="el" href="classefun.html#a1b26f2ff266e671649fc060bea19b228" title="Returns the number of elements of an array or struct, the number of characters in a string...">efun::sizeof()</a>, <a class="el" href="classefun.html#abd02e530c8ad0620b241d0933fdc91da" title="Returns the number of values per key of mapping map. ">efun::widthof()</a>, <a class="el" href="classefun.html#aadbb0164f8028ef61dbf76a2db6ff243" title="Take mapping map and return an array of arrays with the keys and values from the mapping. ">efun::unmkmapping()</a>, <a class="el" href="classefun.html#a6744067ae555fa96eede33f8b186f2e8" title="The given array, mapping or struct data is returned as a struct. ">efun::to_struct()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae6926710136aed0f66cfd4b825055e2f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mktime </td>
          <td>(</td>
          <td class="paramtype">int  *&#160;</td>
          <td class="paramname"><em>ts</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If the argument <code>ts</code> is an array with 9 elements (int) according to the result of <a class="el" href="classefun.html#acd45e9336d29a4f03307ff89318e26ee" title="Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0:00, and return the time in ...">efun::localtime()</a> or <a class="el" href="classefun.html#af44be4217f00942db63875e6988a0f56" title="Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0:00, and return the time in ...">efun::gmtime()</a>, this function returns the number of seconds passed since the epoch (<code>00:00:00 UTC, January 1, 1970</code>). </p>
<p>This can be used to store a date or time as an integer value or to compute differences betweens two different dates or times.</p>
<p>The array <code>ts</code> has to have the following structure:</p>
<table class="doxtable">
<tr>
<th>place </th><th>contains  </th></tr>
<tr>
<td>int <code>TM_SEC</code> (0) </td><td>Seconds (0..59) </td></tr>
<tr>
<td>int <code>TM_MIN</code> (1) </td><td>Minutes (0..59) </td></tr>
<tr>
<td>int <code>TM_HOUR</code> (2) </td><td>Hours (0..23) </td></tr>
<tr>
<td>int <code>TM_MDAY</code> (3) </td><td>Day of the month (1..31) </td></tr>
<tr>
<td>int <code>TM_MON</code> (4) </td><td>Month of the year (0..11) </td></tr>
<tr>
<td>int <code>TM_YEAR</code> (5) </td><td>Year (e.g. 2001) </td></tr>
<tr>
<td>int <code>TM_WDAY</code> (6) </td><td>Day of the week (Sunday = 0) </td></tr>
<tr>
<td>int <code>TM_YDAY</code> (7) </td><td>Day of the year (0..365) </td></tr>
<tr>
<td>int <code>TM_ISDST</code> (8) </td><td>TRUE during daylight saving time </td></tr>
</table>
<p><code>TM_YDAY</code> and <code>TM_WDAY</code> are ignored and can contain arbitrary integer values.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#ae6926710136aed0f66cfd4b825055e2f">mktime</a>(int *ts)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">A date and time (user input) shall be stored as unix timestamp. In the below example, <code>unixtime</code> holds the unix timestamp corresponding to "Wed Oct 24 10:48:00 2007":</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> unixtime = <a class="code" href="classefun.html#ae6926710136aed0f66cfd4b825055e2f">mktime</a>( ({0, 48, 09, 24, 09, 2007, 0, 01, 0}) );</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.718)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a0063aa195f706f56b790a045c06afcb1" title="Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0.00 and convert it to a nice...">efun::ctime()</a>, <a class="el" href="classefun.html#af44be4217f00942db63875e6988a0f56" title="Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0:00, and return the time in ...">efun::gmtime()</a>, <a class="el" href="classefun.html#acd45e9336d29a4f03307ff89318e26ee" title="Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0:00, and return the time in ...">efun::localtime()</a>, <a class="el" href="classefun.html#aa560fa38ca94599aa767ccb916e9bce7" title="Return number of seconds elapsed since `1. ">efun::time()</a>, <a class="el" href="classefun.html#a3b84da42b3b5f804d14762ddfcc3da91" title="Return the time since `1. ">efun::utime()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a4190a089c412b88e938a4a34865e8366"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void move_object </td>
          <td>(</td>
          <td class="paramtype">mixed item&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed dest&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The item, which can be an object_name or an object, is moved into it's new environment dest, which can also be an object_name or an object. </p>
<dl class="section user"><dt>note: For !compat mode, the traditional implementation required <code>item</code> to be the calling object.</dt><dd></dd></dl>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a4190a089c412b88e938a4a34865e8366">move_object</a>(mixed item, mixed dest)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.1) -- the innards of <a class="code" href="classefun.html#a4190a089c412b88e938a4a34865e8366">move_object</a>() are implemented in the mudlib, using the M_MOVE_OBJECT0/1 driver hooks, and <a class="code" href="classefun.html#a4190a089c412b88e938a4a34865e8366">move_object</a>() might as well be an simul-<a class="code" href="classefun.html">efun</a></div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classapplied.html#acb2aa7bd8fd0c69f05f71907fd17b74c" title="Does some housekeeping to ensure consistency and then destructs the current object. ">applied::remove()</a>, <a class="el" href="classapplied.html#a02fd73d861ef2e4aabb38c0c9ff82947" title="move_object implements the details of moving objects. ">applied::init()</a>, <a class="el" href="classefun.html#a005a3e81b3a804ec38fbbe1fdadd7beb" title="This efun is for backward compatibility only. ">efun::transfer()</a>, <a class="el" href="driver_hook_overview.html">hook</a>, <a class="el" href="classefun.html#af10a6a3226140343c43ee7b4d0c4878b" title="The item is moved into its new environment env, which may be 0. ">efun::set_environment()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a972de3027b97c5e0a9862c259e5e41ee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float negate </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unary minus. </p>
<p>Returns the negative argument.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a972de3027b97c5e0a9862c259e5e41ee">negate</a>(<span class="keywordtype">int</span>)</div>
<div class="line">float <a class="code" href="classefun.html#a972de3027b97c5e0a9862c259e5e41ee">negate</a>(<span class="keywordtype">float</span>)</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="a50b582275c81599cd83339f4bf394b02"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int net_connect </td>
          <td>(</td>
          <td class="paramtype">string host&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int port&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open a non-blocking TCP network connection to <code>host</code> and <code>port</code>. </p>
<p>On success, the connection is bound to the current object and the lfun <a class="el" href="classapplied.html#a6b064bd51c85a6644ac5d38ae5276815" title="When the driver created a new connection (either by accepting it or by creating it with efun::net_con...">applied::logon()</a> is called in the object.</p>
<p>Returns one of the following values:</p>
<p><code>NC_SUCCESS</code> Success <code>NC_EUNKNOWNHOST</code> the host address could not be resolved <code>NC_ENOSOCKET</code> error during socket creation <code>NC_ENOBIND</code> socket could not be bound <code>NC_ENOCONNECT</code> socket could not be connected</p>
<p>(Details of the last three errors can be found in the driver's error log.) <code>NC_ECONNREFUSED</code> remote host not listening/refusing <code>NC_EMCONN</code> too many pending connections (transient, try again later) <code>NC_ENORESSOURCES</code> insufficient system ressources (transient, try again later)</p>
<p>If the driver is configured to support IPv6, <code>host</code> is first interpreted as IPv6 hostname. If that fails, <code>host</code> is then interpretd as IPv4 hostname.</p>
<p>If the connection can't be established immediately, the efun returns 'success' and the driver will check in the background for the progress of the connection. When it is established, <a class="el" href="classapplied.html#a6b064bd51c85a6644ac5d38ae5276815" title="When the driver created a new connection (either by accepting it or by creating it with efun::net_con...">applied::logon()</a> will be called in the object. If the connection fails, <code>logon(-1)</code> will be called in the object.</p>
<p>The efun raises a privilege violation ("net_connect", host, port).</p>
<dl class="section user"><dt>limit: A non-blocking connect doesn't imply a non-blocking forward name resolution. If you provide a hostname instead of an IP address to connect to, the driver will block until the name is resolved. This may be an issue, depending on how fast your nameserver replies. Non-blocking forward DNS resolution can currently only be achieved using ERQ_LOOKUP.</dt><dd></dd></dl>
<ul>
<li>First version 1992 by Snake and LynX for Nemesis.</li>
<li>Improved 1993 by Junky.</li>
</ul>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a50b582275c81599cd83339f4bf394b02">net_connect</a>(string host, int port)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.10)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classapplied.html#a6b064bd51c85a6644ac5d38ae5276815" title="When the driver created a new connection (either by accepting it or by creating it with efun::net_con...">applied::logon()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae9a22225f7ecf80a5bcd52261d1b27c0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int next_bit </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int start&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int find_cleared&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the number of the next bit in bitstring <code>str</code> after position <code>start</code>. </p>
<p>Usually this is the next set bit, but if <code>find_cleared</code> is given and not 0, the position of the next cleared bit is returned.</p>
<p>Note that finding cleared bits after the last set bit is limited to the actual length of <code>str</code>.</p>
<p>Each character contains 6 bits. So you can store a value between 0 and 63 in one character (2^6=64). Starting character is the blank char:(U+00020 SPACE) which has the value 0. The first character in the string is the one with the lowest bits (0-5).</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#ae9a22225f7ecf80a5bcd52261d1b27c0">next_bit</a>(string str, int start)</div>
<div class="line">int <a class="code" href="classefun.html#ae9a22225f7ecf80a5bcd52261d1b27c0">next_bit</a>(string str, int start, int find_cleared)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">The below will write <code>2</code> and <code>4</code>:</p>
<div class="fragment"><div class="line"><span class="keywordtype">string</span> s;</div>
<div class="line"><span class="keywordtype">int</span> p;</div>
<div class="line"></div>
<div class="line">s = <a class="code" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a>(<span class="stringliteral">&quot;&quot;</span>, 4); s = <a class="code" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a>(s, 2);</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">for</span> (p = -1; -1 != (p = <a class="code" href="classefun.html#ae9a22225f7ecf80a5bcd52261d1b27c0">next_bit</a>(s, p); )</div>
<div class="line">    <a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(p+<span class="stringliteral">&quot;\n&quot;</span>);</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#aae4303bfb007375b5f182294e1fb274e" title="Return the new string where bit n is set in string str. ">efun::set_bit()</a>, <a class="el" href="classefun.html#a9820c9a0cc652f0f9054e8dd9d7e56b0" title="Return the new string where bit n is cleared in string str. ">efun::clear_bit()</a>, <a class="el" href="classefun.html#a1f992595c33434f4657015ffe765d2bc" title="Return 0 or 1 if bit n was set in string str. ">efun::test_bit()</a>, <a class="el" href="classefun.html#add033af196d131772d3a99373bd14cd9" title="Return the number of the last set bit in bitstring str. ">efun::last_bit()</a>, <a class="el" href="classefun.html#a4219dca74e569f12726df9bd9e11669d" title="Count the number of set bits in bitstring str and return the number as result. ">efun::count_bits()</a>, <a class="el" href="classefun.html#a481a071b1544dd0eb27556efb3768cb6" title="str1 and str2 are both bitstrings. ">efun::and_bits()</a>, <a class="el" href="classefun.html#af939d33eba6b16a15e87e0737206b0e2" title="str1 and str2 are both bitstrings. ">efun::or_bits()</a>, <a class="el" href="classefun.html#aeda3e1403911d376dd0db4b9b501dc62" title="str1 and str2 are both bitstrings. ">efun::xor_bits()</a>, <a class="el" href="classefun.html#ad37a5b85653678afc3bba3b0fb152a3f" title="Invert the status of all bits in bitstring str and return the new string. ">efun::invert_bits()</a>, <a class="el" href="classefun.html#afcb4b753b24046893741d3c3e0c33e62" title="Copy the bitrange [&lt;em&gt;srcstart&lt;/em&gt;..&lt;em&gt;srcstart&lt;/em&gt;+&lt;em&gt;copylen&lt;/em&gt;] from bitstring src and copy...">efun::copy_bits()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ac27f5d278c0e4c64697f3737a973e0e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object next_inventory </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get next object in the same inventory as ob. </p>
<p>If ob is not given, the current object will be used.</p>
<p>This efun is mostly used together with the efun <a class="el" href="classefun.html#aa33aa7a0208e0b334af0d05bc9386d3d" title="Get the first object in the inventory of ob, where ob is either an object or the file name of an obje...">efun::first_inventory()</a>.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#ac27f5d278c0e4c64697f3737a973e0e4">next_inventory</a>()</div>
<div class="line">object <a class="code" href="classefun.html#ac27f5d278c0e4c64697f3737a973e0e4">next_inventory</a>(object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#aa33aa7a0208e0b334af0d05bc9386d3d" title="Get the first object in the inventory of ob, where ob is either an object or the file name of an obje...">efun::first_inventory()</a>, <a class="el" href="classefun.html#ab14beb1b749c799c34e81490763bc26f" title="Returns an array of the objects contained in the inventory of ob, or of this_object(), if no arg given. ">efun::all_inventory()</a>, <a class="el" href="classefun.html#a657cd0dbc848f16af8079c5d43386952" title="Returns the surrounding object of obj, which may be given by name. ">efun::environment()</a>, <a class="el" href="classefun.html#a28946d9af16fa288cf2f243de7f7aa12" title="Returns an array of the objects contained in the inventory of ob (or this_object() if no arg given) a...">efun::deep_inventory()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="afe008c0344508051dcc4d07d79dd0bc4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int notify_fail </td>
          <td>(</td>
          <td class="paramtype">closure cl&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Store <code>str</code> as the error message given instead of the default message "What ?". </p>
<p>The result is always 0.</p>
<p>If a closure is given, it is executed to return the error message string, but not before all attempts to execute the commandline failed (read: not at the time of the call to <a class="el" href="classefun.html#afe008c0344508051dcc4d07d79dd0bc4" title="Store str as the error message given instead of the default message &quot;What ?&quot;. ">efun::notify_fail()</a>). The closure receives as argument the original commandgiver; usually it is identical to <code><a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af" title="Return the current command giver. ">this_player()</a></code>, unless <a class="el" href="driver_hook_modify_command.html">H_MODIFY_COMMAND</a> changed that.</p>
<p>If <a class="el" href="classefun.html#afe008c0344508051dcc4d07d79dd0bc4" title="Store str as the error message given instead of the default message &quot;What ?&quot;. ">efun::notify_fail()</a> is called more than once for this command, only the last call will be used. However, calls to <a class="el" href="classefun.html#afe008c0344508051dcc4d07d79dd0bc4" title="Store str as the error message given instead of the default message &quot;What ?&quot;. ">efun::notify_fail()</a> in nested commands have no effect on this command.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#afe008c0344508051dcc4d07d79dd0bc4">notify_fail</a>(string str)</div>
<div class="line">int <a class="code" href="classefun.html#afe008c0344508051dcc4d07d79dd0bc4">notify_fail</a>(closure cl)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">The idea of this function is to give better error messages instead of simply 'What ?'.</p>
<p>A naive to write a message when a simple command fails is:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(message);</div>
<div class="line"><span class="keywordflow">return</span> 1;</div>
</div><!-- fragment --><p> Unfortunately, this message will print before other objects get a chance to evaluate the verb. It is better to use:</p>
<div class="fragment"><div class="line"><span class="keywordflow">return</span> <a class="code" href="classefun.html#afe008c0344508051dcc4d07d79dd0bc4">notify_fail</a>(message);</div>
</div><!-- fragment --><p> This way, the driver only prints a single failure message&ndash;and only if the verb fails all of the objects that get a chance to handle it.</p>
<p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.6) -- <span class="keywordflow">return</span> type from <span class="keywordtype">void</span> to int.</div>
<div class="line">changed (3.2.7) -- notify-fail settings are saved over nested commands, and NPCs can see their notify-fail messages.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#aa1a689311c00f31fcf25985a16a6eaef" title="Set up a local function fun to be called when user input matches the command cmd. ...">efun::add_action()</a>, <a class="el" href="classefun.html#ae0ce5d3f989d2054ce6b26d5fb22ab6d" title="Execute str as a command given directly by the user. ">efun::command()</a>, <a class="el" href="classefun.html#ae1f08790d1820834e9fb63b7e686f75d" title="Return the verb of the current command, of 0 if not executing from a command. ">efun::query_verb()</a>, <a class="el" href="classefun.html#a9d55fac98f23ae1ce0e8c4394fe63716" title="Give the text of the current command, or 0 if not executing from a command. ">efun::query_command()</a>, <a class="el" href="classefun.html#a81fa5c01de0fc1a44122e08ee02f667d" title="If flag is not given or 0: return the string or closure which was last set as error message for this ...">efun::query_notify_fail()</a>, <a class="el" href="driver_hook_overview.html">hook</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aab9124b64b9785b1e39a723b16ea255d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed* object_info </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int what&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int index&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns some internal information about object <code>ob</code>, collected in an array. </p>
<p>Argument <code>what</code> determines which information is returned. </p>
<pre class="fragment"> The result is usually an array. However, if \p index is specified, the result is the value from position \p index of the array which would have been returned normally.

 Caution: The possible values of \p what, and the indices of the returned arrays are defined in the include file &lt;objectinfo.h&gt;, and may change in future versions of the driver!
 \p what == `OINFO_BASIC`:

 This call returns basic information about \p ob:

 int [`OIB_HEART_BEAT`]:       1 if \p ob has a heart_beat, 0 else.
 int [`OIB_IS_WIZARD`]:        1 if \p ob has the wizard flag set, 0 else. This entry is always 0 when efun::set_is_wizard() is not available.
 int [`OIB_ENABLE_COMMANDS`]:  1 if \p ob can give commands, 0 else.
 int [`OIB_CLONE`]:            1 if \p ob is a clone, 0 else.
 int [`OIB_DESTRUCTED`]:       1 if \p ob is destructed, 0 else.
 int [`OIB_SWAPPED`]:          1 if \p ob is swapped, 0 else.
 int [`OIB_ONCE_INTERACTIVE`]: 1 if \p ob was once interactive, 0 else.
 int [`OIB_RESET_STATE`]:      1 if \p ob is (still) reset, 0 else.
 int [`OIB_WILL_CLEAN_UP`]:    1 if \p ob will call applied::clean_up(), 0 else.
 int [`OIB_LAMBDA_REFERENCED`]: 1 if \p ob has lambdas, 0 else.
 int [`OIB_SHADOW`]:           1 if \p ob has a shadow structure tied to it, 0 if not.
 int [`OIB_REPLACED`]:         1 if the program for \p ob was replaced, 0 else.
 int [`OIB_NEXT_RESET`]:   time of the next reset
 int [`OIB_TIME_OF_REF`]:  time of the last call to \p ob
 int [`OIB_NEXT_CLEANUP`]: time of the next data cleanup
 int [`OIB_REF`]:          number of references to \p ob
 int [`OIB_GIGATICKS`] and [`OIB_TICKS`]: together, these numbers give the accumulated evaluation cost spend in \p ob
 int [`OIB_SWAP_NUM`]:     the swap number for \p ob program, or -1 if not swapped.
 int [`OIB_PROG_SWAPPED`]: 1 if \p ob's program is swapped, 0 else.
 int [`OIB_VAR_SWAPPED`]:  1 if \p ob's variables are swapped, 0 else.
 int [`OIB_NAME`]:         \p ob's object name.
 int [`OIB_LOAD_NAME`]:    \p ob's load name.
 object [`OIB_NEXT_ALL`]:  next object in the object list.
 object [`OIB_PREV_ALL`]:  previous object in the object list.

 \p what == `OINFO_POSITION`:

 This call returns information about \p ob's position in the
 global list of objects:

 object [`OIP_NEXT`]: next object in the object list.
 object [`OIP_PREV`]: previous object in the object list.
 int    [`OIP_POS`]:  position of \p ob in list, counting from 0 up.

 This call can be expensive in computing time.

 \p what == `OINFO_MEMORY`:

 This call returns information about the program \p ob uses:

 int    [`OIM_REF`]:            number of references to the program.
 string [`OIM_NAME`]:           name of program.
 int    [`OIM_PROG_SIZE`]:      size of the program.
 int    [`OIM_NUM_FUNCTIONS`]:  number of functions in the program.
 int    [`OIM_SIZE_FUNCTIONS`]: size needed for the function structs.
 int    [`OIM_NUM_VARIABLES`]:  number of variables in the program.
 int    [`OIM_SIZE_VARIABLES`]: size needed for the variable structs.
 int    [`OIM_NUM_STRINGS`]:    number of strings in the program.
 int    [`OIM_SIZE_STRINGS`]:   size needed for the string pointers.
 int    [`OIM_SIZE_STRINGS_DATA`]: size needed for the string data, scaled down according to the extend of data sharing.
 int    [`OIM_SIZE_STRINGS_TOTAL`]: unmodified size needed for the string data.
 int    [`OIM_NUM_INCLUDES`]:   number of included files in the program.
 int    [`OIM_NUM_INHERITED`]:  number of inherited programs.
 int    [`OIM_SIZE_INHERITED`]: size needed for the inherit structs.
 int    [`OIM_TOTAL_SIZE`]:     total size of the program.
 int    [`OIM_DATA_SIZE`]:      total size of the values held in the object's variables, scaled down according to the extend of data sharing.
 int    [`OIM_DATA_SIZE_TOTAL`]: unmodified total size of the values held in the object's variables
 int    [`OIM_NO_INHERIT`]:     1 if the program can't be inherited.
 int    [`OIM_NO_CLONE`]:       1 if the program/blueprint can't be cloned.
 int    [`OIM_NO_SHADOW`]:      1 if the program's functions can't be shadowed.
 int    [`OIM_SHARE_VARIABLES`]:  1 if clones of this program share their initial variable values with the blueprint.

 This call swaps in the program if necessary.

 @par note: The `OIM_SIZE_xxx` entries only give the size spent on the structures and pointers, not the size of the variable data, function code, and strings themselves.



 @par Synopsis:
</pre> <div class="fragment"><div class="line">mixed * <a class="code" href="classefun.html#aab9124b64b9785b1e39a723b16ea255d">object_info</a>(object ob, int what)</div>
<div class="line">mixed * <a class="code" href="classefun.html#aab9124b64b9785b1e39a723b16ea255d">object_info</a>(object ob, int what, int index)</div>
</div><!-- fragment --><dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">      introduced (3.2.6)</div>
<div class="line">      changed (3.2.7) -- new basic result OIB_REPLACED.</div>
<div class="line"></div>
<div class="line">basic result OIB_IS_WIZARD is always 0 if <a class="code" href="classefun.html#a584f6cb45cd80428d8fb9a8563f4c08a">set_is_wizard</a> is not available.</div>
<div class="line"></div>
<div class="line">basic result OIB_APPROVED is gone.</div>
<div class="line">      new basic result OIB_REPLACED.</div>
<div class="line">      basic result OIB_IS_WIZARD is always 0 if <a class="code" href="classefun.html#a584f6cb45cd80428d8fb9a8563f4c08a">set_is_wizard</a> is not available.</div>
<div class="line">      basic result OIB_APPROVED is gone.</div>
<div class="line">      changed (3.2.8) -- added OIM_DATA_SIZE to the result of OINFO_MEMORY.</div>
<div class="line">      changed (3.2.9) -- added the index mechanism, OIM_NUM_INCLUDES, OIM_NO_INHERIT, OIM_NO_SHADOW, OIM_NO_CLONE, OIM_SIZE_STRINGS_DATA, OIM_SIZE_STRINGS_TOTAL, and OIM_DATA_SIZE_TOTAL to the result of OINFO_MEMORY.</div>
<div class="line">      changed (3.3.378) -- added the OIM_SHARE_VARIABLES to the result of OINFO_MEMORY.</div>
<div class="line">      changed (3.3.654) -- added the OIB_NEXT_CLEANUP to the result of OINFO_BASIC.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a7a7cc530c7ebabb824ee97c5b0a4f18b" title="OBSOLETED_IN_MASTER_IGNORE_FOR_NOW Gather some driver internal debug information according to the set...">efun::debug_info()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a4eae6e47ac233059b5613c83cf5855e0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string object_name </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the name of an object <code>ob</code> or, if no argument is given, of the current object. </p>
<p>As a special case, if <code>ob</code> is 0, the function returns 0.</p>
<p>This name is the name under which the object is stored in the muds object table. It is initialised at the creation of the object such that blueprints are named after the file they are compiled from (without the trailing '.c'), and clones receive the name of their blueprint, extended by "#" followed by a unique non-negative number. These rules also apply to virtual objects - the real name/type of virtual objects is ignored.</p>
<p>The name of an object can be changed with <a class="el" href="classefun.html#af4de6d3ac3373ec8a4d78ebe32c068ff" title="Give the object ob a new object name new_name. ">efun::rename_object()</a>, and <a class="el" href="classefun.html#a4eae6e47ac233059b5613c83cf5855e0" title="Get the name of an object ob or, if no argument is given, of the current object. ">efun::object_name()</a> will reflect any of these changes.</p>
<p>The returned name always begins with '/' (absolute path), except when the parser runs in <a class="el" href="driver_topics_predefined.html">__COMPAT_MODE__</a>.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a4eae6e47ac233059b5613c83cf5855e0">object_name</a>()</div>
<div class="line">string <a class="code" href="classefun.html#a4eae6e47ac233059b5613c83cf5855e0">object_name</a>(object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">The below is guaranteed to be true for all objects ob that are not destructed:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a12339d2d254849a1342fd79bdb89f638">find_object</a>(<a class="code" href="classefun.html#a4eae6e47ac233059b5613c83cf5855e0">object_name</a>(ob)) <span class="comment">// ob</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.9) -- 0 is accepted as argument</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ac48b7a182d90218465e671cd6f2dcd68" title="Clone a new object from definition name, or alternatively from the object template. ">efun::clone_object()</a>, <a class="el" href="classefun.html#a844fa0ed8be8f868d0d4b7a98a20f707" title="Return the load name for the object obj which may be given directly or by its name. ">efun::load_name()</a>, <a class="el" href="classefun.html#a8ef004651be5805383aca5b9a3f8291b" title="Load the object from the file name (which can not be empty) and return it. ">efun::load_object()</a>, <a class="el" href="classefun.html#a12339d2d254849a1342fd79bdb89f638" title="Find an object with the object_name str. ">efun::find_object()</a>, <a class="el" href="classefun.html#aefff271f12574b28300fa6ff9ac5ab87" title="Returns the creation time of the given object. ">efun::object_time()</a>, <a class="el" href="classefun.html#a29da7cfd7195efb63c82bd788a609e93" title="Returns the name of the program of obj, resp. ">efun::program_name()</a>, <a class="el" href="classefun.html#af4de6d3ac3373ec8a4d78ebe32c068ff" title="Give the object ob a new object name new_name. ">efun::rename_object()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aefff271f12574b28300fa6ff9ac5ab87"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int object_time </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the creation time of the given object. </p>
<p>Default is for <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code>, if no arg is given.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#aefff271f12574b28300fa6ff9ac5ab87">object_time</a>()</div>
<div class="line">int <a class="code" href="classefun.html#aefff271f12574b28300fa6ff9ac5ab87">object_time</a>(object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#acf0bef5d723794d143a7d159773b0520" title="Returns the creation (compilation) time of the object&#39;s program. ">efun::program_time()</a>, <a class="el" href="classefun.html#a29da7cfd7195efb63c82bd788a609e93" title="Returns the name of the program of obj, resp. ">efun::program_name()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="acc5e526acbd3a54f8f9625cc1fdc7f75"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int objectp </td>
          <td>(</td>
          <td class="paramtype">mixed arg&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return 1 if arg is an object. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#acc5e526acbd3a54f8f9625cc1fdc7f75">objectp</a>(mixed arg)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a62a23bfd4fb3823c9d808b3bff345980" title="The efun returns 1 if obj is a clone, and 0 if it is not. ">efun::clonep()</a>, <a class="el" href="classefun.html#af96696b3733777271624be5575c72726" title="Returns 1 if the argument is a closure. ">efun::closurep()</a>, <a class="el" href="classefun.html#a1493e7a68d0e7eb19f5f60d3c5761e9c" title="Returns 1 if the arg is a floating point number, 0 else. ">efun::floatp()</a>, <a class="el" href="classefun.html#a588bcd8d5f59e8c2c08c0d989c530863" title="Returns 1 if the argument is a mapping, or 0 if it is not. ">efun::mappingp()</a>, <a class="el" href="classefun.html#aae25e47ee6526e8297fa3d9c822a22be" title="Return 1 if arg is an integer number. ">efun::intp()</a>, <a class="el" href="classefun.html#af28bd368a436849fb5195eb34ca53af3" title="returns true if arg was passed by reference to the current function, instead of the usual call-by-val...">efun::referencep()</a>, <a class="el" href="classefun.html#a3c94a0dd0f29e1f90f48d17e53fec879" title="Return 1 if arg is a pointer, i.e. ">efun::pointerp()</a>, <a class="el" href="classefun.html#ad45cc3605ecbe92c52b8c1c8408da017" title="Return 1 if arg is a string. ">efun::stringp()</a>, <a class="el" href="classefun.html#aa0bbde61230276ac5155fa61b54c63f2" title="Returns 1 if value is a symbol. ">efun::symbolp()</a>, <a class="el" href="classefun.html#a1f75bb586fd744aa865714d4bab27b34" title="Return 1 if arg is a struct. ">efun::structp()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af939d33eba6b16a15e87e0737206b0e2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string or_bits </td>
          <td>(</td>
          <td class="paramtype">string str1&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string str2&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>str1</code> and <code>str2</code> are both bitstrings. </p>
<p>The result of the function is a bitstring with the binary-or of <code>str1</code> and <code>str2</code>, ie. a string in which a bit is set if the corresponding bit in <code>str1</code> or <code>str2</code> (or both) is set.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#af939d33eba6b16a15e87e0737206b0e2">or_bits</a>(string str1, string str2)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> s1, s2, s3;</div>
<div class="line"></div>
<div class="line">s1 = <a class="code" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a>(<span class="stringliteral">&quot;&quot;</span>, 3);</div>
<div class="line">s1 = <a class="code" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a>(s1, 15);</div>
<div class="line"><span class="comment">// s1 is &quot;( (&quot;</span></div>
<div class="line"></div>
<div class="line">s2 = <a class="code" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a>(<span class="stringliteral">&quot;&quot;</span>, 3);</div>
<div class="line">s2 = <a class="code" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a>(s2, 4);</div>
<div class="line"><span class="comment">// s2 is &quot;8&quot;</span></div>
<div class="line"></div>
<div class="line">s3 = <a class="code" href="classefun.html#af939d33eba6b16a15e87e0737206b0e2">or_bits</a>(s1, s2);</div>
<div class="line"><span class="comment">// s3 is now &quot;8 (&quot;, ie. a bitstring with bits 3, 4 and 15 set.</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a9820c9a0cc652f0f9054e8dd9d7e56b0" title="Return the new string where bit n is cleared in string str. ">efun::clear_bit()</a>, <a class="el" href="classefun.html#aae4303bfb007375b5f182294e1fb274e" title="Return the new string where bit n is set in string str. ">efun::set_bit()</a>, <a class="el" href="classefun.html#a1f992595c33434f4657015ffe765d2bc" title="Return 0 or 1 if bit n was set in string str. ">efun::test_bit()</a>, <a class="el" href="classefun.html#ae9a22225f7ecf80a5bcd52261d1b27c0" title="Return the number of the next bit in bitstring str after position start. ">efun::next_bit()</a>, <a class="el" href="classefun.html#add033af196d131772d3a99373bd14cd9" title="Return the number of the last set bit in bitstring str. ">efun::last_bit()</a>, <a class="el" href="classefun.html#a4219dca74e569f12726df9bd9e11669d" title="Count the number of set bits in bitstring str and return the number as result. ">efun::count_bits()</a>, <a class="el" href="classefun.html#a481a071b1544dd0eb27556efb3768cb6" title="str1 and str2 are both bitstrings. ">efun::and_bits()</a>, <a class="el" href="classefun.html#aeda3e1403911d376dd0db4b9b501dc62" title="str1 and str2 are both bitstrings. ">efun::xor_bits()</a>, <a class="el" href="classefun.html#ad37a5b85653678afc3bba3b0fb152a3f" title="Invert the status of all bits in bitstring str and return the new string. ">efun::invert_bits()</a>, <a class="el" href="classefun.html#afcb4b753b24046893741d3c3e0c33e62" title="Copy the bitrange [&lt;em&gt;srcstart&lt;/em&gt;..&lt;em&gt;srcstart&lt;/em&gt;+&lt;em&gt;copylen&lt;/em&gt;] from bitstring src and copy...">efun::copy_bits()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a0a52a8bbc893c49d46cb6f61fa5ea07a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int parse_command </td>
          <td>(</td>
          <td class="paramtype">string cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object  *&#160;</td>
          <td class="paramname"><em>arr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string fmt&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed  &amp;&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classefun.html#a0a52a8bbc893c49d46cb6f61fa5ea07a" title="efun::parse_command() is basically a spiffed up sscanf operating on word basis and targeted at recogn...">efun::parse_command()</a> is basically a spiffed up sscanf operating on word basis and targeted at recognizing object descriptions from command strings. </p>
<p>The efun takes the command string <code>cmd</code> and the object(s) <code>env/<code>arr</code> and</code> tries to match it against the format string <code>fmt</code>. Successfully matched elements are assigned to the variables <code>var</code>.... The result from the efun is 1 if the command could be fully matched, and 0 otherwise.</p>
<p>If the objects are given as a single object <code>env</code>, the efun matches against the given object and all objects contained therein. Otherwise, if the objects are given as an array <code>arr</code> of objects, the efun matches only against the given objects.</p>
<p>The format string <code>fmt</code> consists of words, syntactic markers, and %-directives for the values to parse and return in the variables. A typical example is <code>'get' / 'take' i</code> or <code>'spray' / 'paint' [paint] i &gt;&gt;</code>&lt;&lt;. The elements in detail are:</p>
<p>'word': obligatory text [word]: optional text / : Alternative marker o : Single item, object s : Any text w : Any word p : One of a list of prepositions.</p>
<p>If the variable associated with p is used to pass a list of words to the efun, the matching will take only against this list.</p>
<p>l : non-compat: Living objects compat: a single living object</p>
<p>i : Any objects d : Number &gt;= 0, or when given textual: 0-99.</p>
<p>A <em>word</em> in this context is any sequence of characters not containing a space. 'living objects' are searched by calls to the (simul)efuns <code>find_player()</code> and <code>find_living()</code>: both functions have to accept a name as argument and return the object for this name, or 0 if there is none.</p>
<p>The results assigned to the variables by the %-directives are:</p>
<p>o : returns an object s : returns a string of words w : returns a string of one word p : if passed empty: a string</p>
<p>if passed as array of words: var[0] is the matched word</p>
<p>i : returns an array with the following content: [0]: int: the count/number recognized in the object spec &gt; 0: a count (e.g. 'three', '4') &lt; 0: an ordinal (e.g. 'second', 'third') = 0: 'all' or a generic plural such as 'apples'</p>
<p>[1..]: object: all(!) objects matching the item description. In the <code>env</code> form this may be the whole recursive inventory of the <code>env</code> object.</p>
<p>It is up to the caller to interpret the recognized numeral and to apply it on the list of matched objects.</p>
<p>l : non-compat: as i, except that only living objects are returned.</p>
<p>compat: as o, except that only a living object is returned.</p>
<p>i (and non-compat-l) match descriptions like 'three red roses', 'all nasty bugs' or 'second blue sword'.</p>
<dl class="section user"><dt>note: Patterns of type: "%s %w %i" might not work as one would expect. w will always succeed so the arg corresponding to s will always be empty.</dt><dd></dd></dl>
<p>To make the efun useful it must have a certain support from the mudlib: it calls a set of functions in objects to get the information it needs to parse a string.</p>
<ol type="1">
<li>string &gt;&gt;*&lt;&lt;parse_command_id_list() Normal singular names of the object.</li>
<li>string &gt;&gt;*&lt;&lt;parse_command_plural_id_list() - optional Plural forms of the names returned by 1. If this function doesn't exist, the parser tries to pluralize the names returned by 1.</li>
<li>string &gt;&gt;*&lt;&lt;parse_command_adjectiv_id_list() - optional All adjectives associated with this object.</li>
</ol>
<p>All names and adjectives may consist of several words separated by spaces.</p>
<p>These functions should exist in all objects and are therefore best put into a mandatory inherit file (e.g. /std/object.c).</p>
<p>In addition the master object may offer the same functions to provide reasonable defaults (like 'thing' as generic singular name):</p>
<p>string &gt;&gt;*&lt;&lt;parse_command_id_list()</p>
<ul>
<li>Would normally return: <code>({ "one", "thing" })</code></li>
</ul>
<p>string &gt;&gt;*&lt;&lt;parse_command_plural_id_list()</p>
<ul>
<li>Would normally return: <code>({ "ones", "things", "them" })</code></li>
</ul>
<p>string &gt;&gt;*&lt;&lt;parse_command_adjectiv_id_list()</p>
<ul>
<li>Would normally return <code>({ "iffish" })</code></li>
</ul>
<p>Two additional functions in the master object provide the default list of prepositions (needed for p) and the single 'all' word:</p>
<p>string &gt;&gt;*&lt;&lt;parse_command_prepos_list()</p>
<ul>
<li>Would normally return: <code>({ "in", "on", "under", "behind", "beside" })</code></li>
</ul>
<p>string parse_command_all_word()</p>
<ul>
<li>Would normally return: "all"</li>
</ul>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a0a52a8bbc893c49d46cb6f61fa5ea07a">parse_command</a>(string cmd, <span class="keywordtype">object</span>  env, string fmt, mixed &amp;var, ...)</div>
<div class="line">int <a class="code" href="classefun.html#a0a52a8bbc893c49d46cb6f61fa5ea07a">parse_command</a>(string cmd, object *arr, string fmt, mixed &amp;var, ...)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> *items;</div>
<div class="line"><a class="code" href="classefun.html#a0a52a8bbc893c49d46cb6f61fa5ea07a">parse_command</a>(<span class="stringliteral">&quot;take apple&quot;</span>,<a class="code" href="classefun.html#a657cd0dbc848f16af8079c5d43386952">environment</a>(<a class="code" href="classefun.html#a23dc6aa65a7477371df722a647b661af">this_player</a>()),</div>
<div class="line">              <span class="stringliteral">&quot; &#39;get&#39; / &#39;take&#39; %i &quot;</span>, items);</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.3.258) -- removed the compat-mode <a class="code" href="classefun.html#a0a52a8bbc893c49d46cb6f61fa5ea07a">parse_command</a>().</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a45e3a155fb859f16c2600eac07df15f5" title="Parse a string str using the format fmt. ">efun::sscanf()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af515fed93c159176fd6f70b68583000d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pg_close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close the database connection for the current object, if there is one. </p>
<p>The function is available only if the driver is compiled with PostgreSQL support. In that case, <a class="el" href="driver_topics_predefined.html">__PGSQL__</a> is defined.</p>
<p>The efun triggers a privilege violation ("pgsql", "pg_close").</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#af515fed93c159176fd6f70b68583000d">pg_close</a>()</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="a2627e35aea75411cdb12f292a0f59fa2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int pg_connect </td>
          <td>(</td>
          <td class="paramtype">string conn&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">closure cl&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed extra&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open a database connection as directed by <code>conn</code>, and assign the callback function <code>fun/<code>cl</code> with</code> the optional <code>extra</code> parameters to it. </p>
<p>The object holding the callback function becomes the controlling object; obiously it is an error to assign more than one connection to the same controlling object.</p>
<p>The <code>conn</code> string is in the format accepted by Postgres' <code>PQconnectStart()</code> API functions. Pass an empty string to use the default options, or a string holding the `'&lt;key&gt;=</p>
<p>'` options separated by whitespace.</p>
<p>The most useful options are:</p>
<p>dbname The database name</p>
<p>user The user name to connect as.</p>
<p>password Password to be used.</p>
<p>Return 0 on success, and -1 on failure.</p>
<p>The function is available only if the driver is compiled with PostgreSQL support. In that case, <a class="el" href="driver_topics_predefined.html">__PGSQL__</a> is defined.</p>
<p>The efun triggers a privilege violation ("pgsql", "pg_connect").</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a2627e35aea75411cdb12f292a0f59fa2">pg_connect</a>(string conn, string fun)</div>
<div class="line">int <a class="code" href="classefun.html#a2627e35aea75411cdb12f292a0f59fa2">pg_connect</a>(string conn, string fun, <span class="keywordtype">string</span>|object obj, mixed extra, ...)</div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a2627e35aea75411cdb12f292a0f59fa2">pg_connect</a>(string conn, closure cl, mixed extra, ...)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.445)</div>
<div class="line">changed (3.3.640) -- added the privilege violation.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a9cb6bbf099caea3b28576b74c16af36b" title="Queue a new query query to the database connection on the current object. ">efun::pg_query()</a>, <a class="el" href="classefun.html#a8257ddb4d5bb730ffe7ad169e41832cf" title="Return the number of pending queries for the connection on the given object obj (default is the curre...">efun::pg_pending()</a>, <a class="el" href="classefun.html#a2b8133dc1526061d917d0c1fadfc77f2" title="Convert the string str into a string that is correctly interpretated for usage as a string in efun::p...">efun::pg_conv_string()</a>, <a class="el" href="classefun.html#af515fed93c159176fd6f70b68583000d" title="Close the database connection for the current object, if there is one. ">efun::pg_close()</a>, <a class="el" href="classmaster.html#afaf1545f7ccfbb3d897293150f5a45ca" title="Validate the execution of a privileged operation. ">master::privilege_violation()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a2b8133dc1526061d917d0c1fadfc77f2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string pg_conv_string </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert the string <code>str</code> into a string that is correctly interpretated for usage as a string in <a class="el" href="classefun.html#a9cb6bbf099caea3b28576b74c16af36b" title="Queue a new query query to the database connection on the current object. ">efun::pg_query()</a>, e.g. </p>
<p><code>'</code> is replaced with <code>\'</code> and so on.</p>
<p>The function is available only if the driver is compiled with PostgreSQL support. In that case, <a class="el" href="driver_topics_predefined.html">__PGSQL__</a> is defined.</p>
<p>The efun triggers a privilege violation ("pgsql", "pg_connect").</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a2b8133dc1526061d917d0c1fadfc77f2">pg_conv_string</a>(string str)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.708)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a9cb6bbf099caea3b28576b74c16af36b" title="Queue a new query query to the database connection on the current object. ">efun::pg_query()</a>, <a class="el" href="classefun.html#a8257ddb4d5bb730ffe7ad169e41832cf" title="Return the number of pending queries for the connection on the given object obj (default is the curre...">efun::pg_pending()</a>, <a class="el" href="classefun.html#a2b8133dc1526061d917d0c1fadfc77f2" title="Convert the string str into a string that is correctly interpretated for usage as a string in efun::p...">efun::pg_conv_string()</a>, <a class="el" href="classefun.html#af515fed93c159176fd6f70b68583000d" title="Close the database connection for the current object, if there is one. ">efun::pg_close()</a>, <a class="el" href="classmaster.html#afaf1545f7ccfbb3d897293150f5a45ca" title="Validate the execution of a privileged operation. ">master::privilege_violation()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a8257ddb4d5bb730ffe7ad169e41832cf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int pg_pending </td>
          <td>(</td>
          <td class="paramtype">object obj&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the number of pending queries for the connection on the given object <code>obj</code> (default is the current object). </p>
<p>If the object has no database connection, return -1.</p>
<p>The function is available only if the driver is compiled with PostgreSQL support. In that case, <a class="el" href="driver_topics_predefined.html">__PGSQL__</a> is defined.</p>
<p>The efun triggers a privilege violation ("pgsql", "pg_pending").</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a8257ddb4d5bb730ffe7ad169e41832cf">pg_pending</a>()</div>
<div class="line">int <a class="code" href="classefun.html#a8257ddb4d5bb730ffe7ad169e41832cf">pg_pending</a>(object obj)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.445)</div>
<div class="line">changed (3.3.640) -- added the privilege violation.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a2627e35aea75411cdb12f292a0f59fa2" title="Open a database connection as directed by conn, and assign the callback function fun/cl with the opti...">efun::pg_connect()</a>, <a class="el" href="classefun.html#a2b8133dc1526061d917d0c1fadfc77f2" title="Convert the string str into a string that is correctly interpretated for usage as a string in efun::p...">efun::pg_conv_string()</a>, <a class="el" href="classefun.html#a9cb6bbf099caea3b28576b74c16af36b" title="Queue a new query query to the database connection on the current object. ">efun::pg_query()</a>, <a class="el" href="classefun.html#af515fed93c159176fd6f70b68583000d" title="Close the database connection for the current object, if there is one. ">efun::pg_close()</a>, <a class="el" href="classmaster.html#afaf1545f7ccfbb3d897293150f5a45ca" title="Validate the execution of a privileged operation. ">master::privilege_violation()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a9cb6bbf099caea3b28576b74c16af36b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int pg_query </td>
          <td>(</td>
          <td class="paramtype">string query&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int flags&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Queue a new query <code>query</code> to the database connection on the current object. </p>
<p>Return the unique id of the query. The query result itself will be passed as argument to the callback function.</p>
<p><code>flags</code> can be one of these values:</p>
<ul>
<li><code>PG_RESULT_ARRAY</code>: Pass the query result as array.</li>
<li><code>PG_RESULT_MAP</code>: Pass the query result as mapping.</li>
</ul>
<p>The function is available only if the driver is compiled with PostgreSQL support. In that case, <a class="el" href="driver_topics_predefined.html">__PGSQL__</a> is defined.</p>
<p>The efun triggers a privilege violation ("pgsql", "pg_query").</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a9cb6bbf099caea3b28576b74c16af36b">pg_query</a>(string query)</div>
<div class="line">int <a class="code" href="classefun.html#a9cb6bbf099caea3b28576b74c16af36b">pg_query</a>(string query, int flags)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.445)</div>
<div class="line">changed (3.3.640) -- added the privilege violation.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a2627e35aea75411cdb12f292a0f59fa2" title="Open a database connection as directed by conn, and assign the callback function fun/cl with the opti...">efun::pg_connect()</a>, <a class="el" href="classefun.html#a2b8133dc1526061d917d0c1fadfc77f2" title="Convert the string str into a string that is correctly interpretated for usage as a string in efun::p...">efun::pg_conv_string()</a>, <a class="el" href="classefun.html#a8257ddb4d5bb730ffe7ad169e41832cf" title="Return the number of pending queries for the connection on the given object obj (default is the curre...">efun::pg_pending()</a>, <a class="el" href="classefun.html#af515fed93c159176fd6f70b68583000d" title="Close the database connection for the current object, if there is one. ">efun::pg_close()</a>, <a class="el" href="classmaster.html#afaf1545f7ccfbb3d897293150f5a45ca" title="Validate the execution of a privileged operation. ">master::privilege_violation()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a3c94a0dd0f29e1f90f48d17e53fec879"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int pointerp </td>
          <td>(</td>
          <td class="paramtype">mixed arg&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return 1 if arg is a pointer, i.e. </p>
<p>an array.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a3c94a0dd0f29e1f90f48d17e53fec879">pointerp</a>(mixed arg)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a62a23bfd4fb3823c9d808b3bff345980" title="The efun returns 1 if obj is a clone, and 0 if it is not. ">efun::clonep()</a>, <a class="el" href="classefun.html#af96696b3733777271624be5575c72726" title="Returns 1 if the argument is a closure. ">efun::closurep()</a>, <a class="el" href="classefun.html#a1493e7a68d0e7eb19f5f60d3c5761e9c" title="Returns 1 if the arg is a floating point number, 0 else. ">efun::floatp()</a>, <a class="el" href="classefun.html#a588bcd8d5f59e8c2c08c0d989c530863" title="Returns 1 if the argument is a mapping, or 0 if it is not. ">efun::mappingp()</a>, <a class="el" href="classefun.html#acc5e526acbd3a54f8f9625cc1fdc7f75" title="Return 1 if arg is an object. ">efun::objectp()</a>, <a class="el" href="classefun.html#aae25e47ee6526e8297fa3d9c822a22be" title="Return 1 if arg is an integer number. ">efun::intp()</a>, <a class="el" href="classefun.html#af28bd368a436849fb5195eb34ca53af3" title="returns true if arg was passed by reference to the current function, instead of the usual call-by-val...">efun::referencep()</a>, <a class="el" href="classefun.html#ad45cc3605ecbe92c52b8c1c8408da017" title="Return 1 if arg is a string. ">efun::stringp()</a>, <a class="el" href="classefun.html#aa0bbde61230276ac5155fa61b54c63f2" title="Returns 1 if value is a symbol. ">efun::symbolp()</a>, <a class="el" href="classefun.html#a1f75bb586fd744aa865714d4bab27b34" title="Return 1 if arg is a struct. ">efun::structp()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a23db3b9d4dcad4bf886083af59f2f5a2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float pow </td>
          <td>(</td>
          <td class="paramtype">int|&#160;</td>
          <td class="paramname"><em>float base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int|&#160;</td>
          <td class="paramname"><em>float exp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The function returns the value of <code>base</code> raised to the power of <code>exp</code>. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">float</span> <a class="code" href="classefun.html#a23db3b9d4dcad4bf886083af59f2f5a2">pow</a>(<span class="keywordtype">int</span>|float base, <span class="keywordtype">int</span>|float exp)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><a class="code" href="classefun.html#a23db3b9d4dcad4bf886083af59f2f5a2">pow</a>(-2, 3)      <span class="comment">// returns -8.0</span></div>
<div class="line"><a class="code" href="classefun.html#a23db3b9d4dcad4bf886083af59f2f5a2">pow</a>(8, 1.0/3.0) <span class="comment">// returns 2.0</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.7)</div>
<div class="line">changed (3.2.9) -- added integers as arguments.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a50fe46ccac04a290922b0752c2dfa4a5" title="The exponential function. ">efun::exp()</a>, <a class="el" href="classefun.html#a14fd4cedd664420252059fe942d96424" title="Returns the natural logarithm of its argument. ">efun::log()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a63902725c750bf04e6a6383310dd3610"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object present </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object env&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This efun checks if an object is present in a given environment. </p>
<p>The object is identified by id <code>str</code> or by an object <code>ob</code>. This latter form of the efun can be used as a fast way to test for the presence of a known object.</p>
<p>When searching objects by id, the efun by default returns the first object found matching the id. In order to search for other than the first object, a number can be specified either directly as the argument <code>n</code>, or implicetely inside the <code>str</code> in the form "`id` \p n".</p>
<p>By default, the efun searches first in the inventory of <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code>, then in its environment. However, if <code>env</code> is given, the efun searches just inside <code>env</code>.</p>
<p>When searching both inventory and environment of <a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">efun::this_object()</a>, the numbering is applied linear over both spaces (see examples).</p>
<p>The driver identifies objects by calling <a class="el" href="classapplied.html#a9c09256888ad9f9ce5cd49a5e45cbe8e" title="Let the object identify itself. ">applied::id()</a> in each object.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#a63902725c750bf04e6a6383310dd3610">present</a>(string str)</div>
<div class="line">object <a class="code" href="classefun.html#a63902725c750bf04e6a6383310dd3610">present</a>(string str, int n)</div>
<div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#a63902725c750bf04e6a6383310dd3610">present</a>(string str, object env)</div>
<div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#a63902725c750bf04e6a6383310dd3610">present</a>(string str, int n, object env)</div>
<div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#a63902725c750bf04e6a6383310dd3610">present</a>(object ob)</div>
<div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#a63902725c750bf04e6a6383310dd3610">present</a>(object ob, object env)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">Find the first 'chest' object within the calling object:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a63902725c750bf04e6a6383310dd3610">present</a>(<span class="stringliteral">&quot;chest&quot;</span>);</div>
</div><!-- fragment --><p> Find the second 'chest' object within the calling object:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a63902725c750bf04e6a6383310dd3610">present</a>(<span class="stringliteral">&quot;chest 2&quot;</span>)</div>
</div><!-- fragment --><p> Find the first 'chest 2' object within the calling object:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a63902725c750bf04e6a6383310dd3610">present</a>(<span class="stringliteral">&quot;chest 2&quot;</span>, 1)</div>
</div><!-- fragment --><p> Assuming there is one "chest" inside the current object, and two in its environment:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a63902725c750bf04e6a6383310dd3610">present</a>(<span class="stringliteral">&quot;chest&quot;</span>, 1) <span class="comment">// returns the chest inside</span></div>
<div class="line"><a class="code" href="classefun.html#a63902725c750bf04e6a6383310dd3610">present</a>(&quot;chest&quot;, 2) <span class="comment">// returns the first chest outside</span></div>
<div class="line"><a class="code" href="classefun.html#a63902725c750bf04e6a6383310dd3610">present</a>(&quot;chest&quot;, 3) <span class="comment">// returns the second chest outside</span></div>
</div><!-- fragment --><p> A typical 2.4.5-implementation of the <code>do &lt;em&gt;id&lt;/em&gt; &lt;em&gt;n&lt;/em&gt;</code> command style is:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> init() { <a class="code" href="classefun.html#aa1a689311c00f31fcf25985a16a6eaef">add_action</a>(<span class="stringliteral">&quot;open_chest&quot;</span>, <span class="stringliteral">&quot;open&quot;</span>); }</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> open_chest (<span class="keywordtype">string</span> str) {</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="classefun.html#a63902725c750bf04e6a6383310dd3610">present</a> (str) != <a class="code" href="classefun.html#a3beb87980adf6911709c4c431e244488">this_object</a> ())</div>
<div class="line">      <span class="keywordflow">return</span> 0; <span class="comment">// Not this chest</span></div>
<div class="line">  ...</div>
<div class="line">}</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.11/3.3.610) -- introduced the (str, n) argument form.</div>
<div class="line">changed (3.3.713) -- modified the n search behaviour so that the numbering is <a class="code" href="classapplied.html">applied</a> over both inventory and <a class="code" href="classefun.html#a657cd0dbc848f16af8079c5d43386952">environment</a> together. Before, the numbering was individual in each space, leading to situations where low-numbered objects in the <a class="code" href="classefun.html#a657cd0dbc848f16af8079c5d43386952">environment</a> were hidden by those in the inventory.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a4190a089c412b88e938a4a34865e8366" title="The item, which can be an object_name or an object, is moved into it&#39;s new environment dest...">efun::move_object()</a>, <a class="el" href="classefun.html#a657cd0dbc848f16af8079c5d43386952" title="Returns the surrounding object of obj, which may be given by name. ">efun::environment()</a>, <a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">efun::this_object()</a>, <a class="el" href="classefun.html#a4bb6390381b4cd2768beb7b59df5abfb" title="This efun searches the inventory of object env (default is this_object()) for an object with a specif...">efun::present_clone()</a>, <a class="el" href="classapplied.html#a9c09256888ad9f9ce5cd49a5e45cbe8e" title="Let the object identify itself. ">applied::id()</a>, <a class="el" href="classapplied.html#a02fd73d861ef2e4aabb38c0c9ff82947" title="move_object implements the details of moving objects. ">applied::init()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a4bb6390381b4cd2768beb7b59df5abfb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object present_clone </td>
          <td>(</td>
          <td class="paramtype">object obj&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object env&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int n&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This efun searches the inventory of object <code>env</code> (default is <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code>) for an object with a specific blueprint. </p>
<p>The blueprint can be specified either by name <code>str</code>, or as the same blueprint as of object <code>obj</code>. The matching criteria in both cases is the <code><a class="el" href="classefun.html#a844fa0ed8be8f868d0d4b7a98a20f707" title="Return the load name for the object obj which may be given directly or by its name. ">load_name()</a></code>. If <code>n</code> is given, object <code>n</code> in <code>env</code> is returned (if present), otherwise the first object matching <code>str</code> or <code>obj</code>. If no object in <code>env</code> matches the criteria, 0 is returned.</p>
<dl class="section user"><dt>note: In contrast to efun::present(), this efun never searches in the environment of <code>env</code>.</dt><dd></dd></dl>
<p>For plain driver this name starts with a '/', for <a class="el" href="driver_topics_predefined.html">__COMPAT_MODE__</a> drivers it doesn't.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#a4bb6390381b4cd2768beb7b59df5abfb">present_clone</a>(string str)</div>
<div class="line">object <a class="code" href="classefun.html#a4bb6390381b4cd2768beb7b59df5abfb">present_clone</a>(string str, int n)</div>
<div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#a4bb6390381b4cd2768beb7b59df5abfb">present_clone</a>(string str, object env)</div>
<div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#a4bb6390381b4cd2768beb7b59df5abfb">present_clone</a>(string str, object env, int n)</div>
<div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#a4bb6390381b4cd2768beb7b59df5abfb">present_clone</a>(object obj)</div>
<div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#a4bb6390381b4cd2768beb7b59df5abfb">present_clone</a>(object obj, int n)</div>
<div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#a4bb6390381b4cd2768beb7b59df5abfb">present_clone</a>(object obj, object env)</div>
<div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#a4bb6390381b4cd2768beb7b59df5abfb">present_clone</a>(object obj, object env, int n)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">Assume that object <code>env</code> contains the objects <code>/obj/money#8</code>, <code>/std/weapon#9</code>, <code>/std/weapon#12</code> and <code>/obj/key</code> in the given order.</p>
<table class="doxtable">
<tr>
<th>Function call </th><th>returns  </th></tr>
<tr>
<td><code>present_clone("/obj/money", env)</code> </td><td><code>/obj/money#8</code> </td></tr>
<tr>
<td><code>present_clone("/std/weapon#12", env)</code> </td><td><code>/std/weapon#9</code> </td></tr>
<tr>
<td><code>present_clone(find_object("/obj/money#14"), env)</code> </td><td><code>/obj/money#8</code> </td></tr>
<tr>
<td><code>present_clone("/obj/key#18", env)</code> </td><td><code>/obj/key</code> </td></tr>
<tr>
<td><code>present_clone("/std/weapon#12", env, 2)</code> </td><td><code>/std/weapon#12</code> </td></tr>
<tr>
<td><code>present_clone("/std/weapon#12", env, 3)</code> </td><td><code>0</code> </td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.7)</div>
<div class="line">changed (3.3.718) -- added searching for the :arg:`n`th <span class="keywordtype">object</span>.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a844fa0ed8be8f868d0d4b7a98a20f707" title="Return the load name for the object obj which may be given directly or by its name. ">efun::load_name()</a>, <a class="el" href="classefun.html#a63902725c750bf04e6a6383310dd3610" title="This efun checks if an object is present in a given environment. ">efun::present()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a8d720f6391a992bf62bb528a3c48ba14"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object previous_object </td>
          <td>(</td>
          <td class="paramtype">int i&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an object pointer to the object that did a call (<a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a>, <a class="el" href="classefun.html#a665f686219e1bffdb5e89a5158167473" title="Evaluates the closure. ">efun::funcall()</a>, etc) to the current object, if any. </p>
<p>If that object is destructed, the function returns 0.</p>
<p>If the optional <code>i</code> is given and <code>0 &lt;= i &lt; <a class="el" href="classefun.html#a6d3ec4c35f8417da08202e813f8c40be" title="Returns the number of previous objects on the stack. ">caller_stack_depth()</a></code>, the call_others are followed back <code>i</code> times (i.e. <code>previous_object(1)</code> returns the caller of the caller). If <code>i</code> is less than 0, the first previous object is returned (as if <code>i == 0</code> was passed).</p>
<p>There is an important special case: in functions called by the gamedriver in reaction to some external event (e.g. commands added by add_action), <code><a class="el" href="classefun.html#a8d720f6391a992bf62bb528a3c48ba14" title="Returns an object pointer to the object that did a call (efun::call_other(), efun::funcall(), etc) to the current object, if any. ">previous_object()</a></code> will return <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code>, but <code>previous_object(0)</code> will return 0.</p>
<p>See Also: <a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a>, <a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">efun::this_object()</a>, <a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af" title="Return the current command giver. ">efun::this_player()</a>,</p>
<p><a class="el" href="classefun.html#a7ceb41476c36b9f172725cde9515f74a" title="Returns an array of the previous objects who caused the efun::call_other() to efun::this_object(). ">efun::caller_stack()</a>, <a class="el" href="classefun.html#a6d3ec4c35f8417da08202e813f8c40be" title="Returns the number of previous objects on the stack. ">efun::caller_stack_depth()</a>, <a class="el" href="classefun.html#adbad80797e70e6d2fa6ba96cb6e226fb" title="Returns zero, if the function that is currently being executed was called by a local call...">efun::extern_call()</a></p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#a8d720f6391a992bf62bb528a3c48ba14">previous_object</a>()</div>
<div class="line">object <a class="code" href="classefun.html#a8d720f6391a992bf62bb528a3c48ba14">previous_object</a>(int i)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">This example shows how we can check if the last call to a function of the current object is secure or if we should abort execution:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> security() {</div>
<div class="line">   <span class="keywordtype">object</span> prev;</div>
<div class="line">   <span class="keywordflow">if</span> (!(prev=<a class="code" href="classefun.html#a8d720f6391a992bf62bb528a3c48ba14">previous_object</a>()));</div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classefun.html#a1cee8cfd71595afe5cb29db76705b601">getuid</a>(prev)  != <a class="code" href="classefun.html#a1cee8cfd71595afe5cb29db76705b601">getuid</a>(<a class="code" href="classefun.html#a3beb87980adf6911709c4c431e244488">this_object</a>()));</div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classefun.html#a8d2464ee0d105312cb194da96f14179d">geteuid</a>(prev) != <a class="code" href="classefun.html#a8d2464ee0d105312cb194da96f14179d">geteuid</a>(<a class="code" href="classefun.html#a3beb87980adf6911709c4c431e244488">this_object</a>()));</div>
<div class="line">   <span class="keywordflow">else</span> <span class="keywordflow">return</span> 1;</div>
<div class="line">   <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> highly_sensible_func() {</div>
<div class="line">    <span class="keywordflow">if</span> (!security())</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>

</div>
</div>
<a class="anchor" id="a2f50b85e38b1f7510cddbe6dc5435942"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void printf </td>
          <td>(</td>
          <td class="paramtype">string format&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A cross between <a class="el" href="classefun.html#afda00b52a57aac8ce24bc5f5a5dc9cc8" title="Most of the characters in the format string fmt get passed straight through to the output (i...">efun::sprintf()</a> and <a class="el" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662" title="Write out something to the current user. ">efun::write()</a>. </p>
<p>Returns void and prints the result string to the user.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a2f50b85e38b1f7510cddbe6dc5435942">printf</a>(string format, ...)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#afda00b52a57aac8ce24bc5f5a5dc9cc8" title="Most of the characters in the format string fmt get passed straight through to the output (i...">efun::sprintf()</a>, <a class="el" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662" title="Write out something to the current user. ">efun::write()</a>, <a class="el" href="classefun.html#a5174fcc80f51ca366f5cfb84e3dd4f15" title="If map is given as a non-0 value, this efun expands all colour-defines of the form &quot;%^KEY%^&quot; (see bel...">efun::terminal_colour()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a58338c1e30d3a60a84db85cc2680684b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string process_string </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Searches string <code>str</code> for occurences of a "value by function call", which is an implicit function call surrounded by <code>@@</code>. </p>
<p>The value should contain a string like this:</p>
<div class="fragment"><div class="line">@@<span class="keyword">function</span>[:filename][|arg|arg]@@</div>
</div><!-- fragment --><p> <code>function</code> must return a string or else the string which should be processed will be returned unchanged. Both the filename and the args are optional.</p>
<p>Caution: This does not recurse over returned replacement values. If a function returns another function description, that description will not be replaced. Consecutive function calls can be written adjacent:</p>
<div class="fragment"><div class="line">@@function1@@function2@@</div>
</div><!-- fragment --> <dl class="section user"><dt>security: Using efun::process_string() can lead to severe security problems.</dt><dd></dd></dl>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a58338c1e30d3a60a84db85cc2680684b">process_string</a>(string str)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">Given the below example, calling <code>func()</code> will print out the string "abcdef":</p>
<div class="fragment"><div class="line"><span class="keywordtype">string</span> foo(<span class="keywordtype">string</span> str) {</div>
<div class="line">   <span class="keywordflow">return</span> <span class="stringliteral">&quot;ab&quot;</span>+str+<span class="stringliteral">&quot;ef&quot;</span>;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> func() {</div>
<div class="line">   <a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<a class="code" href="classefun.html#a58338c1e30d3a60a84db85cc2680684b">process_string</a>(<span class="stringliteral">&quot;@@foo|cd@@&quot;</span>)+<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.1@34) -- Because of the security problems, <a class="code" href="classefun.html#a58338c1e30d3a60a84db85cc2680684b">process_string</a>() is an optional <a class="code" href="classefun.html">efun</a>.</div>
<div class="line">changed (3.3.160) -- removed the undocumented &#39;feature&#39; that a function call declaration could be terminated by a space. In turn this now allows the use of arguments with spaces.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#afe008c0344508051dcc4d07d79dd0bc4" title="Store str as the error message given instead of the default message &quot;What ?&quot;. ">efun::notify_fail()</a>, <a class="el" href="driver_syntax_closures.html">closure</a>, <a class="el" href="classmaster.html#aadf9def996105f666c5c6b6a82de53d7" title="This method is called when efun::process_string() is used without a current object (e...">master::get_bb_uid()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a29da7cfd7195efb63c82bd788a609e93"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string program_name </td>
          <td>(</td>
          <td class="paramtype">object obj&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the name of the program of <code>obj</code>, resp. </p>
<p>the name of the program of the current object if <code>obj</code> is omitted.</p>
<p>The returned name is usually the name from which the blueprint of <code>obj</code> was compiled (the 'load name'), but changes if an object replaces its programs with the <a class="el" href="classefun.html#a0dc3b4d26c35f8eeae78a2cc913dfa07" title="Substitutes a program with the inherited program program. ">efun::replace_program()</a>.</p>
<p>As a special case, if <code>obj</code> is passed as 0, the function will return 0.</p>
<p>The name always ends in '.c'. It starts with a '/' unless the driver is running in <a class="el" href="driver_topics_predefined.html">__COMPAT_MODE__</a>.</p>
<dl class="section user"><dt>warning: This efun swaps in the program if it is swapped out.</dt><dd></dd></dl>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a29da7cfd7195efb63c82bd788a609e93">program_name</a>()</div>
<div class="line">string <a class="code" href="classefun.html#a29da7cfd7195efb63c82bd788a609e93">program_name</a>(object obj)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> o;</div>
<div class="line">o = <a class="code" href="classefun.html#ac48b7a182d90218465e671cd6f2dcd68">clone_object</a>(<span class="stringliteral">&quot;/std/thing&quot;</span>);</div>
<div class="line"><a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<a class="code" href="classefun.html#a29da7cfd7195efb63c82bd788a609e93">program_name</a>(o)); <span class="comment">// writes &quot;/std/thing.c&quot; in !compat mode</span></div>
<div class="line">                        <span class="comment">// and &quot;std/thing.c&quot;  in compat mode</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.6)</div>
<div class="line">changed (3.2.9) -- allowed a 0 argument.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ac48b7a182d90218465e671cd6f2dcd68" title="Clone a new object from definition name, or alternatively from the object template. ">efun::clone_object()</a>, <a class="el" href="classefun.html#a62a23bfd4fb3823c9d808b3bff345980" title="The efun returns 1 if obj is a clone, and 0 if it is not. ">efun::clonep()</a>, <a class="el" href="classefun.html#a844fa0ed8be8f868d0d4b7a98a20f707" title="Return the load name for the object obj which may be given directly or by its name. ">efun::load_name()</a>, <a class="el" href="classefun.html#a8ef004651be5805383aca5b9a3f8291b" title="Load the object from the file name (which can not be empty) and return it. ">efun::load_object()</a>, <a class="el" href="classefun.html#a4eae6e47ac233059b5613c83cf5855e0" title="Get the name of an object ob or, if no argument is given, of the current object. ">efun::object_name()</a>, <a class="el" href="classefun.html#a0dc3b4d26c35f8eeae78a2cc913dfa07" title="Substitutes a program with the inherited program program. ">efun::replace_program()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="acf0bef5d723794d143a7d159773b0520"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int program_time </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the creation (compilation) time of the object's program. </p>
<p>Default is <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code>, if no arg is given.</p>
<dl class="section user"><dt>note: If the objects program is swapped out, this efun swaps it back in.</dt><dd></dd></dl>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#acf0bef5d723794d143a7d159773b0520">program_time</a>()</div>
<div class="line">int <a class="code" href="classefun.html#acf0bef5d723794d143a7d159773b0520">program_time</a>(object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#aefff271f12574b28300fa6ff9ac5ab87" title="Returns the creation time of the given object. ">efun::object_time()</a>, <a class="el" href="classefun.html#a29da7cfd7195efb63c82bd788a609e93" title="Returns the name of the program of obj, resp. ">efun::program_name()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aef589eba43ba68459f79f4af465e666d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed* query_actions </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed mask_or_verb&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Takes either an object or a filename as first argument and a bitmask (int) or string as a second argument. </p>
<p>If the second argument is a string, the function returns an array containing information (see below) on the verb or zero if the living object "ob" cannot use the verb. If the second argument is a bitmask, the function returns a flat array containing information on all verbs added to ob. The second argument is optional (default is <code>QA_VERB</code>).</p>
<p><code>QA_VERB</code> ( 1): the verb <code>QA_TYPE</code> ( 2): type <code>QA_SHORT_VERB</code> ( 4): short_verb <code>QA_OBJECT</code> ( 8): object <code>QA_FUNCTION</code> (16): function</p>
<p>"type" is one of the values defined in &lt;sent.h&gt; (which is provided with the parser source).</p>
<p><code>SENT_PLAIN</code> added with add_action (fun, cmd); <code>SENT_SHORT_VERB</code> added with add_action (fun, cmd, <code>AA_SHORT</code>); <code>SENT_NO_SPACE</code> added with add_action (fun, <code>AA_NOSPACE</code>); <code>SENT_MARKER</code> internal, won't be in the returned array negative value: The verb given by the player has to match only the leading <em>-value</em> characters of the action's verb.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed * <a class="code" href="classefun.html#aef589eba43ba68459f79f4af465e666d">query_actions</a>(object ob, mixed mask_or_verb)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#aa1a689311c00f31fcf25985a16a6eaef" title="Set up a local function fun to be called when user input matches the command cmd. ...">efun::add_action()</a>, <a class="el" href="classapplied.html#a02fd73d861ef2e4aabb38c0c9ff82947" title="move_object implements the details of moving objects. ">applied::init()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a9d55fac98f23ae1ce0e8c4394fe63716"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string query_command </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Give the text of the current command, or 0 if not executing from a command. </p>
<p>The text is the command as seen by the parser, ie. after modify_command and after stripping trailing spaces.</p>
<p><code><a class="el" href="classefun.html#a9d55fac98f23ae1ce0e8c4394fe63716" title="Give the text of the current command, or 0 if not executing from a command. ">query_command()</a></code> returns 0 when invoked by a function which was started by a call_out or the heart beat. Also when a user logs in <code><a class="el" href="classefun.html#a9d55fac98f23ae1ce0e8c4394fe63716" title="Give the text of the current command, or 0 if not executing from a command. ">query_command()</a></code> returns 0.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a9d55fac98f23ae1ce0e8c4394fe63716">query_command</a>(<span class="keywordtype">void</span>)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> init() {</div>
<div class="line">   ...</div>
<div class="line">   add_action(<span class="stringliteral">&quot;sing&quot;</span>,<span class="stringliteral">&quot;sing&quot;</span>);</div>
<div class="line">   ...</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">int</span> sing(<span class="keywordtype">string</span> str) {</div>
<div class="line">   <a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<span class="stringliteral">&quot;Your command was:&quot;</span>+<a class="code" href="classefun.html#a9d55fac98f23ae1ce0e8c4394fe63716">query_command</a>()+<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">   <span class="keywordflow">return</span> 1;</div>
<div class="line">}</div>
</div><!-- fragment --><p> When ever you type <code>sing ...</code> you get <code>Your command was: sing ...</code>.</p>
<p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#aa1a689311c00f31fcf25985a16a6eaef" title="Set up a local function fun to be called when user input matches the command cmd. ...">efun::add_action()</a>, <a class="el" href="classefun.html#ae1f08790d1820834e9fb63b7e686f75d" title="Return the verb of the current command, of 0 if not executing from a command. ">efun::query_verb()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a0f089a53d6e885fc1cb5901fe8cb7729"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed query_editing </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns 1 if the <code>ob</code> is interactive and currently editing with <a class="el" href="classefun.html#a9ee9e4fa5066437c75195638c362ee6d" title="Calling without arguments will start the editor ed with the name of the error file, that was returned by master-&gt;valid_read(0, geteuid(this_player()), &quot;ed_start&quot;, this_player()), usually something like ~/.err. ">efun::ed()</a>. </p>
<p>If <a class="el" href="classefun.html#a9ee9e4fa5066437c75195638c362ee6d" title="Calling without arguments will start the editor ed with the name of the error file, that was returned by master-&gt;valid_read(0, geteuid(this_player()), &quot;ed_start&quot;, this_player()), usually something like ~/.err. ">efun::ed()</a> was called with a function name as second argument, the object where <a class="el" href="classefun.html#a9ee9e4fa5066437c75195638c362ee6d" title="Calling without arguments will start the editor ed with the name of the error file, that was returned by master-&gt;valid_read(0, geteuid(this_player()), &quot;ed_start&quot;, this_player()), usually something like ~/.err. ">efun::ed()</a> was called is returned, else 0.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed <a class="code" href="classefun.html#a0f089a53d6e885fc1cb5901fe8cb7729">query_editing</a>(object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a9ee9e4fa5066437c75195638c362ee6d" title="Calling without arguments will start the editor ed with the name of the error file, that was returned by master-&gt;valid_read(0, geteuid(this_player()), &quot;ed_start&quot;, this_player()), usually something like ~/.err. ">efun::ed()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a2a20a6def5cbe33d8a54dd17235e1cb5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int query_idle </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Query how many seconds an interactive object <code>ob</code> has been idle. </p>
<p>If <code>ob</code> is not an interactive object an error will be thrown.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a2a20a6def5cbe33d8a54dd17235e1cb5">query_idle</a>(object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#abb6bdbce645e4924d4e99dbb9582c3e5" title="Return non-zero if ob is an interactive user. ">efun::interactive()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a580be578b8c57465f68a84e509c12c29"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object query_input_pending </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If ob is interactive and currently has an <a class="el" href="classefun.html#af611da839c18f550d1639881f3f3cade" title="Enable next line of user input to be sent to the function fun as an argument. ">efun::input_to()</a> pending, the object that has called the <a class="el" href="classefun.html#af611da839c18f550d1639881f3f3cade" title="Enable next line of user input to be sent to the function fun as an argument. ">efun::input_to()</a> is returned, else 0. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#a580be578b8c57465f68a84e509c12c29">query_input_pending</a>(object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#af611da839c18f550d1639881f3f3cade" title="Enable next line of user input to be sent to the function fun as an argument. ">efun::input_to()</a>, <a class="el" href="classefun.html#a93b1b26ca8321d256d3613066fab2966" title="Find the input_to most recently added to the interactive player object matching the fun argument: ...">efun::find_input_to()</a>, <a class="el" href="classefun.html#a0f74585c69a687a66806f986fa76b5bd" title="Construct an array of all input_to&#39;s pending for this interactive player. ">efun::input_to_info()</a>, <a class="el" href="classefun.html#a5a351739113e6cf32a6dd7d274c068bf" title="Remove a pending input_to from the interactive player object. ">efun::remove_input_to()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a2d730466c50796059128b65fc3153a55"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string query_ip_name </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Give the ip-name for user the current user or for the optional argument ob. </p>
<p>An asynchronous process 'hname' is used to find out these names in parallel. If there are any failures to find the ip-name, then the ip-number is returned instead.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a2d730466c50796059128b65fc3153a55">query_ip_name</a>(object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#af2badf1733245cd49bc69b30b610207b" title="Give the ip-number for the current user or the optional argument ob. ">efun::query_ip_number()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af2badf1733245cd49bc69b30b610207b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string query_ip_number </td>
          <td>(</td>
          <td class="paramtype">mixed &amp;&#160;</td>
          <td class="paramname"><em> ob</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Give the ip-number for the current user or the optional argument ob. </p>
<p>If ob is given as reference (and it must be a valid object then), it will upon return be set to the struct sockaddr_in of the queried object, represented by an array of integers, one integer per address byte:</p>
<p>ob[0.. 1]: sin_family ob[2.. 3]: sin_port ob[4.. 7]: sin_addr ob[8..15]: undefined.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#af2badf1733245cd49bc69b30b610207b">query_ip_number</a>(<span class="keywordtype">object</span>  ob)</div>
<div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#af2badf1733245cd49bc69b30b610207b">query_ip_number</a>(mixed &amp; ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.1@81) -- added the <span class="keywordflow">return</span> of the <span class="keyword">struct </span>sockaddr.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a2d730466c50796059128b65fc3153a55" title="Give the ip-name for user the current user or for the optional argument ob. ">efun::query_ip_name()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a810ac293b0967a7d3129f745c9b2d9e6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int* query_limits </td>
          <td>(</td>
          <td class="paramtype">int default&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return an array with the current runtime limits, resp. </p>
<p>if <code>default</code> is true, the default runtime limits. The entries in the returned array are:</p>
<p>int[<code>LIMIT_EVAL</code>]: the max number of eval costs int[<code>LIMIT_ARRAY</code>]: the max number of array entries int[<code>LIMIT_MAPPING_SIZE</code>]: the max number of mapping values int[<code>LIMIT_MAPPING_KEYS</code>]: the max number of mapping entries (<code>LIMIT_MAPPING</code> is an alias for <code>LIMIT_MAPPING_KEYS</code>) int[<code>LIMIT_BYTE</code>]: the max number of bytes handled with one <a class="el" href="classefun.html#a45d3491b9a1f26d6816b7409ca785150" title="Reads a given amount of bytes from file. ">efun::read_bytes()</a> or <a class="el" href="classefun.html#aace43816f21156a6d6f2487d1a4d43c8" title="Write string str to file file by overwriting the old bytes at position start. ">efun::write_bytes()</a> call. int[<code>LIMIT_FILE</code>]: the max number of bytes handled with one <a class="el" href="classefun.html#a691ba221d2589d03d70a2b024644d250" title="Reads lines from file. ">efun::read_file()</a> or <a class="el" href="classefun.html#a383474b75b88587a17308ed30dfea60d" title="Append the string str to the file file. ">efun::write_file()</a> call. int[<code>LIMIT_CALLOUTS</code>]: the number of callouts at one time. int[<code>LIMIT_COST</code>]: how to account the current cost. int[<code>LIMIT_MEMROY</code>]: the max. number of bytes which can be <em>additionally</em> allocated/used <em>per top-level execution thread</em></p>
<p>For all limits except <code>LIMIT_COST</code> a limit of '0' aka <code>LIMIT_UN</code><code>LIMITED</code> means 'no limit'.</p>
<p>The value for <code>LIMIT_COST</code> has these meanings:</p>
<p>value &gt; 0: the execution will cost <code>min(value, actual cost)</code>.</p>
<p>value = 0: if the current <code>LIMIT_EVAL</code> is larger than the calling <code>LIMIT_EVAL</code>, the evaluation will cost only 10; otherwise the full cost will be accounted.</p>
<p>value &lt; 0: <code>(-value)%</code> of the current evaluation cost will be accounted; <code>-100</code> means 'full cost'.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> * <a class="code" href="classefun.html#a810ac293b0967a7d3129f745c9b2d9e6">query_limits</a>()</div>
<div class="line">int * <a class="code" href="classefun.html#a810ac293b0967a7d3129f745c9b2d9e6">query_limits</a>(int default)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><a class="code" href="classefun.html#a810ac293b0967a7d3129f745c9b2d9e6">query_limits</a>()  <span class="comment">// returns the current runtime limits</span></div>
<div class="line"><a class="code" href="classefun.html#a810ac293b0967a7d3129f745c9b2d9e6">query_limits</a>(1) <span class="comment">// returns the default runtime limits</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.7)</div>
<div class="line">changed (3.2.9) -- adds LIMIT_CALLOUTS</div>
<div class="line">changed (3.3.563) -- adds LIMIT_COST</div>
<div class="line">changed (3.3.677) -- adds LIMIT_MAPPING_KEYS, LIMIT_MAPPING_SIZE</div>
<div class="line">changed (3.5.0) -- adds LIMIT_MEMORY</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a2ae3872648557b6f90a3ccda1665b84b" title="Call the function fun with any given args as parameters, and execute it with the given runtime limits...">efun::limited()</a>, <a class="el" href="classefun.html#a37d7da9a3d79ee3a75fdeaf3a3305c0b" title="Set the default runtime limits from the given arguments. ">efun::set_limits()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a9525e5165c46cccdf21e180f287ec92b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string query_load_average </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the load of the mud. </p>
<p>Two figures are given, executed commands/second and compiled lines/second.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a9525e5165c46cccdf21e180f287ec92b">query_load_average</a>(<span class="keywordtype">void</span>)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a83a7cffa7753ffb83fec4e27ed711041" title="Return an array with current system resource usage statistics, as returned by the getrusage(2) of Uni...">efun::rusage()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af6515b75af0e981f626dc18cab2c5e82"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int query_mccp </td>
          <td>(</td>
          <td class="paramtype">object player&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This efun returns current whether the client uses compression or not ( default <code><a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af" title="Return the current command giver. ">this_player()</a></code> ). </p>
<p>You will get either <code>TELOPT_COMPRESS</code> or <code>TELOPT_COMPRESS2</code> if the connection is compressed, or 0 if it isn't.</p>
<p>Available only if the driver is compiled with <a class="el" href="driver_topics_mccp.html">MCCP</a> enabled; <a class="el" href="driver_topics_predefined.html">__MCCP__</a> is defined in that case.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#af6515b75af0e981f626dc18cab2c5e82">query_mccp</a>()</div>
<div class="line">int <a class="code" href="classefun.html#af6515b75af0e981f626dc18cab2c5e82">query_mccp</a>(object player)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.447)</div>
<div class="line">backported (3.2.10)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ab7f14bd8da9ff16ac3c60d868af1aedb" title="This efun must be called inside an interactive player and stops the compression of the driver -&gt; clie...">efun::end_mccp_compress()</a>, <a class="el" href="classefun.html#a0942012412ffa3f64f1d7c92352a805e" title="This efun must be called inside an interactive player and starts the compression of the driver -&gt; cli...">efun::start_mccp_compress()</a>, <a class="el" href="classefun.html#afe44b8bace8716fb752a644c53fa1258" title="This efun gives you statistics about current compression of the player ( default this_player() )...">efun::query_mccp_stats()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="afe44b8bace8716fb752a644c53fa1258"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int* query_mccp_stats </td>
          <td>(</td>
          <td class="paramtype">object player&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This efun gives you statistics about current compression of the player ( default <code><a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af" title="Return the current command giver. ">this_player()</a></code> ). </p>
<p>You get an array with <code>({ uncompressed bytes , compressed bytes })</code>. If the connection is not compressed it returns 0.</p>
<p>It raises an error on not-interactive objects.</p>
<p>Available only if the driver is compiled with <a class="el" href="driver_topics_mccp.html">MCCP</a> enabled; <a class="el" href="driver_topics_predefined.html">__MCCP__</a> is defined in that case.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> * <a class="code" href="classefun.html#afe44b8bace8716fb752a644c53fa1258">query_mccp_stats</a>()</div>
<div class="line">int * <a class="code" href="classefun.html#afe44b8bace8716fb752a644c53fa1258">query_mccp_stats</a>(object player)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.447)</div>
<div class="line">backported (3.2.10)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ab7f14bd8da9ff16ac3c60d868af1aedb" title="This efun must be called inside an interactive player and stops the compression of the driver -&gt; clie...">efun::end_mccp_compress()</a>, <a class="el" href="classefun.html#a0942012412ffa3f64f1d7c92352a805e" title="This efun must be called inside an interactive player and starts the compression of the driver -&gt; cli...">efun::start_mccp_compress()</a>, <a class="el" href="classefun.html#af6515b75af0e981f626dc18cab2c5e82" title="This efun returns current whether the client uses compression or not ( default this_player() )...">efun::query_mccp()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af291b7a6bb35f1917f587a57ab3f13be"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int query_mud_port </td>
          <td>(</td>
          <td class="paramtype">int num&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the port number the parser uses for user connections. </p>
<p>If no argument is given, the port for <code><a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af" title="Return the current command giver. ">this_player()</a></code> is returned. If <code><a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af" title="Return the current command giver. ">this_player()</a></code> doesn't exist or isn't interactive, the first port number open for connections is returned.</p>
<p>If a user object is given, the port used for its connection is returned. If a positive number is given, the :arg:&gt;&gt;<code>&lt;&lt;num</code>th port number the parser uses for connections is returned (given that there are that many ports). If -1 is given, the number of ports open for connections is returned.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#af291b7a6bb35f1917f587a57ab3f13be">query_mud_port</a>(<span class="keywordtype">void</span>)</div>
<div class="line">int <a class="code" href="classefun.html#af291b7a6bb35f1917f587a57ab3f13be">query_mud_port</a>(object user)</div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#af291b7a6bb35f1917f587a57ab3f13be">query_mud_port</a>(int num)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#aad82e1ff8a6896956baeed081b6eeb5b" title="Returns the port number of the UDP socket. ">efun::query_udp_port()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a81fa5c01de0fc1a44122e08ee02f667d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed query_notify_fail </td>
          <td>(</td>
          <td class="paramtype">int flag&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If <code>flag</code> is not given or 0: return the string or closure which was last set as error message for this command (with <a class="el" href="classefun.html#afe008c0344508051dcc4d07d79dd0bc4" title="Store str as the error message given instead of the default message &quot;What ?&quot;. ">efun::notify_fail()</a>). </p>
<p>If <code>flag</code> is given and 1: return the object which issued the last <a class="el" href="classefun.html#afe008c0344508051dcc4d07d79dd0bc4" title="Store str as the error message given instead of the default message &quot;What ?&quot;. ">efun::notify_fail()</a>.</p>
<p>If nothing was set yet, return 0.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed <a class="code" href="classefun.html#a81fa5c01de0fc1a44122e08ee02f667d">query_notify_fail</a>()</div>
<div class="line">mixed <a class="code" href="classefun.html#a81fa5c01de0fc1a44122e08ee02f667d">query_notify_fail</a>(int flag)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.7)</div>
<div class="line">changed (3.2.8) -- added the flag parameter.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#aa1a689311c00f31fcf25985a16a6eaef" title="Set up a local function fun to be called when user input matches the command cmd. ...">efun::add_action()</a>, <a class="el" href="classefun.html#ae1f08790d1820834e9fb63b7e686f75d" title="Return the verb of the current command, of 0 if not executing from a command. ">efun::query_verb()</a>, <a class="el" href="classefun.html#a9d55fac98f23ae1ce0e8c4394fe63716" title="Give the text of the current command, or 0 if not executing from a command. ">efun::query_command()</a>, <a class="el" href="classefun.html#afe008c0344508051dcc4d07d79dd0bc4" title="Store str as the error message given instead of the default message &quot;What ?&quot;. ">efun::notify_fail()</a>, <a class="el" href="driver_hook_overview.html">hook</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1d819b245fe5d59d0f9da64d3c82f6ac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int query_once_interactive </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>True if the object is or once was interactive. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a1d819b245fe5d59d0f9da64d3c82f6ac">query_once_interactive</a>(object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#acd424d044248f14158748c7085f7879a" title="Close the connection to the interactive object ob. ">efun::remove_interactive()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ac6e2a0ca7c746ee1bc1c56649fe0ffc7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object query_shadowing </td>
          <td>(</td>
          <td class="paramtype">object obj&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The function returns the object which <code>obj</code> is currently shadowing, or 0 if <code>obj</code> is not a shadow. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#ac6e2a0ca7c746ee1bc1c56649fe0ffc7">query_shadowing</a>(object obj)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.1@73)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ade3d784e3bea08c4f965f503b9b062d1" title="If flag is non-zero the current object will shadow ob. ">efun::shadow()</a>, <a class="el" href="classefun.html#a05070447e0963d3e53f870fd8a1e1112" title="The calling object stops shadowing any other object. ">efun::unshadow()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae819f6603be71574e728a51db3feb244"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object query_snoop </td>
          <td>(</td>
          <td class="paramtype">object victim&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the user who currently snoops <code>victim</code>. </p>
<p>The calling object must be privileged by the master object.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#ae819f6603be71574e728a51db3feb244">query_snoop</a>(object victim)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a9f2f48f11700222aaa6e712ef7992a33" title="Starts a snoop from snooper on snoopee, or if snoopee is not given, terminates any snoop from snooper...">efun::snoop()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aad82e1ff8a6896956baeed081b6eeb5b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int query_udp_port </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the port number of the UDP socket. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#aad82e1ff8a6896956baeed081b6eeb5b">query_udp_port</a>(<span class="keywordtype">void</span>)</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ae1f08790d1820834e9fb63b7e686f75d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string query_verb </td>
          <td>(</td>
          <td class="paramtype">int flag&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the verb of the current command, of 0 if not executing from a command. </p>
<p>If <code>flag</code> is 0 or not given, the verb as given by the user is returned (this is the first word from the line input by the player, up to but not including the first space or lineend). If <code>flag</code> is non-0, the verb as specified in the <a class="el" href="classefun.html#aa1a689311c00f31fcf25985a16a6eaef" title="Set up a local function fun to be called when user input matches the command cmd. ...">efun::add_action()</a> statement is returned.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#ae1f08790d1820834e9fb63b7e686f75d">query_verb</a>(<span class="keywordtype">void</span>)</div>
<div class="line">string <a class="code" href="classefun.html#ae1f08790d1820834e9fb63b7e686f75d">query_verb</a>(int flag)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">When the user is in the presence of an object defined as:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> init() {</div>
<div class="line">   ...</div>
<div class="line">   add_action(<span class="stringliteral">&quot;sing&quot;</span>,<span class="stringliteral">&quot;sing&quot;</span>);</div>
<div class="line">   <a class="code" href="classefun.html#aa1a689311c00f31fcf25985a16a6eaef">add_action</a>(<span class="stringliteral">&quot;sing&quot;</span>,<span class="stringliteral">&quot;chant&quot;</span>, 1);</div>
<div class="line">   ...</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">int</span> sing(<span class="keywordtype">string</span> str) {</div>
<div class="line">   <a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<span class="stringliteral">&quot;Your command was: &quot;</span>+<a class="code" href="classefun.html#ae1f08790d1820834e9fb63b7e686f75d">query_verb</a>()+(str ? str : <span class="stringliteral">&quot;&quot;</span>)+<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">   <a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<span class="stringliteral">&quot;The action verb was: &quot;</span>+<a class="code" href="classefun.html#ae1f08790d1820834e9fb63b7e686f75d">query_verb</a>(1)+(str ? str : <span class="stringliteral">&quot;&quot;</span>)+<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">   <span class="keywordflow">return</span> 1;</div>
<div class="line">}</div>
</div><!-- fragment --><p> the command 'sing ...' will print:</p>
<div class="fragment"><div class="line">Your command was: sing</div>
<div class="line">The action verb was: sing</div>
</div><!-- fragment --><p> the command 'chant ...' will print:</p>
<div class="fragment"><div class="line">Your command was: chant</div>
<div class="line">The action verb was: chant</div>
</div><!-- fragment --><p> and the command 'chantit ...' will print:</p>
<div class="fragment"><div class="line">Your command was: chantit</div>
<div class="line">The action verb was: chant</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.9) -- added the optional flag argument.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#aa1a689311c00f31fcf25985a16a6eaef" title="Set up a local function fun to be called when user input matches the command cmd. ...">efun::add_action()</a>, <a class="el" href="classefun.html#a9d55fac98f23ae1ce0e8c4394fe63716" title="Give the text of the current command, or 0 if not executing from a command. ">efun::query_command()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a78e86c560d9bfc454fc228b3988db651"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed quote </td>
          <td>(</td>
          <td class="paramtype">mixed&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts arrays to quoted arrays and strings to symbols. </p>
<p>Symbols and quoted arrays get quoted once more.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed <a class="code" href="classefun.html#a78e86c560d9bfc454fc228b3988db651">quote</a>(mixed)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><a class="code" href="classefun.html#a78e86c560d9bfc454fc228b3988db651">quote</a>(<span class="stringliteral">&quot;foo&quot;</span>) -&gt; <span class="stringliteral">&#39;foo</span></div>
<div class="line"><span class="stringliteral">quote(({1,2,3})) -&gt; &#39;</span>({1,2,3})</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2@70)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#aa0bbde61230276ac5155fa61b54c63f2" title="Returns 1 if value is a symbol. ">efun::symbolp()</a>, <a class="el" href="classefun.html#a412a4ce68bb23fc7517d0c6c31a1905f" title="Removes a quote from quoted arrays and symbols. ">efun::unquote()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1a2e9b7b0572256c53dcbc0241cce424"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void raise_error </td>
          <td>(</td>
          <td class="paramtype">string arg&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Abort execution. </p>
<p>If the current program execution was initiated by <a class="el" href="classefun.html#ae5c7019db4983c1c09bbf9ebe1b93869" title="Evaluate the expressions. ">efun::catch()</a>, that catch expression will return arg as error code, else the arg will printed as error message.</p>
<p>This is very similar to <a class="el" href="classefun.html#a4a206a58fea219e3186d92d4adf5c3ea" title="Abort execution. ">efun::throw()</a>, but while <a class="el" href="classefun.html#a4a206a58fea219e3186d92d4adf5c3ea" title="Abort execution. ">efun::throw()</a> is intended to be called inside <a class="el" href="classefun.html#ae5c7019db4983c1c09bbf9ebe1b93869" title="Evaluate the expressions. ">efun::catch()</a>, <a class="el" href="classefun.html#a1a2e9b7b0572256c53dcbc0241cce424" title="Abort execution. ">efun::raise_error()</a> can be called anywhere. Furthermore, <a class="el" href="classefun.html#a1a2e9b7b0572256c53dcbc0241cce424" title="Abort execution. ">efun::raise_error()</a> includes the complete error handling with generation of a stack backtrace, making it a very expensive function.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a1a2e9b7b0572256c53dcbc0241cce424">raise_error</a>(string arg)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ae5c7019db4983c1c09bbf9ebe1b93869" title="Evaluate the expressions. ">efun::catch()</a>, <a class="el" href="classefun.html#a4a206a58fea219e3186d92d4adf5c3ea" title="Abort execution. ">efun::throw()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a46d5867364460af09487db7fb71e9574"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int random </td>
          <td>(</td>
          <td class="paramtype">int n&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a number in the random range [0 . </p>
<p>. n-1].</p>
<p>The random number generator is proven to deliver an equal distribution of numbers over a big range, with no repetition of number sequences for a long time. The downside of these (desirable) qualities is that when generating numbers in a small range over short time, certain numbers will appear far more often than others.</p>
<p>The only solution is the implementation of a special simul_efun which takes special steps to implement an equal distribution over small ranges and short times.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a46d5867364460af09487db7fb71e9574">random</a>(int n)</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="a45d3491b9a1f26d6816b7409ca785150"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string read_bytes </td>
          <td>(</td>
          <td class="paramtype">string file&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int start&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int number&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads a given amount of bytes from file. </p>
<p>If <code>start</code> is not given or 0, the file is read from the beginning, else from byte <code>start</code> on. If <code>start</code> is negative, it is counted from the end of the file. <code>number</code> is the number of bytes to read. 0 or negative values are possible, but not useful. If <code>start</code> would be outside the actual size of the file, 0 is returned instead of a string.</p>
<p>The maximum bytes being read per call is <code>LIMIT_BYTE</code> (see <a class="el" href="classefun.html#a810ac293b0967a7d3129f745c9b2d9e6" title="Return an array with the current runtime limits, resp. ">efun::query_limits()</a>).</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a45d3491b9a1f26d6816b7409ca785150">read_bytes</a>(string file, int start, int number)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a691ba221d2589d03d70a2b024644d250" title="Reads lines from file. ">efun::read_file()</a>, <a class="el" href="classefun.html#aace43816f21156a6d6f2487d1a4d43c8" title="Write string str to file file by overwriting the old bytes at position start. ">efun::write_bytes()</a>, <a class="el" href="classefun.html#a383474b75b88587a17308ed30dfea60d" title="Append the string str to the file file. ">efun::write_file()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a691ba221d2589d03d70a2b024644d250"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string read_file </td>
          <td>(</td>
          <td class="paramtype">string file&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int start&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int number&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads lines from file. </p>
<p>If <code>start</code> is not given or 0, the file is read from the beginning, else the efun starts reading at the beginning of line <code>start</code>.</p>
<p>If <code>number</code> is not given or 0, the whole file is read, else just the given amount of lines.</p>
<p>If <code>start</code> would be outside the actual size of the file, 0 is returned instead of a string.</p>
<p>The maximum bytes (not lines!) being read per call is <code>LIMIT_FILE</code> (see <a class="el" href="classefun.html#a810ac293b0967a7d3129f745c9b2d9e6" title="Return an array with the current runtime limits, resp. ">efun::query_limits()</a>).</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a691ba221d2589d03d70a2b024644d250">read_file</a>(string file, int start, int number)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a45d3491b9a1f26d6816b7409ca785150" title="Reads a given amount of bytes from file. ">efun::read_bytes()</a>, <a class="el" href="classefun.html#a383474b75b88587a17308ed30dfea60d" title="Append the string str to the file file. ">efun::write_file()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af28bd368a436849fb5195eb34ca53af3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int referencep </td>
          <td>(</td>
          <td class="paramtype">mixed arg&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>returns true if arg was passed by reference to the current function, instead of the usual call-by-value. </p>
<p>Note that arg has to be passed by reference to the efun, a.g. <code>referencep(&amp;x)</code>.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#af28bd368a436849fb5195eb34ca53af3">referencep</a>(mixed arg)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="driver_syntax_references.html">reference</a>, <a class="el" href="classefun.html#a62a23bfd4fb3823c9d808b3bff345980" title="The efun returns 1 if obj is a clone, and 0 if it is not. ">efun::clonep()</a>, <a class="el" href="classefun.html#af96696b3733777271624be5575c72726" title="Returns 1 if the argument is a closure. ">efun::closurep()</a>, <a class="el" href="classefun.html#a1493e7a68d0e7eb19f5f60d3c5761e9c" title="Returns 1 if the arg is a floating point number, 0 else. ">efun::floatp()</a>, <a class="el" href="classefun.html#a588bcd8d5f59e8c2c08c0d989c530863" title="Returns 1 if the argument is a mapping, or 0 if it is not. ">efun::mappingp()</a>, <a class="el" href="classefun.html#acc5e526acbd3a54f8f9625cc1fdc7f75" title="Return 1 if arg is an object. ">efun::objectp()</a>, <a class="el" href="classefun.html#aae25e47ee6526e8297fa3d9c822a22be" title="Return 1 if arg is an integer number. ">efun::intp()</a>, <a class="el" href="classefun.html#a3c94a0dd0f29e1f90f48d17e53fec879" title="Return 1 if arg is a pointer, i.e. ">efun::pointerp()</a>, <a class="el" href="classefun.html#ad45cc3605ecbe92c52b8c1c8408da017" title="Return 1 if arg is a string. ">efun::stringp()</a>, <a class="el" href="classefun.html#aa0bbde61230276ac5155fa61b54c63f2" title="Returns 1 if value is a symbol. ">efun::symbolp()</a>, <a class="el" href="classefun.html#a1f75bb586fd744aa865714d4bab27b34" title="Return 1 if arg is a struct. ">efun::structp()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a07319596f18abab5f21aceb457e701af"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string* regexp </td>
          <td>(</td>
          <td class="paramtype">string  *&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string pattern&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int opt&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Match the pattern <code>pattern</code> (interpreted according to <code>opt</code> if given) against all strings in list, and return a new array with all strings that matched. </p>
<p>If there is an error in the regular expression, a runtime error will be raised.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> * <a class="code" href="classefun.html#a07319596f18abab5f21aceb457e701af">regexp</a>(string *list, string pattern)</div>
<div class="line">string * regexp(string *list, string pattern, int opt)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">This example uses a regular expression to test the given string (which is packed into an array) if there is something like "help ... me" inside of it:</p>
<div class="fragment"><div class="line"><span class="keywordtype">string</span> strs;</div>
<div class="line"><span class="keywordtype">string</span> pattern;</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span> (<a class="code" href="classefun.html#afdcf6400eb2e83e3a5ec3d355f4f78bd">regexp_package</a>() == RE_PCRE)</div>
<div class="line">    pattern = <span class="stringliteral">&quot;\\&lt;help\\&gt;.*\\&lt;me\\&gt;&quot;</span>;</div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">    pattern = <span class="stringliteral">&quot;\\bhelp\\b.*\\bme\\b&quot;</span>;</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span> (strs = <a class="code" href="classefun.html#a07319596f18abab5f21aceb457e701af">regexp</a>(({<span class="stringliteral">&quot;please, help me Sir John.&quot;</span>}), pattern)) {</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(strs)</div>
<div class="line">        <a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<span class="stringliteral">&quot;It matches.\n&quot;</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.3) -- added the optional opt argument.</div>
<div class="line">changed (3.5.0) -- an error is raised <span class="keywordflow">if</span> RE_PCRE is specified in opt, but the driver lacks PCRE support.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a785445d41389aab57b55a2bfbccbb436" title="This function is similar to explode but accepts a regular expression pattern as delimiter (interprete...">efun::regexplode()</a>, <a class="el" href="classefun.html#af3461a938f0dda8a3ff3f23f4d4a0896" title="Match the string text against pattern (interpreted according to opt if given). ">efun::regmatch()</a>, <a class="el" href="classefun.html#a1a9644b0891c8674664e2c80aff7f963" title="This function looks through txt looking for the regular expression pattern. ">efun::regreplace()</a>, <a class="el" href="classefun.html#afdcf6400eb2e83e3a5ec3d355f4f78bd" title="Return which regexp package is used by default: ">efun::regexp_package()</a>, <a class="el" href="classefun.html#a45e3a155fb859f16c2600eac07df15f5" title="Parse a string str using the format fmt. ">efun::sscanf()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="afdcf6400eb2e83e3a5ec3d355f4f78bd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int regexp_package </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return which regexp package is used by default: </p>
<p><a class="el" href="driver_topics_regexp.html">RE_TRADITIONAL</a>: traditional regexps <a class="el" href="driver_topics_regexp.html">RE_PCRE</a>: PCRE</p>
<p>As the package can be selected at runtime through the <a class="el" href="driver_hook_regexp_package.html">H_REGEXP_PACKAGE</a> driver hook, there is no good way to determine the package at LPC compile time. Match the pattern &lt;pattern&gt; (interpreted according to &lt;opt&gt; if given) against all strings in list, and return a new array with all strings that matched.</p>
<p>If there is an error in the regular expression, a runtime error will be raised.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#afdcf6400eb2e83e3a5ec3d355f4f78bd">regexp_package</a>()</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">This example uses a regular expression to test the given string (which is packed into an array) if there is something like "help ... me" inside of it:</p>
<div class="fragment"><div class="line"><span class="keywordtype">string</span> strs;</div>
<div class="line"><span class="keywordtype">string</span> pattern;</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span> (<a class="code" href="classefun.html#afdcf6400eb2e83e3a5ec3d355f4f78bd">regexp_package</a>() == RE_PCRE)</div>
<div class="line">    pattern = <span class="stringliteral">&quot;\\&lt;help\\&gt;.*\\&lt;me\\&gt;&quot;</span>;</div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">    pattern = <span class="stringliteral">&quot;\\bhelp\\b.*\\bme\\b&quot;</span>;</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span> (strs = <a class="code" href="classefun.html#a07319596f18abab5f21aceb457e701af">regexp</a>(({<span class="stringliteral">&quot;please, help me Sir John.&quot;</span>}), pattern)) {</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(strs)</div>
<div class="line">        <a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<span class="stringliteral">&quot;It matches.\n&quot;</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.634)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a07319596f18abab5f21aceb457e701af" title="Match the pattern pattern (interpreted according to opt if given) against all strings in list...">efun::regexp()</a>, <a class="el" href="classefun.html#a785445d41389aab57b55a2bfbccbb436" title="This function is similar to explode but accepts a regular expression pattern as delimiter (interprete...">efun::regexplode()</a>, <a class="el" href="classefun.html#af3461a938f0dda8a3ff3f23f4d4a0896" title="Match the string text against pattern (interpreted according to opt if given). ">efun::regmatch()</a>, <a class="el" href="classefun.html#a1a9644b0891c8674664e2c80aff7f963" title="This function looks through txt looking for the regular expression pattern. ">efun::regreplace()</a>, <a class="el" href="classefun.html#a45e3a155fb859f16c2600eac07df15f5" title="Parse a string str using the format fmt. ">efun::sscanf()</a>, <a class="el" href="driver_hook_regexp_package.html">regexp_package</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a785445d41389aab57b55a2bfbccbb436"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string* regexplode </td>
          <td>(</td>
          <td class="paramtype">string text&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string pattern&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int opt&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function is similar to explode but accepts a regular expression <code>pattern</code> as delimiter (interpreted according to <code>opt</code> if given). </p>
<p>If flag <code>RE_OMIT_DELIM</code> is not set in <code>opt</code>, then every second element in the result vector will be the text that matched the delimiter. If the flag is set, then the result vector will contain only the text between the delimiters.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> * <a class="code" href="classefun.html#a785445d41389aab57b55a2bfbccbb436">regexplode</a>(string text, string pattern)</div>
<div class="line">string * <a class="code" href="classefun.html#a785445d41389aab57b55a2bfbccbb436">regexplode</a>(string text, string pattern, int opt)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><a class="code" href="classefun.html#a785445d41389aab57b55a2bfbccbb436">regexplode</a>(<span class="stringliteral">&quot;abcdef&quot;</span>, <span class="stringliteral">&quot;cde&quot;</span>)                <span class="comment">// ({ &quot;ab&quot;, &quot;cde&quot;, &quot;f&quot; })</span></div>
<div class="line"><a class="code" href="classefun.html#a785445d41389aab57b55a2bfbccbb436">regexplode</a>(&quot;abcdef&quot;, &quot;cde&quot;, RE_OMIT_DELIM) <span class="comment">// ({ &quot;ab&quot;, &quot;f&quot; })</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2@61)</div>
<div class="line">changed (3.3) -- added the optional opt argument and the RE_OMIT_DELIM flag.</div>
<div class="line">changed (3.5.0) -- an error is raised if RE_PCRE is specified in opt, but the driver lacks PCRE support.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a5b90a42c555bc61599b700a31b530082" title="Return an array of strings, created when the string str is split into substrings as divided by del...">efun::explode()</a>, <a class="el" href="classefun.html#a07319596f18abab5f21aceb457e701af" title="Match the pattern pattern (interpreted according to opt if given) against all strings in list...">efun::regexp()</a>, <a class="el" href="classefun.html#af3461a938f0dda8a3ff3f23f4d4a0896" title="Match the string text against pattern (interpreted according to opt if given). ">efun::regmatch()</a>, <a class="el" href="classefun.html#a1a9644b0891c8674664e2c80aff7f963" title="This function looks through txt looking for the regular expression pattern. ">efun::regreplace()</a>, <a class="el" href="classefun.html#afdcf6400eb2e83e3a5ec3d355f4f78bd" title="Return which regexp package is used by default: ">efun::regexp_package()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af3461a938f0dda8a3ff3f23f4d4a0896"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string* regmatch </td>
          <td>(</td>
          <td class="paramtype">string text&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string pattern&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int opt&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int start&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Match the string <code>text</code> against <code>pattern</code> (interpreted according to <code>opt</code> if given). </p>
<p>If <code>start</code> is given, it is the start position for the match and must be in the range <code>[0..strlen(text)]</code>.</p>
<p>If there is no match, the result is 0. If there is a match, the exact result is determined by the flag <code>RE_MATCH_SUBS</code>:</p>
<p>If the flag <code>RE_MATCH_SUBS</code> is not set, the result is the matched expression.</p>
<p>If the flag <code>RE_MATCH_SUBS</code> is set, the result is an array of the matched string(s) of the first match. Entry [0] is the full string matching the <code>pattern</code>, following entries are the string segments matching parenthesized subexpressions in <code>pattern</code>. If a particular subexpression didn't have a match, the corresponding array entry will be 0.</p>
<p>The last entry in the array will be the new start index in case you want to repeat the match on the remaining parts of the string. This new index is usually equal the length of the match, but at least one higher than the original start index.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#af3461a938f0dda8a3ff3f23f4d4a0896">regmatch</a>(string text, string pattern)</div>
<div class="line">string <a class="code" href="classefun.html#af3461a938f0dda8a3ff3f23f4d4a0896">regmatch</a>(string text, string pattern, int opt)</div>
<div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#af3461a938f0dda8a3ff3f23f4d4a0896">regmatch</a>(string text, string pattern, int opt, int start)</div>
<div class="line"><span class="keywordtype">string</span> * <a class="code" href="classefun.html#af3461a938f0dda8a3ff3f23f4d4a0896">regmatch</a>(string text, string pattern, int opt)</div>
<div class="line"><span class="keywordtype">string</span> * <a class="code" href="classefun.html#af3461a938f0dda8a3ff3f23f4d4a0896">regmatch</a>(string text, string pattern, int opt, int start)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><a class="code" href="classefun.html#af3461a938f0dda8a3ff3f23f4d4a0896">regmatch</a>(<span class="stringliteral">&quot;abcdefcdf&quot;</span>, <span class="stringliteral">&quot;cd&quot;</span>)    <span class="comment">// &quot;cd&quot;</span></div>
<div class="line"><a class="code" href="classefun.html#af3461a938f0dda8a3ff3f23f4d4a0896">regmatch</a>(&quot;abcdefcdf&quot;, &quot;cd(e)&quot;) <span class="comment">// &quot;cde&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="classefun.html#af3461a938f0dda8a3ff3f23f4d4a0896">regmatch</a>(&quot;abcdefcdf&quot;, &quot;cd&quot;, RE_MATCH_SUBS)    <span class="comment">// ({ &quot;cd&quot; })</span></div>
<div class="line"><a class="code" href="classefun.html#af3461a938f0dda8a3ff3f23f4d4a0896">regmatch</a>(&quot;abcdefcdf&quot;, &quot;cd(e)&quot;, RE_MATCH_SUBS) <span class="comment">// ({ &quot;cde&quot;, &quot;e&quot; })</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.198)</div>
<div class="line">changed (3.3.214) -- returns 0 for non-matches, and takes and returns a start position.</div>
<div class="line">changed (3.5.0) -- an error is raised if RE_PCRE is specified in opt, but the driver lacks PCRE support.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a785445d41389aab57b55a2bfbccbb436" title="This function is similar to explode but accepts a regular expression pattern as delimiter (interprete...">efun::regexplode()</a>, <a class="el" href="classefun.html#a1a9644b0891c8674664e2c80aff7f963" title="This function looks through txt looking for the regular expression pattern. ">efun::regreplace()</a>, <a class="el" href="classefun.html#a07319596f18abab5f21aceb457e701af" title="Match the pattern pattern (interpreted according to opt if given) against all strings in list...">efun::regexp()</a>, <a class="el" href="classefun.html#afdcf6400eb2e83e3a5ec3d355f4f78bd" title="Return which regexp package is used by default: ">efun::regexp_package()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1a9644b0891c8674664e2c80aff7f963"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string regreplace </td>
          <td>(</td>
          <td class="paramtype">string txt&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string pattern&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">closure|&#160;</td>
          <td class="paramname"><em>string replacepattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int flags&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function looks through txt looking for the regular expression pattern. </p>
<p>If it finds it, it replaces it by the replacepattern.</p>
<p>The replacepattern can be a constant string, or a closure taking the matched substring and the position at which it was found as arguments and returning the replacement pattern string.</p>
<p>The flag is a bitmask of the usual regexp options. Additionally the efun recognizes <code>RE_GLOBAL</code>: if set, the search and replace is repeated as often as the pattern matches.</p>
<p>The function returns the modified string (or the original if it wasn't modified).</p>
<p>The function behaves like the s/pattern/replacepattern/flags in editors as ed/vi or sed. The power of this function lies in replacing variable strings (as opposed to regexplode, where you can explode by regular expression, but not implode...)</p>
<p>Author driver_mailto:Marcus "Marcus@TAPPMud" contributed the original idea for the efun and the man page.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a1a9644b0891c8674664e2c80aff7f963">regreplace</a>(string txt, string pattern, closure|string replacepattern, int flags)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> msgin;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Checks msgin for the string &#39;tells you: &#39; and all following</span></div>
<div class="line"><span class="comment">// characters and encloses those characters by &lt;underline&gt;</span></div>
<div class="line"><span class="comment">// and &lt;/underline&gt;. global.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line">msgin = <a class="code" href="classefun.html#a1a9644b0891c8674664e2c80aff7f963">regreplace</a>(msgin, <span class="stringliteral">&quot;tells you: (.*)&quot;</span>,</div>
<div class="line">         <span class="stringliteral">&quot;tells you: &lt;underline&gt;\\1&lt;/underline&gt;&quot;</span>, 1);</div>
<div class="line"></div>
<div class="line"><span class="comment">// replaces all &lt;underline&gt; html tags by the vt100 escape</span></div>
<div class="line"><span class="comment">// sequence for underline.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line">txt = <a class="code" href="classefun.html#a1a9644b0891c8674664e2c80aff7f963">regreplace</a>(txt, <span class="stringliteral">&quot;&lt;underline&gt;&quot;</span>, <span class="stringliteral">&quot;&lt;ESC&gt;[5m&quot;</span>, 1);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Put the word HOUSE into lower case.</span></div>
<div class="line">txt = <a class="code" href="classefun.html#a1a9644b0891c8674664e2c80aff7f963">regreplace</a>(txt, <span class="stringliteral">&quot;HOUSE&quot;</span>,</div>
<div class="line">        <span class="keyword">function</span> <span class="keywordtype">string</span> (<span class="keywordtype">string</span> s) {<span class="keywordflow">return</span> <a class="code" href="classefun.html#aa09b025daf57d621ec68445ba592caeb">lower_case</a>(s);},</div>
<div class="line">        1);</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.1@125)</div>
<div class="line">changed (3.2.9) -- accepts a closure as replacepattern</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a07319596f18abab5f21aceb457e701af" title="Match the pattern pattern (interpreted according to opt if given) against all strings in list...">efun::regexp()</a>, <a class="el" href="classefun.html#a785445d41389aab57b55a2bfbccbb436" title="This function is similar to explode but accepts a regular expression pattern as delimiter (interprete...">efun::regexplode()</a>, <a class="el" href="classefun.html#af3461a938f0dda8a3ff3f23f4d4a0896" title="Match the string text against pattern (interpreted according to opt if given). ">efun::regmatch()</a>, <a class="el" href="classefun.html#afdcf6400eb2e83e3a5ec3d355f4f78bd" title="Return which regexp package is used by default: ">efun::regexp_package()</a>, <a class="el" href="classefun.html#a45e3a155fb859f16c2600eac07df15f5" title="Parse a string str using the format fmt. ">efun::sscanf()</a>, <a class="el" href="classefun.html#af80dda2f2c6c28eac1373d859e1ad6b5" title="Remove all leading and trailing characters ch from the string s and return the new string...">efun::trim()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a407f5a9d77743e830e1d7a59c0d10d9c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int remove_action </td>
          <td>(</td>
          <td class="paramtype">int|&#160;</td>
          <td class="paramname"><em>string verb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If <code>verb</code> is a string: remove the first action defined by the current object with the given <code>verb</code> from <code>ob</code> (default is <code><a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af" title="Return the current command giver. ">this_player()</a></code>). </p>
<p>Return 1 if the action was found and removed, and 0 else.</p>
<p>If <code>verb</code> is a number: if non-0, remove all actions defined by the current object from <code>ob</code> (default is <code><a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af" title="Return the current command giver. ">this_player()</a></code>). Return the number of actions removed.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a407f5a9d77743e830e1d7a59c0d10d9c">remove_action</a>(<span class="keywordtype">int</span>|string verb)</div>
<div class="line">int <a class="code" href="classefun.html#a407f5a9d77743e830e1d7a59c0d10d9c">remove_action</a>(<span class="keywordtype">int</span>|string verb, object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.1)</div>
<div class="line">changed (3.2.10) -- added the ability to remove all actions.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#aa1a689311c00f31fcf25985a16a6eaef" title="Set up a local function fun to be called when user input matches the command cmd. ...">efun::add_action()</a>, <a class="el" href="classefun.html#a4190a089c412b88e938a4a34865e8366" title="The item, which can be an object_name or an object, is moved into it&#39;s new environment dest...">efun::move_object()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aa9d968db432f5efab59603401e05b2c7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int remove_call_out </td>
          <td>(</td>
          <td class="paramtype">closure fun&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove next pending call-out for function <code>fun</code> in the current object, resp. </p>
<p>the next pending call-out for closure <code>fun</code>. The time left is returned.</p>
<p>-1 is returned if there were no call-outs pending to this function.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#aa9d968db432f5efab59603401e05b2c7">remove_call_out</a>(string fun)</div>
<div class="line">int <a class="code" href="classefun.html#aa9d968db432f5efab59603401e05b2c7">remove_call_out</a>(closure fun)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">To remove every pending call-out to <code>MyTimer()</code>:</p>
<div class="fragment"><div class="line"><span class="keywordflow">while</span> (<a class="code" href="classefun.html#aa9d968db432f5efab59603401e05b2c7">remove_call_out</a>(<span class="stringliteral">&quot;MyTimer&quot;</span>) != -1) <span class="keywordflow">continue</span>;</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.1) -- can now <span class="keyword">remove</span> a <a class="code" href="classefun.html#a80949ae9919cf34ceed353d2f3a005b8">call_out</a> to a closure</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a80949ae9919cf34ceed353d2f3a005b8" title="Set up a call to function fun in the current object, or to closure cl. ">efun::call_out()</a>, <a class="el" href="classefun.html#ab38f224f65efce3dad779451c371e87b" title="Get information about all pending call outs. ">efun::call_out_info()</a>, <a class="el" href="classefun.html#a92bee49ec4c05a18a4b152ba54656377" title="Find the first call-out due to be executed for function func in the current object resp...">efun::find_call_out()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a5a351739113e6cf32a6dd7d274c068bf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int remove_input_to </td>
          <td>(</td>
          <td class="paramtype">object player&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string fun&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove a pending input_to from the interactive <code>player</code> object. </p>
<p>If the optional <code>fun</code> is not given, the most recently added input_to is removed.</p>
<p>If the optional <code>fun</code> is given, the efun tries to find and remove the most recently added input_to matching the <code>fun</code> argument:</p>
<ul>
<li><code>fun</code> is a string: the input_to functionname has to match</li>
<li><code>fun</code> is an object: the object the input_to function is bound to has to match</li>
<li><code>fun</code> is a closure: the input_to closure has to match.</li>
<li><code>ob</code> and <code>fun</code> are given: both the object and the functionname have to match</li>
</ul>
<p>Return 1 on success, or 0 on failure (no input_to found, object is not interactive or has no input_to pending).</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a5a351739113e6cf32a6dd7d274c068bf">remove_input_to</a>(object player)</div>
<div class="line">int <a class="code" href="classefun.html#a5a351739113e6cf32a6dd7d274c068bf">remove_input_to</a>(object player, string fun)</div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a5a351739113e6cf32a6dd7d274c068bf">remove_input_to</a>(object player, closure fun)</div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a5a351739113e6cf32a6dd7d274c068bf">remove_input_to</a>(object player, object fun)</div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a5a351739113e6cf32a6dd7d274c068bf">remove_input_to</a>(object player, object ob, string fun)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">Remove all pending input_to from the current user, if any:</p>
<div class="fragment"><div class="line"><span class="keywordflow">while</span> (<a class="code" href="classefun.html#a5a351739113e6cf32a6dd7d274c068bf">remove_input_to</a>(<a class="code" href="classefun.html#af4fe93bc840224313bc10d018ef288ad">this_interactive</a>())) ;</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.9/3.3.119)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#af611da839c18f550d1639881f3f3cade" title="Enable next line of user input to be sent to the function fun as an argument. ">efun::input_to()</a>, <a class="el" href="classefun.html#a93b1b26ca8321d256d3613066fab2966" title="Find the input_to most recently added to the interactive player object matching the fun argument: ...">efun::find_input_to()</a>, <a class="el" href="classefun.html#a0f74585c69a687a66806f986fa76b5bd" title="Construct an array of all input_to&#39;s pending for this interactive player. ">efun::input_to_info()</a>, <a class="el" href="classefun.html#a580be578b8c57465f68a84e509c12c29" title="If ob is interactive and currently has an efun::input_to() pending, the object that has called the ef...">efun::query_input_pending()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="acd424d044248f14158748c7085f7879a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void remove_interactive </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close the connection to the interactive object ob. </p>
<p>For the time of the LPC execution, the object is only marked internally as 'about to be closed', meaning that while all output will be redirected to stdout, the actual network connection will continue to exist until the LPC execution ends.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#acd424d044248f14158748c7085f7879a">remove_interactive</a>(object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classmaster.html#a5ba74ee9cd2ce5203374a79f48f908d7" title="Return a login object that the requested connection should be bound to. ">master::connect()</a>, <a class="el" href="classapplied.html#a6b064bd51c85a6644ac5d38ae5276815" title="When the driver created a new connection (either by accepting it or by creating it with efun::net_con...">applied::logon()</a>, <a class="el" href="classmaster.html#abc8fd8de1c33ab91cfed9fda1c742b11" title="Handle the loss of the IP connection for the (formerly) interactive object ob. ">master::disconnect()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a46d8559623ca6901276f7c8f393cab40"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rename </td>
          <td>(</td>
          <td class="paramtype">string from&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string to&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Moves <code>from</code> to the new name <code>to</code>. </p>
<p>If <code>from</code> is a file, then <code>to</code> may be either a file or a directory. If <code>from</code> is a directory, then <code>to</code> has to be a directory. If <code>to</code> exists and is a directory, then <code>from</code> will be placed in that directory and keep its original name.</p>
<p>You must have write permission for <code>from</code> to rename the file.</p>
<p>It is only possible to change name of a directory within a directory on machines running System V, i.e. it is not possible to move to another directory. It is not possible to move a directory across filesystems on any system.</p>
<p>On successfull completion <a class="el" href="classefun.html#a46d8559623ca6901276f7c8f393cab40" title="Moves from to the new name to. ">efun::rename()</a> will return 0. If any error occurs, a non-zero value is returned.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a46d8559623ca6901276f7c8f393cab40">rename</a>(string from, string to)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd"><code>rename("/players/wizard/obj.c", "/players/wizard/newobj.c");</code></p>
<p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a32df4398750cc0fbab7b4e55f30a536b" title="Copies the file from to the new name to. ">efun::copy_file()</a>, <a class="el" href="classefun.html#a04954648bada0ed418aae3b3d42e552c" title="Make a directory named path. ">efun::mkdir()</a>, <a class="el" href="classefun.html#a2fb85ac66a311b390a291be362fe3f50" title="Remove directory dir. ">efun::rmdir()</a>, <a class="el" href="classefun.html#aaec3d134cb8138d71a07a58e90503ff1" title="Remove the file. ">efun::rm()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af4de6d3ac3373ec8a4d78ebe32c068ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rename_object </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string new_name&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Give the object <code>ob</code> a new object name <code>new_name</code>. </p>
<p>Causes a privilege violation. The new name must not contain a # character, except at the end, to avoid confusion with clone numbers.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#af4de6d3ac3373ec8a4d78ebe32c068ff">rename_object</a>(object ob, string new_name)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2@55)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a55343a0ba8533a02cda89031a6fa91b7" title="This efun is for backward compatibility only. ">efun::creator()</a>, <a class="el" href="classefun.html#a4eae6e47ac233059b5613c83cf5855e0" title="Get the name of an object ob or, if no argument is given, of the current object. ">efun::object_name()</a>, <a class="el" href="classefun.html#a844fa0ed8be8f868d0d4b7a98a20f707" title="Return the load name for the object obj which may be given directly or by its name. ">efun::load_name()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a0dc3b4d26c35f8eeae78a2cc913dfa07"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void replace_program </td>
          <td>(</td>
          <td class="paramtype">string program&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Substitutes a program with the inherited program <code>program</code>. </p>
<p>If the object inherits only one program, the argument may be omitted and the efun will automatically select the one inherited program.</p>
<p>This efun is useful if you consider the performance and memory consumption of the driver. A program which doesn't need any additional variables and functions (except during creation) can call <a class="el" href="classefun.html#a0dc3b4d26c35f8eeae78a2cc913dfa07" title="Substitutes a program with the inherited program program. ">efun::replace_program()</a> to increase the function-cache hit-rate of the driver which decreases with the number of programs in the system.</p>
<dl class="section user"><dt>warning: Replacing an object's program removes all of its shadows.</dt><dd></dd></dl>
<p>Rooms are a good example for the application of this function, as many rooms just consist of an inherit statement and the configure function. Any object can call <a class="el" href="classefun.html#a0dc3b4d26c35f8eeae78a2cc913dfa07" title="Substitutes a program with the inherited program program. ">efun::replace_program()</a> but looses all extra variables and functions which are not defined by the inherited program.</p>
<p>It is not possible to replace the program of an object after (lambda) closures have been bound to it. It is of course possible to first replace the program and then bind lambda closures to it.</p>
<p>The program replacement does not take place with the call to the efun, but is merely scheduled to be carried out at the end of the backend cycle. This may cause closures to have references to then vanished lfuns of the object. This poses no problem as long as these references are never executed after they became invalid.</p>
<dl class="section user"><dt>limit: If the replacement program contains virtually inherited variables, it must be the first inherited program. Without this restriction, the wrong variables would survive the replacement process.</dt><dd></dd></dl>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a0dc3b4d26c35f8eeae78a2cc913dfa07">replace_program</a>()</div>
<div class="line">void <a class="code" href="classefun.html#a0dc3b4d26c35f8eeae78a2cc913dfa07">replace_program</a>(string program)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2@166) -- removes shadows from the <span class="keywordtype">object</span></div>
<div class="line">changed (3.2.9) -- allowed to omit the argument <span class="keywordflow">if</span> only one inherit exists.</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="afb378a5ffc2d2142a7bf9cae11a04203"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int restore_object </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Restore values of variables for current object from the file <code>name</code>, or directly from the string <code>str</code>. </p>
<p>To restore directly from a string <code>str</code>, the string must begin with the typical line <code>#x:y</code> as it is created by <a class="el" href="classefun.html#a5f0c2d12abfcccf088e5a10fe1ebbb90" title="Encode the saveable variables of the current object into a string. ">efun::save_object()</a>.</p>
<p>When restoring from a file, the name may end in <code>.c</code> which is stripped off by the parser. The master object will probably append a <code>.o</code> to the <code>name</code>. The validity of the filename is checked with a call to <code>check_valid_path</code>.</p>
<p>Return 1 on success, 0 if there was nothing to restore.</p>
<p>Variables with &gt;&gt;:modifer:<code>nosave</code>&lt;&lt; will not be restored:</p>
<div class="fragment"><div class="line">``nosave <span class="keywordtype">int</span> xxx;``</div>
</div><!-- fragment --><p> Lfun, variable and simul_efun closures are restored only if they can be found (this excludes closures of private lfuns as well) - if not, they are restored as value <code>0</code>.</p>
<p>If inheritance is used, then it might be possible that a variable will exist with the same name in more than one place, and thus appear in the save file multiple times. When restoring, the variables are restored in the order they are found in the inheritance tree. A good practice is to have verbose and unique name on non-static variables, which also will make it more easy to read or patch the save file manually.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#afb378a5ffc2d2142a7bf9cae11a04203">restore_object</a>(string name)</div>
<div class="line">int <a class="code" href="classefun.html#afb378a5ffc2d2142a7bf9cae11a04203">restore_object</a>(string str)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.8) -- added restoring directly from a string.</div>
<div class="line">changed (3.2.9) -- added restoring of non-<a class="code" href="classefun.html#a4ef2926c525dcf7e7d339d3f424b18a9">lambda</a> closures, symbols, and quoted arrays, <span class="keyword">using</span> a <span class="keyword">new</span> savefile format version 1.</div>
<div class="line">changed (3.5.0) -- added the possibility to restore version 2 with its higher <span class="keywordtype">float</span> precision.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a5f0c2d12abfcccf088e5a10fe1ebbb90" title="Encode the saveable variables of the current object into a string. ">efun::save_object()</a>, <a class="el" href="classefun.html#afe6abd17dda2f9ae6d294ee24a750a93" title="Decode the string representation str of a value back into the value itself and return it...">efun::restore_value()</a>, <a class="el" href="classmaster.html#a43ecfe8cbfb8fa9dffacb9111a6d180a" title="This function is called to check if the object ob with the user-id uid has read permissions for the f...">master::valid_read()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="afe6abd17dda2f9ae6d294ee24a750a93"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed restore_value </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decode the string representation <code>str</code> of a value back into the value itself and return it. </p>
<p><code>str</code> is a string as generated by <a class="el" href="classefun.html#ab676d5b80b93cb2d10179256cf89b316" title="Encode the value into a string suitable for restoration with efun::restore_value() and return it...">efun::save_value()</a>.</p>
<p>The <code>#x:y</code> version specification of the saveformat is optional, however the driver will assume the old format version 0 in this case. It is strongly recommended to regard the version specification as non-optional in newly saved values.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed <a class="code" href="classefun.html#afe6abd17dda2f9ae6d294ee24a750a93">restore_value</a>(string str)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.8)</div>
<div class="line">changed (3.2.9) -- added restoring of non-<a class="code" href="classefun.html#a4ef2926c525dcf7e7d339d3f424b18a9">lambda</a> closures, symbols, and quoted arrays, using a new savefile format version 1.</div>
<div class="line">changed (3.5.0) -- added the possibility to restore version 2 with its higher <span class="keywordtype">float</span> precision.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ab676d5b80b93cb2d10179256cf89b316" title="Encode the value into a string suitable for restoration with efun::restore_value() and return it...">efun::save_value()</a>, <a class="el" href="classefun.html#afb378a5ffc2d2142a7bf9cae11a04203" title="Restore values of variables for current object from the file name, or directly from the string str...">efun::restore_object()</a>, <a class="el" href="classefun.html#a5f0c2d12abfcccf088e5a10fe1ebbb90" title="Encode the saveable variables of the current object into a string. ">efun::save_object()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae5b2e07665e24e34a195e790412ef9c3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed* reverse </td>
          <td>(</td>
          <td class="paramtype">mixed *&amp;&#160;</td>
          <td class="paramname"><em> arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reverse the content of array or string <code>arg</code> and return the result. </p>
<p>If <code>arg</code> is an integer, the bits in the integer are reversed.</p>
<p>If called in the reference variant, the argument array itself is reversed and then returned.</p>
<dl class="section user"><dt>limit: Reference ranges like reverse(&amp;(a[1..2])) are not supported.</dt><dd></dd></dl>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#ae5b2e07665e24e34a195e790412ef9c3">reverse</a>(int arg)</div>
<div class="line">string  <a class="code" href="classefun.html#ae5b2e07665e24e34a195e790412ef9c3">reverse</a>(string arg)</div>
<div class="line">mixed * <a class="code" href="classefun.html#ae5b2e07665e24e34a195e790412ef9c3">reverse</a>(mixed * arg)</div>
<div class="line">mixed * <a class="code" href="classefun.html#ae5b2e07665e24e34a195e790412ef9c3">reverse</a>(mixed * &amp; arg)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><a class="code" href="classefun.html#ae5b2e07665e24e34a195e790412ef9c3">reverse</a>(0x306a) <span class="comment">// returns 0x560c0000</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="classefun.html#ae5b2e07665e24e34a195e790412ef9c3">reverse</a>(&quot;test&quot;) <span class="comment">// returns &quot;tset&quot;</span></div>
<div class="line"></div>
<div class="line">mixed * arr = ({ 1, 2 });</div>
<div class="line"><a class="code" href="classefun.html#ae5b2e07665e24e34a195e790412ef9c3">reverse</a>(arr)  <span class="comment">// returns ({ 2, 1 }), leaves arr unchanged.</span></div>
<div class="line"><a class="code" href="classefun.html#ae5b2e07665e24e34a195e790412ef9c3">reverse</a>(&amp;arr) <span class="comment">// returns ({ 2, 1 }), sets arr to ({ 2, 1 })</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.529)</div>
<div class="line">changed (3.3.532) -- added the reversal of bits in an integer.</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="aaec3d134cb8138d71a07a58e90503ff1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rm </td>
          <td>(</td>
          <td class="paramtype">string file&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove the file. </p>
<p>Returns 0 for failure and 1 for success.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#aaec3d134cb8138d71a07a58e90503ff1">rm</a>(string file)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a04954648bada0ed418aae3b3d42e552c" title="Make a directory named path. ">efun::mkdir()</a>, <a class="el" href="classefun.html#a2fb85ac66a311b390a291be362fe3f50" title="Remove directory dir. ">efun::rmdir()</a>, <a class="el" href="classefun.html#a46d8559623ca6901276f7c8f393cab40" title="Moves from to the new name to. ">efun::rename()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a2fb85ac66a311b390a291be362fe3f50"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rmdir </td>
          <td>(</td>
          <td class="paramtype">string dir&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove directory dir. </p>
<p>Return 1 on success, 0 on failure.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a2fb85ac66a311b390a291be362fe3f50">rmdir</a>(string dir)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a04954648bada0ed418aae3b3d42e552c" title="Make a directory named path. ">efun::mkdir()</a>, <a class="el" href="classefun.html#aaec3d134cb8138d71a07a58e90503ff1" title="Remove the file. ">efun::rm()</a>, <a class="el" href="classefun.html#a46d8559623ca6901276f7c8f393cab40" title="Moves from to the new name to. ">efun::rename()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ac150e7930f842694fd159c15bee0fcc8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rmember </td>
          <td>(</td>
          <td class="paramtype">string s&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>elem </em>[, int start]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For arrays and strings, returns the index of the last occurance of second arg in the first arg, or -1 if none found. </p>
<p>If <code>start</code> is given and non-negative, the search starts at that position.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#ac150e7930f842694fd159c15bee0fcc8">rmember</a>(mixed *array, mixed elem [, int start])</div>
<div class="line">int <a class="code" href="classefun.html#ac150e7930f842694fd159c15bee0fcc8">rmember</a>(string s, <span class="keywordtype">int</span> elem [, int start])</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.10)</div>
<div class="line">changed (3.3.556) -- added the start parameter.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#adf2253b4467a0eb544f67ff5777d2fa2" title="For arrays and strings, returns the index of the first occurance of second arg in the first arg...">efun::member()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a83a7cffa7753ffb83fec4e27ed711041"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int* rusage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return an array with current system resource usage statistics, as returned by the getrusage(2) of Unix. </p>
<p>namely:</p>
<div class="fragment"><div class="line">({</div>
<div class="line">  <a class="code" href="classefun.html#a3b84da42b3b5f804d14762ddfcc3da91">utime</a>, stime, maxrss, rus.ru_ixrss, rus.ru_idrss,</div>
<div class="line">  rus.ru_isrss, rus.ru_minflt, rus.ru_majflt, rus.ru_nswap,</div>
<div class="line">  rus.ru_inblock, rus.ru_oublock, rus.ru_msgsnd,</div>
<div class="line">  rus.ru_msgrcv, rus.ru_nsignals, rus.ru_nvcsw,</div>
<div class="line">  rus.ru_nivcsw</div>
<div class="line">})</div>
</div><!-- fragment --><dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> * <a class="code" href="classefun.html#a83a7cffa7753ffb83fec4e27ed711041">rusage</a>(<span class="keywordtype">void</span>)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="a5f0c2d12abfcccf088e5a10fe1ebbb90"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string save_object </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Encode the saveable variables of the current object into a string. </p>
<p>In the first form, the string is written to the file <code>name</code>. A suffix ".c" will be stripped from the name, the suffix ".o" may be added by the master object during the check in <a class="el" href="classmaster.html#a43ecfe8cbfb8fa9dffacb9111a6d180a" title="This function is called to check if the object ob with the user-id uid has read permissions for the f...">master::valid_read()</a>. Result is 0 if the save file could be created, and non-zero on a non-fatal error (file could not be written, or current object is destructed).</p>
<p>In the second form the string is returned directly. If the object is destructed, the result is 0.</p>
<p>In both forms, the optional <code>format</code> argument determines the format of the savefile to be written:</p>
<p>-1: use the driver's native format (default). 0: original format, used by Amylaar LPMud and LDMud &lt;= 3.2.8. 1: LDMud &gt;= 3.2.9: non-lambda closures, symbols, quoted arrays can be saved. 2: LDMUd &gt;= 3.5.0: floats are stored in a different way, which is more compact and can store the new floats losslessly.</p>
<p>It is recommended to use version 2 or higher.</p>
<p>A variable is considered 'saveable' if it is not declared as 'nosave' or 'static'.</p>
<p>Only lfuns bound to the current object can be saved.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a5f0c2d12abfcccf088e5a10fe1ebbb90">save_object</a>(<span class="keywordtype">string</span> name [, int format])</div>
<div class="line">string <a class="code" href="classefun.html#a5f0c2d12abfcccf088e5a10fe1ebbb90">save_object</a>([int format])</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">      changed (3.2.8) -- now returns a success value.</div>
<div class="line"></div>
<div class="line">supports direct encoding into a string.</div>
<div class="line">      now returns a success value.</div>
<div class="line">      supports direct encoding into a string.</div>
<div class="line">      changed (3.2.9) -- added restoring of non-<a class="code" href="classefun.html#a4ef2926c525dcf7e7d339d3f424b18a9">lambda</a> closures, symbols, and quoted arrays, <span class="keyword">using</span> a <span class="keyword">new</span> savefile format version 1.</div>
<div class="line">      changed (3.2.10) -- added the format argument.</div>
<div class="line">      changed (3.5.0) -- added the possibility to restore version 2 with its higher <span class="keywordtype">float</span> precision.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#afb378a5ffc2d2142a7bf9cae11a04203" title="Restore values of variables for current object from the file name, or directly from the string str...">efun::restore_object()</a>, <a class="el" href="classefun.html#ab676d5b80b93cb2d10179256cf89b316" title="Encode the value into a string suitable for restoration with efun::restore_value() and return it...">efun::save_value()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ab676d5b80b93cb2d10179256cf89b316"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string save_value </td>
          <td>(</td>
          <td class="paramtype">mixed value&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int format&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Encode the <code>value</code> into a string suitable for restoration with <a class="el" href="classefun.html#afe6abd17dda2f9ae6d294ee24a750a93" title="Decode the string representation str of a value back into the value itself and return it...">efun::restore_value()</a> and return it. </p>
<p>The optional <code>format</code> argument determines the format of the savefile to be written:</p>
<p>-1: use the driver's native format (default). 0: original format, used by Amylaar LPMud and LDMud &lt;= 3.2.8 . 1: LDMud &gt;= 3.2.9: no-lambda closures, symbols, quoted arrays can be saved. 2: LDMUd &gt;= 3.5.0: floats are stored in a different way, which is more compact and can store the new floats losslessly.</p>
<p>It is recommended to use version 2 or higher.</p>
<p>The created string consists of two lines, each terminated with a newline character: the first line describes the format used to save the value in the <code>#x:y</code> notation; the second line is the representation of the value itself.</p>
<p>The format of the encoded value and of the format line matches the format used by <a class="el" href="classefun.html#a5f0c2d12abfcccf088e5a10fe1ebbb90" title="Encode the saveable variables of the current object into a string. ">efun::save_object()</a> and <a class="el" href="classefun.html#afb378a5ffc2d2142a7bf9cae11a04203" title="Restore values of variables for current object from the file name, or directly from the string str...">efun::restore_object()</a>.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#ab676d5b80b93cb2d10179256cf89b316">save_value</a>(mixed value)</div>
<div class="line">string <a class="code" href="classefun.html#ab676d5b80b93cb2d10179256cf89b316">save_value</a>(mixed value, int format)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.8)</div>
<div class="line">changed (3.2.9) -- added restoring of non-<a class="code" href="classefun.html#a4ef2926c525dcf7e7d339d3f424b18a9">lambda</a> closures, symbols, and quoted arrays, using a new savefile format version 1.</div>
<div class="line">changed (3.2.10) -- added the format argument.</div>
<div class="line">changed (3.5.0) -- added the possibility to restore version 2 with its higher <span class="keywordtype">float</span> precision.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#afe6abd17dda2f9ae6d294ee24a750a93" title="Decode the string representation str of a value back into the value itself and return it...">efun::restore_value()</a>, <a class="el" href="classefun.html#afb378a5ffc2d2142a7bf9cae11a04203" title="Restore values of variables for current object from the file name, or directly from the string str...">efun::restore_object()</a>, <a class="el" href="classefun.html#a5f0c2d12abfcccf088e5a10fe1ebbb90" title="Encode the saveable variables of the current object into a string. ">efun::save_object()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a9047308a38d0fbf3c038db31e501851d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void say </td>
          <td>(</td>
          <td class="paramtype">mixed *|mapping|struct|&#160;</td>
          <td class="paramname"><em>object msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object  *&#160;</td>
          <td class="paramname"><em>excludes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>There are two major modes of calling: </p>
<p>If the first argument is a string <code>str</code>, it will be send to all livings in the current room except to the initiator.</p>
<p>If the first argument is an array/mapping/struct/object <code>msg</code>, lfun <a class="el" href="classapplied.html#a2986863e0a744404e160c79ac4dafd32" title="When efun::say(), efun::tell_room() or efun::tell_object() are used with a non-string as message...">applied::catch_msg()</a> of all living objects except the initiator will be called. This <code>msg</code> will be given as first argument to the lfun, and the initiating object as the second.</p>
<dl class="section user"><dt>warning: If the lfun applied::catch_msg() modifies the content of <code>msg</code>, all subsequent objects will receive the modified <code>msg</code>.</dt><dd></dd></dl>
<p>By specifying a second argument to the efun one can exclude more objects than just the initiator. If the second argument is a single object <code>exclude</code>, both the given object and the initiator are excluded from the call. If the second argument is an array <code>excludes</code>, all objects and just the objects in this array are excluded from the call.</p>
<p>The 'initiator' is determined according to these rules:</p>
<ul>
<li>if the <a class="el" href="classefun.html#a9047308a38d0fbf3c038db31e501851d" title="There are two major modes of calling: ">efun::say()</a> is called from within a living object, this becomes the initiator</li>
<li>if the <a class="el" href="classefun.html#a9047308a38d0fbf3c038db31e501851d" title="There are two major modes of calling: ">efun::say()</a> is called from within a dead object as result of a user action (i.e. <code><a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af" title="Return the current command giver. ">this_player()</a></code> is valid), <code><a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af" title="Return the current command giver. ">this_player()</a></code> becomes the initiator.</li>
<li>Else the object calling the <a class="el" href="classefun.html#a9047308a38d0fbf3c038db31e501851d" title="There are two major modes of calling: ">efun::say()</a> becomes the initiator.</li>
</ul>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a9047308a38d0fbf3c038db31e501851d">say</a>(string str)</div>
<div class="line">void <a class="code" href="classefun.html#a9047308a38d0fbf3c038db31e501851d">say</a>(string str, object exclude)</div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a9047308a38d0fbf3c038db31e501851d">say</a>(string str, object *excludes)</div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a9047308a38d0fbf3c038db31e501851d">say</a>(mixed *|mapping|struct|object msg)</div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a9047308a38d0fbf3c038db31e501851d">say</a>(mixed *|mapping|struct|object msg, object exclude)</div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a9047308a38d0fbf3c038db31e501851d">say</a>(mixed *|mapping|struct|object msg, object *excludes)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">Both of these calls are equal when called by a non-living object:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a9047308a38d0fbf3c038db31e501851d">say</a>(<span class="stringliteral">&quot;Hi!\n&quot;</span>);</div>
<div class="line"><a class="code" href="classefun.html#a9047308a38d0fbf3c038db31e501851d">say</a>(<span class="stringliteral">&quot;Hi!\n&quot;</span>, <a class="code" href="classefun.html#a23dc6aa65a7477371df722a647b661af">this_player</a>());</div>
</div><!-- fragment --><p> The next example shows how <a class="el" href="classefun.html#a9047308a38d0fbf3c038db31e501851d" title="There are two major modes of calling: ">efun::say()</a> works with <a class="el" href="classapplied.html#a7694f52f199ec3698af091accf6e6f22" title="When a message is sent to an non-interactive object, via efun::say(), efun::tell_object(), efun::tell_room() or efun::write(), it will get to the function applied::catch_tell(string)(). ">applied::catch_tell()</a>. The 2nd object must not be living so the <a class="el" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662" title="Write out something to the current user. ">efun::write()</a> will go to the current user.</p>
<p>Object 1 (living):</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> catch_tell(<span class="keywordtype">string</span> str) {</div>
<div class="line">  <a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<span class="stringliteral">&quot;Received: &quot;</span>+str+<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><p> Object 2 (not living):</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> func() {</div>
<div class="line">  ...</div>
<div class="line">  say(<span class="stringliteral">&quot;HiHo!\n&quot;</span>);</div>
<div class="line">  ...</div>
<div class="line">}</div>
</div><!-- fragment --><p> This more complex example demonstrates how <a class="el" href="classefun.html#a9047308a38d0fbf3c038db31e501851d" title="There are two major modes of calling: ">efun::say()</a> and <a class="el" href="classapplied.html#a2986863e0a744404e160c79ac4dafd32" title="When efun::say(), efun::tell_room() or efun::tell_object() are used with a non-string as message...">applied::catch_msg()</a> work. Here we also use a non living object to send the message so the who in <a class="el" href="classapplied.html#a2986863e0a744404e160c79ac4dafd32" title="When efun::say(), efun::tell_room() or efun::tell_object() are used with a non-string as message...">applied::catch_msg()</a> will be the current user.</p>
<p>Object 1 (living):</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> catch_msg(mixed *arr, <span class="keywordtype">object</span> who) {</div>
<div class="line">  <span class="keywordtype">int</span> i;</div>
<div class="line">  <span class="keywordflow">if</span>(!arr) <span class="keywordflow">return</span>;</div>
<div class="line">  <span class="keywordflow">for</span>(i=0; i&lt;<span class="keyword">sizeof</span>(arr); i++)</div>
<div class="line">    <a class="code" href="classefun.html#ac82979d3c13cf20f0fd4b2269248a9ab">tell_object</a>(who, (<a class="code" href="classefun.html#ad45cc3605ecbe92c52b8c1c8408da017">stringp</a>(arr[i]) ? arr[i] : <span class="stringliteral">&quot;-/-&quot;</span>)+<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><p> Object 2 (not living):</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> func() {</div>
<div class="line">  ...</div>
<div class="line">  say( ({ <span class="stringliteral">&quot;Hello&quot;</span>, <span class="stringliteral">&quot;there!&quot;</span> }) );</div>
<div class="line">  ...</div>
<div class="line">}</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.3.686) -- added the use of a mapping/<span class="keyword">struct</span>/<span class="keywordtype">object</span> as second argument.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662" title="Write out something to the current user. ">efun::write()</a>, <a class="el" href="classefun.html#ac82979d3c13cf20f0fd4b2269248a9ab" title="Send a message str to object ob (which is looked up and loaded by given name if necessary). ">efun::tell_object()</a>, <a class="el" href="classefun.html#ad6b55cee01890c09a421e1c8031bf098" title="Send a message str to all living objects in the room ob. ">efun::tell_room()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a795ee539a9ce43bfde252f626e49120c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int send_erq </td>
          <td>(</td>
          <td class="paramtype">int request&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string|int *&#160;</td>
          <td class="paramname"><em> data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">closure callback&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A request of given type (<code>request</code>, default is 0), equipped with the given <code>data</code>, is sent to the erq. </p>
<p>If <code>callback</code> is set to a closure, it will be called when the response from the erq (a status code) arrives, if the response carries enough data to work on.</p>
<p><code>request</code> can be one of the request codes defined in &lt;erq.h&gt;. The binary flag <code>ERQ_CB_STRING</code> defines whether the <code>callback</code> closure expects the returned data packed into an array of integers or as a string.</p>
<p><code>data</code> may be a string, or an array of integers which are then interpreted as characters.</p>
<p><code>callback</code>, if set, is a closure of either these forms:</p>
<p>!ERQ_CB_STRING: void &lt;closure&gt;(int &gt;&gt;*&lt;&lt;response_data, int len) ERQ_CB_STRING: void &lt;closure&gt;(string response_data)</p>
<p>The result returned from the efun is 0 on failure to send the data, or non-zero on a successful send.</p>
<p>The function causes a privilege violation "erq".</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a795ee539a9ce43bfde252f626e49120c">send_erq</a>(int request, <span class="keywordtype">string</span>|<span class="keywordtype">int</span> * data, closure callback)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.1@61)</div>
<div class="line">changed (3.2.1@84) -- Made a privileged function</div>
<div class="line">changed (3.3.318) -- introduced the ERQ_CB_STRING flag.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a5576cf9792eb99b7cb6fb45d3a95e478" title="This privileged efun is to set/change the connection of the driver to the external erq demon...">efun::attach_erq_demon()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a5d5022afb32b76215a3bb2697ce6adcf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int send_udp </td>
          <td>(</td>
          <td class="paramtype">string host&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int port&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em> message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends the <code>message</code> in an UDP packet to the given host and port number. </p>
<p>The efun causes the privilege violation ("send_udp").</p>
<p>Returns 1 on success, 0 on failure.</p>
<dl class="section user"><dt>note: On some machines a failed efun::send_udp() will not be registered until the next efun::send_udp() - the latter one might return '0' even if itself was successful.</dt><dd></dd></dl>
<dl class="section user"><dt>limit: If the <code>host</code> is given as a fully qualified name (instead of an IP address), the execution will block until the name is resolved.</dt><dd></dd></dl>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a5d5022afb32b76215a3bb2697ce6adcf">send_udp</a>(string host, int port, string message)</div>
<div class="line">int <a class="code" href="classefun.html#a5d5022afb32b76215a3bb2697ce6adcf">send_udp</a>(string host, int port, <span class="keywordtype">int</span> * message)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.9) -- renamed <span class="keyword">this</span> <a class="code" href="classefun.html">efun</a> from send_imp(), and also changed the privilege violation <span class="keywordtype">string</span> and the <a class="code" href="classefun.html#aaf018e933ee843dfe67f2916aeeb51a1">apply</a> names.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#aad82e1ff8a6896956baeed081b6eeb5b" title="Returns the port number of the UDP socket. ">efun::query_udp_port()</a>, <a class="el" href="classmaster.html#a5a3f00888b025de556e166bae2db1226" title="Handle a received UDP message. ">master::receive_udp()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aae4303bfb007375b5f182294e1fb274e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string set_bit </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int n&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the new string where bit <code>n</code> is set in string <code>str</code>. </p>
<p>Note that the old string <code>str</code> is not modified.</p>
<p>Each character contains 6 bits. So you can store a value between 0 and 63 in one character (2^6=64). Starting character is the blank char:(U+00020 SPACE) which has the value 0. The first charcter in the string is the one with the lowest bits (0-5).</p>
<p>The new string will automatically be extended if needed.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a>(string str, int n)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> s;</div>
<div class="line">s=<a class="code" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a>(<span class="stringliteral">&quot;?&quot;</span>,5);</div>
</div><!-- fragment --><p> Because "?" has a value of 31 the variable s will now contain the character "_" which is equal to 63 (31+2^5=63):</p>
<div class="fragment"><div class="line"><span class="keywordtype">string</span> s;</div>
<div class="line">s=<a class="code" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a>(<span class="stringliteral">&quot;78&quot;</span>,3);</div>
<div class="line">s=<a class="code" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a>(s,8);</div>
<div class="line"><span class="comment">//s will now contain the string &quot;?&lt;&quot;.</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a9820c9a0cc652f0f9054e8dd9d7e56b0" title="Return the new string where bit n is cleared in string str. ">efun::clear_bit()</a>, <a class="el" href="classefun.html#add033af196d131772d3a99373bd14cd9" title="Return the number of the last set bit in bitstring str. ">efun::last_bit()</a>, <a class="el" href="classefun.html#ae9a22225f7ecf80a5bcd52261d1b27c0" title="Return the number of the next bit in bitstring str after position start. ">efun::next_bit()</a>, <a class="el" href="classefun.html#a1f992595c33434f4657015ffe765d2bc" title="Return 0 or 1 if bit n was set in string str. ">efun::test_bit()</a>, <a class="el" href="classefun.html#a4219dca74e569f12726df9bd9e11669d" title="Count the number of set bits in bitstring str and return the number as result. ">efun::count_bits()</a>, <a class="el" href="classefun.html#a481a071b1544dd0eb27556efb3768cb6" title="str1 and str2 are both bitstrings. ">efun::and_bits()</a>, <a class="el" href="classefun.html#af939d33eba6b16a15e87e0737206b0e2" title="str1 and str2 are both bitstrings. ">efun::or_bits()</a>, <a class="el" href="classefun.html#aeda3e1403911d376dd0db4b9b501dc62" title="str1 and str2 are both bitstrings. ">efun::xor_bits()</a>, <a class="el" href="classefun.html#ad37a5b85653678afc3bba3b0fb152a3f" title="Invert the status of all bits in bitstring str and return the new string. ">efun::invert_bits()</a>, <a class="el" href="classefun.html#afcb4b753b24046893741d3c3e0c33e62" title="Copy the bitrange [&lt;em&gt;srcstart&lt;/em&gt;..&lt;em&gt;srcstart&lt;/em&gt;+&lt;em&gt;copylen&lt;/em&gt;] from bitstring src and copy...">efun::copy_bits()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="afba603fec22e1ccc3a12010782944847"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int set_buffer_size </td>
          <td>(</td>
          <td class="paramtype">int size&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Changes the socket buffer size for <code><a class="el" href="classefun.html#af4fe93bc840224313bc10d018ef288ad" title="Returns the current interactive object, if any (i.e., the one who hit the RETURN key). ">this_interactive()</a></code> to <code>size</code>, up to a preconfigured maximum, result is the old buffer size (or -1 on systems which aren't able to change the socket buffer). </p>
<p>Modifying the buffer size may result in a better IO throughput, but can also worsen it.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#afba603fec22e1ccc3a12010782944847">set_buffer_size</a>(int size)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.1@34)</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="a279e14b29d8dae86cda6374631c66e6c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void set_combine_charset </td>
          <td>(</td>
          <td class="paramtype">0&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the set of characters which can be combined into a single string when already received en-bloc in charmode from the current interactive user. </p>
<p>Non-combinable characters and single received characters are returned as separate strings as usual. The function must be called with the interactive user being the command giver.</p>
<p>The newline 'n' and the NUL character '0' are always non-combinable.</p>
<p>The charset can be given either directly as a string, or indirectly as a bitvector. If given as the number 0, the default combine charset is re-established.</p>
<p>The bitvector is interpreted as an array of 8-bit-values and might contain up to 32 elements. Character n is allowed to be output if <code>sizeof(bitvector) &gt; n/8 &amp;&amp; bitvector[n/8] &amp; (1 &lt;&lt; n%8)</code>.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a279e14b29d8dae86cda6374631c66e6c">set_combine_charset</a>(int *bitvector)</div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a279e14b29d8dae86cda6374631c66e6c">set_combine_charset</a>(string charset)</div>
<div class="line">void <a class="code" href="classefun.html#a279e14b29d8dae86cda6374631c66e6c">set_combine_charset</a>(0)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><span class="comment">// In a screen-oriented editor, most of the printable characters</span></div>
<div class="line"><span class="comment">// (excluding answers to editor prompts &#39;j&#39;, &#39;n&#39; and &#39;q&#39;) can be</span></div>
<div class="line"><span class="comment">// combined into strings.</span></div>
<div class="line"><a class="code" href="classefun.html#a279e14b29d8dae86cda6374631c66e6c">set_combine_charset</a>(<span class="stringliteral">&quot;abcdefghijklmoprstuvwxz0123456789&quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;ABCDEFGHIJKLMOPRSTUVWXZ&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Disable any previous setting.</span></div>
<div class="line"><a class="code" href="classefun.html#a279e14b29d8dae86cda6374631c66e6c">set_combine_charset</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.8)</div>
<div class="line">changed (3.2.10) -- added the ability to reset the charset to the default.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a2f7dfc134c4c4ebdcf02dd7d87e86945" title="Return the combine charset of the current interactive in the form requested by mode: ...">efun::get_combine_charset()</a>, <a class="el" href="classefun.html#af611da839c18f550d1639881f3f3cade" title="Enable next line of user input to be sent to the function fun as an argument. ">efun::input_to()</a>, <a class="el" href="classefun.html#a18fb8c8f81826d32e697b2912d969d75" title="Set the set of characters that can be output to the interactive user (this does not apply to efun::bi...">efun::set_connection_charset()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a18fb8c8f81826d32e697b2912d969d75"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void set_connection_charset </td>
          <td>(</td>
          <td class="paramtype">0&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int quote_iac&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the set of characters that can be output to the interactive user (this does not apply to <a class="el" href="classefun.html#a969d03a0a9e5b5ff3c6a969a0db7a9c0" title="Flush output and send output directly with write without IAC quoting. ">efun::binary_message()</a>). </p>
<p>The function must be called by the interactive user object itself.</p>
<p>The charset can be given either directly as a string, or indirectly as a bitvector. If the charset is given as the number 0, the default connection charset is re-established.</p>
<p>The bitvector is interpreted as an array of 8-bit-values and might contain up to 32 elements. Character n is allowed to be output if <code>sizeof(bitvector) &gt; n/8 &amp;&amp; bitvector[n/8] &amp; (1 &lt;&lt; n%8)</code>.</p>
<p>If quote_iac is 0 and char 255 is allowed to be output, IAC will be output unmodified. If quote_iac is 1 and char 255 is allowed to be output, char 255 will be quoted so that it is not interpreted as IAC by the telnet protocol. This is the default.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a18fb8c8f81826d32e697b2912d969d75">set_connection_charset</a>(int *bitvector, int quote_iac)</div>
<div class="line">void <a class="code" href="classefun.html#a18fb8c8f81826d32e697b2912d969d75">set_connection_charset</a>(string charset, int quote_iac)</div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a18fb8c8f81826d32e697b2912d969d75">set_connection_charset</a>(0, int quote_iac)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.1@40)</div>
<div class="line">changed (3.2.8) -- added the ability to specify the charset as a <span class="keywordtype">string</span>.</div>
<div class="line">changed (3.2.10) -- added the ability to reset the charset to the default.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#afd261176f0cf637f88ffed5450bed7e8" title="Return the connection charset of the current interactive in the form requested by mode: ...">efun::get_connection_charset()</a>, <a class="el" href="classefun.html#a969d03a0a9e5b5ff3c6a969a0db7a9c0" title="Flush output and send output directly with write without IAC quoting. ">efun::binary_message()</a>, <a class="el" href="classefun.html#a279e14b29d8dae86cda6374631c66e6c" title="Set the set of characters which can be combined into a single string when already received en-bloc in...">efun::set_combine_charset()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a2756bce82caa9cc75107c97064b16922"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void set_driver_hook </td>
          <td>(</td>
          <td class="paramtype">int what&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string  *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This privileged efun sets the driver hook 'what' (values are defined in &lt;driver_hook.h&gt;) to 'arg'. </p>
<p>The exact meanings and types of 'arg' depend of the hook set. To remove a hook, set 'arg' to 0.</p>
<p>These hooks exist:</p>
<p><code>H_MOVE_OBJECT0</code> <code>H_MOVE_OBJECT1</code></p>
<p>arg: unbound lambda Mandatory hooks implementing the <a class="el" href="classefun.html#a4190a089c412b88e938a4a34865e8366" title="The item, which can be an object_name or an object, is moved into it&#39;s new environment dest...">efun::move_object()</a>.</p>
<p><code>H_LOAD_UIDS</code> <code>H_CLONE_UIDS</code></p>
<p>arg: unbound lambda or lfun closure Mandatory hooks to determine the (e)uid of new objects.</p>
<p><code>H_CREATE_SUPER</code> <code>H_CREATE_OB</code> <code>H_CREATE_CLONE</code> <code>H_RESET</code> <code>H_CLEAN_UP</code></p>
<p>arg: lambda closure (<code>H_CLEAN_UP</code> also accepts a lfun closure), function name.</p>
<p>Optional hooks for creation/reset/clean up-actions.</p>
<p><code>H_DEFAULT_METHOD</code> arg: lambda closure, lfun closure, function name. Optional hook for default method implementation.</p>
<p><code>H_DEFAULT_PROMPT</code> arg: lambda closure, lfun closure, prompt string. Optional hook for the default command prompt.</p>
<p><code>H_PRINT_PROMPT</code> arg: lambda closure, lfun closure, function name. Optional hook to print the command prompt.</p>
<p><code>H_MODIFY_COMMAND</code> arg: lambda closure, lfun closure, function name, mapping Optional hook for modifying player commands before the parser sees them.</p>
<p><code>H_NOTIFY_FAIL</code> arg: lambda closure, lfun closure, string. Mandatory hook to generate the default message if an entered command couldn't be parsed and no <a class="el" href="classefun.html#afe008c0344508051dcc4d07d79dd0bc4" title="Store str as the error message given instead of the default message &quot;What ?&quot;. ">efun::notify_fail()</a> command is in effect.</p>
<p><code>H_SEND_NOTIFY_FAIL</code> arg: lambda closure, lfun closure, string. Optional hook to deliver the notify fail message from a failed command.</p>
<p><code>H_NO_IPC_SLOT</code> arg: string. Optional hook specifying the 'sorry' messages if logins are rejected due to fullness of the mud.</p>
<p><code>H_INCLUDE_DIRS</code> arg: lambda closure, lfun closure, string array. Semi-mandatory hook specifying the directories where &lt;&gt;-type include files are searched.</p>
<p><code>H_AUTO_INCLUDE</code> arg: lambda closure, lfun closure, string Optional hook to specify a string to be included before the source of every compiled LPC object.</p>
<p><code>H_TELNET_NEG</code> arg: lambda closure, lfun closure, string. Optional hook to specifiy how to perform a single telnet negotiation.</p>
<p><code>H_NOECHO</code> arg: lambda closure, lfun closure, string. Optional hook to specifiy how to perform the telnet actions to switch the echo mode (used for e.g. passwords in <a class="el" href="classefun.html#af611da839c18f550d1639881f3f3cade" title="Enable next line of user input to be sent to the function fun as an argument. ">efun::input_to()</a>).</p>
<p><code>H_ERQ_STOP</code> arg: lambda closure, lfun closure. Optional hook to notify the mudlib about the termination of the erq demon.</p>
<p><code>H_MSG_DISCARDED</code> arg: lambda closure, lfun closure, string Optional hook to specify a message or take other measures when a message had to be discarded.</p>
<p>See <a class="el" href="driver_hook_overview.html">hook</a> for a detailed discussion.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a2756bce82caa9cc75107c97064b16922">set_driver_hook</a>(int what, closure arg)</div>
<div class="line">void <a class="code" href="classefun.html#a2756bce82caa9cc75107c97064b16922">set_driver_hook</a>(int what, string arg)</div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a2756bce82caa9cc75107c97064b16922">set_driver_hook</a>(int what, string *arg)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.1@1) -- as efun309(),</div>
<div class="line">changed (3.2.1@13) -- renamed to <a class="code" href="classefun.html#a2756bce82caa9cc75107c97064b16922">set_driver_hook</a>.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="driver_hook_overview.html">hook</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af10a6a3226140343c43ee7b4d0c4878b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void set_environment </td>
          <td>(</td>
          <td class="paramtype">object item&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object env&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The item is moved into its new environment env, which may be 0. </p>
<p>This efun is to be used in <code>H_MOVE_OBJECT</code>, as it does <em>nothing</em> beyond moving the item - no calls to <a class="el" href="classapplied.html#a02fd73d861ef2e4aabb38c0c9ff82947" title="move_object implements the details of moving objects. ">applied::init()</a> or such.</p>
<p>Don't use it in your own objects!</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#af10a6a3226140343c43ee7b4d0c4878b">set_environment</a>(object item, object env)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.1@1) -- as efun308()</div>
<div class="line">changed (3.2.6) -- renamed to <a class="code" href="classefun.html#af10a6a3226140343c43ee7b4d0c4878b">set_environment</a></div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classapplied.html#acb2aa7bd8fd0c69f05f71907fd17b74c" title="Does some housekeeping to ensure consistency and then destructs the current object. ">applied::remove()</a>, <a class="el" href="classapplied.html#a02fd73d861ef2e4aabb38c0c9ff82947" title="move_object implements the details of moving objects. ">applied::init()</a>, <a class="el" href="classefun.html#a4190a089c412b88e938a4a34865e8366" title="The item, which can be an object_name or an object, is moved into it&#39;s new environment dest...">efun::move_object()</a>, <a class="el" href="classefun.html#a005a3e81b3a804ec38fbbe1fdadd7beb" title="This efun is for backward compatibility only. ">efun::transfer()</a>, <a class="el" href="driver_hook_overview.html">hook</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a6621468655305aa773e3fc8dca0e1110"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void set_extra_wizinfo </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em> wiz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed extra&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the value <code>extra</code> as the 'extra' information for the wizlist entry of <code>wiz</code>. </p>
<ul>
<li>If <code>wiz</code> is an object, the entry of its creator (uid) is used.</li>
<li>If <code>wiz</code> is a string (a creator aka uid), it names the entry to use.</li>
<li>If <code>wiz</code> is the number 0, the data is set in the default wizlist entry. It can be used to store data for the lifetime of this driver run, like the time of the last reboot.</li>
</ul>
<p>The <code>extra</code> argument may be any value.</p>
<p>The function causes a privilege violation.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a6621468655305aa773e3fc8dca0e1110">set_extra_wizinfo</a>(object wiz, mixed extra)</div>
<div class="line">void <a class="code" href="classefun.html#a6621468655305aa773e3fc8dca0e1110">set_extra_wizinfo</a>(string wiz, mixed extra)</div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a6621468655305aa773e3fc8dca0e1110">set_extra_wizinfo</a>(<span class="keywordtype">int</span>    wiz, mixed extra)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a8d02f1b3e1eba1feaf5edb4d894c29e6" title="Returns the &#39;extra&#39; information that was set for the given wizard wiz in the wizlist. ">efun::get_extra_wizinfo()</a>, <a class="el" href="classefun.html#a21da0513dbfa7f5b70128a79f2812358" title="Indicate that the wizlist should contain an array of this size with extra info foreach wizard...">efun::set_extra_wizinfo_size()</a>, <a class="el" href="classefun.html#a68a193afd07ce9f74d4722f8ae4e1efd" title="Returns an array with the interesting entries of the wizlist. ">efun::wizlist_info()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a21da0513dbfa7f5b70128a79f2812358"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void set_extra_wizinfo_size </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicate that the wizlist should contain an array of this size with extra info foreach wizard. </p>
<p>A negative value indicates a non-array value.</p>
<p>Causes a privilege violation.</p>
<p>The value is only used to allocate a proper empty 'extra' value for newly created wizlist entries.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a21da0513dbfa7f5b70128a79f2812358">set_extra_wizinfo_size</a>(<span class="keywordtype">int</span>)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a8d02f1b3e1eba1feaf5edb4d894c29e6" title="Returns the &#39;extra&#39; information that was set for the given wizard wiz in the wizlist. ">efun::get_extra_wizinfo()</a>, <a class="el" href="classefun.html#a6621468655305aa773e3fc8dca0e1110" title="Set the value extra as the &#39;extra&#39; information for the wizlist entry of wiz. ">efun::set_extra_wizinfo()</a>, <a class="el" href="classefun.html#a68a193afd07ce9f74d4722f8ae4e1efd" title="Returns an array with the interesting entries of the wizlist. ">efun::wizlist_info()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a5d6c713394a406430daac52a0067b6d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int set_heart_beat </td>
          <td>(</td>
          <td class="paramtype">int flag&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enable or disable heart beat. </p>
<p>The driver will apply the lfun <a class="el" href="classapplied.html#ac6da9e44029c67ea80ffa494d9328384" title="This function will be called automatically every __HEART_BEAT_INTERVAL__ seconds. ...">applied::heart_beat()</a> to the current object every <code>__HEARTBEAT_INTERVAL__</code> seconds, if it is enabled. A shadow over the <a class="el" href="classapplied.html#ac6da9e44029c67ea80ffa494d9328384" title="This function will be called automatically every __HEART_BEAT_INTERVAL__ seconds. ...">applied::heart_beat()</a> lfun will be ignored.</p>
<p>If the heart beat is not needed for the moment, then do disable it. This will reduce system overhead.</p>
<p>Return true for success, and false for failure.</p>
<p>Disabling an already disabled heart beat (and vice versa enabling and enabled heart beat) counts as failure.</p>
<p>Note that <a class="el" href="classapplied.html#ac6da9e44029c67ea80ffa494d9328384" title="This function will be called automatically every __HEART_BEAT_INTERVAL__ seconds. ...">applied::heart_beat()</a> is called only if there are interactive players in the game.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a5d6c713394a406430daac52a0067b6d8">set_heart_beat</a>(int flag)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classapplied.html#ac6da9e44029c67ea80ffa494d9328384" title="This function will be called automatically every __HEART_BEAT_INTERVAL__ seconds. ...">applied::heart_beat()</a>, <a class="el" href="classefun.html#a80949ae9919cf34ceed353d2f3a005b8" title="Set up a call to function fun in the current object, or to closure cl. ">efun::call_out()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a584f6cb45cd80428d8fb9a8563f4c08a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int set_is_wizard </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int n&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Change object <code>ob</code> wizardhood flag. </p>
<p>If <code>n</code> is 0, it is cleared, if <code>n</code> is, it is set, if <code>n</code> is -1 the current status is reported. The return value is always the old value of the flag. Using this function sets a flag in the parser, that affects permissions for dumpallobj etc, which are by default free for every user.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a584f6cb45cd80428d8fb9a8563f4c08a">set_is_wizard</a>(object ob, int n)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.7) -- made <span class="keyword">this</span> <a class="code" href="classefun.html">efun</a> optional.</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="a37d7da9a3d79ee3a75fdeaf3a3305c0b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void set_limits </td>
          <td>(</td>
          <td class="paramtype">int  *&#160;</td>
          <td class="paramname"><em>limits</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the default runtime limits from the given arguments. </p>
<p>The new limits will be in effect as the initial 'max limits' with the next execution thread.</p>
<p>The arguments can be given in two ways: as an array (like the one returned from <a class="el" href="classefun.html#a810ac293b0967a7d3129f745c9b2d9e6" title="Return an array with the current runtime limits, resp. ">efun::query_limits()</a>, or as a list of tagged values. The limit settings recognize three special values:</p>
<ul>
<li><code>LIMIT_UNLIMITED</code>: the limit is deactivated</li>
<li><code>LIMIT_KEEP</code>: the former setting is kept</li>
<li><code>LIMIT_DEFAULT</code>: the 'global' default setting is used.</li>
</ul>
<p>For <code>LIMIT_COST</code>, the special values have these meaning:</p>
<ul>
<li><code>LIMIT_UNLIMITED</code>: at maximum 1 tick is accounted</li>
<li><code>LIMIT_KEEP</code>: <code>LIMIT_COST</code> is set to 0</li>
<li><code>LIMIT_DEFAULT</code>: <code>LIMIT_COST</code> is set to -100</li>
</ul>
<p>The efun causes a privilege violation ("set_limits", current_object, limits-array).</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a37d7da9a3d79ee3a75fdeaf3a3305c0b">set_limits</a>(int tag, int value, ...)</div>
<div class="line">void <a class="code" href="classefun.html#a37d7da9a3d79ee3a75fdeaf3a3305c0b">set_limits</a>(int *limits)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">Both lines below set a new default eval_cost limit of 200000:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a37d7da9a3d79ee3a75fdeaf3a3305c0b">set_limits</a>(({ 200000 }))</div>
<div class="line"><a class="code" href="classefun.html#a37d7da9a3d79ee3a75fdeaf3a3305c0b">set_limits</a>(LIMIT_EVAL, 200000)</div>
</div><!-- fragment --><p> The lines below both set new eval_cost limit to unlimited, keep the current array size limit, and limit mapping sizes to 5000:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a37d7da9a3d79ee3a75fdeaf3a3305c0b">set_limits</a>(({ LIMIT_UNLIMITED, LIMIT_KEEP, 5000 }))</div>
<div class="line"><a class="code" href="classefun.html#a37d7da9a3d79ee3a75fdeaf3a3305c0b">set_limits</a>(LIMIT_EVAL, LIMIT_UNLIMITED, LIMIT_ARRAY, LIMIT_KEEP,</div>
<div class="line">            LIMIT_MAPPING, 5000)</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.7)</div>
<div class="line">changed (3.3.563) -- added LIMIT_COST.</div>
<div class="line">changed (3.3.677) -- added LIMIT_MAPPING_KEYS, LIMIT_MAPPING_SIZE.</div>
<div class="line">changed (3.5.0) -- added LIMIT_MEMORY.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a2ae3872648557b6f90a3ccda1665b84b" title="Call the function fun with any given args as parameters, and execute it with the given runtime limits...">efun::limited()</a>, <a class="el" href="classefun.html#a810ac293b0967a7d3129f745c9b2d9e6" title="Return an array with the current runtime limits, resp. ">efun::query_limits()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a53d32f9a0ba6e86c3ba46dd681005ee4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void set_max_commands </td>
          <td>(</td>
          <td class="paramtype">int num&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object obj&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the max number of commands the interactive <code>obj</code> is allowed to execute per second to <code>num</code>. </p>
<p>A negative value means 'unlimited' and is the setting for newly created connections.</p>
<p>If <code>obj</code> is not given, the current interactive is queried.</p>
<p>The function raises a privilege_violation ("set_max_commands", obj, num). If the privilege is denied, the call is ignored.</p>
<p>A 'command' in this context means every received data packet which causes a LPC call - actions and calls to <a class="el" href="classefun.html#af611da839c18f550d1639881f3f3cade" title="Enable next line of user input to be sent to the function fun as an argument. ">efun::input_to()</a> alike.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a53d32f9a0ba6e86c3ba46dd681005ee4">set_max_commands</a>(int num)</div>
<div class="line">void <a class="code" href="classefun.html#a53d32f9a0ba6e86c3ba46dd681005ee4">set_max_commands</a>(int num, object obj)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">To establish a mud-wide default for the maximum command rate, write <a class="el" href="classmaster.html#a5ba74ee9cd2ce5203374a79f48f908d7" title="Return a login object that the requested connection should be bound to. ">master::connect()</a> like this:</p>
<div class="fragment"><div class="line"><span class="keywordtype">object</span> connect() {</div>
<div class="line">  <span class="keywordtype">object</span> obj;</div>
<div class="line"></div>
<div class="line">  ...</div>
<div class="line">  set_max_commands(100);</div>
<div class="line">  <span class="keywordflow">return</span> obj;</div>
<div class="line">}</div>
</div><!-- fragment --><p> Upon return from the the function, the connection with its modified max_commands will be re-bound from the master object to the returned object.</p>
<p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.10)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#abacc5106be40e401a1f39db35581434b" title="Return the max number of commands the interactive obj is allowed to execute per second. ">efun::get_max_commands()</a>, <a class="el" href="classmaster.html#afaf1545f7ccfbb3d897293150f5a45ca" title="Validate the execution of a privileged operation. ">master::privilege_violation()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a48f9b91df9e47b18043fc33e4c28f6d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object set_modify_command </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>All commands for the current object (which must interactive) will be passed to <code>ob-&gt;modify_command()</code> before actually being executed. </p>
<p>The argument can be passed an object or an object_name.</p>
<p>When <a class="el" href="classefun.html#a48f9b91df9e47b18043fc33e4c28f6d7" title="All commands for the current object (which must interactive) will be passed to ob-&gt;modify_command() b...">efun::set_modify_command()</a> was called, the parser won't expand the standard abbreviations (n,e,s,w,nw,sw,ne,se) for that user anymore, nor use any hook set for this.</p>
<ul>
<li>0 as argument will stop the command modification and reinstall the standard abbreviations.</li>
<li>-1 as argument will just return the object previously set.</li>
</ul>
<p>The return value is the object that was previously set with <a class="el" href="classefun.html#a48f9b91df9e47b18043fc33e4c28f6d7" title="All commands for the current object (which must interactive) will be passed to ob-&gt;modify_command() b...">efun::set_modify_command()</a>, if any.</p>
<p>This mechanism is intended to expand aliases on quicktypers or the like. The name of the lfun called can be changed from &gt;&gt;:apply:<code>modify_command</code>&lt;&lt; to something else using the <a class="el" href="driver_hook_modify_command_fname.html">H_MODIFY_COMMAND_FNAME</a> hook.</p>
<p>Up to driver_mailto:3.2.1@108 "3.2.1@108" the lfun called was hardcoded as 'modify_command'. The hook <a class="el" href="driver_hook_modify_command_fname.html">H_MODIFY_COMMAND_FNAME</a> introduced in driver_mailto:3.2.1@109 "3.2.1@109" allows to change the name.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#a48f9b91df9e47b18043fc33e4c28f6d7">set_modify_command</a>(<span class="keywordtype">object</span>)</div>
<div class="line">object <a class="code" href="classefun.html#a48f9b91df9e47b18043fc33e4c28f6d7">set_modify_command</a>(<span class="keywordtype">string</span>)</div>
<div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#a48f9b91df9e47b18043fc33e4c28f6d7">set_modify_command</a>(<span class="keywordtype">int</span>)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ae0ce5d3f989d2054ce6b26d5fb22ab6d" title="Execute str as a command given directly by the user. ">efun::command()</a>, <a class="el" href="driver_hook_overview.html">hook</a>, <a class="el" href="classapplied.html#aa37d0dc9721bb3d7bea7a357b3e2ff42" title="After efun::set_modify_command(mob)() was called for an interactive object iob, all commands for that...">applied::modify_command()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aa47ffb6cfbbd9789e05bc4af08e6b530"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int set_next_reset </td>
          <td>(</td>
          <td class="paramtype">int delay&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Instruct the gamedriver to reset this object not earlier than in <code>delay</code> seconds. </p>
<p>If a negative value is given as delay, the object will never reset (useful for blueprints). If 0 is given, the object's reset time is not changed.</p>
<p>Result is the former delay to the objects next reset (which can be negative if the reset was overdue).</p>
<p>Note that the actual time the reset occurs depends on when the object will be used after the given time delay.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#aa47ffb6cfbbd9789e05bc4af08e6b530">set_next_reset</a>(int delay)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><a class="code" href="classefun.html#aa47ffb6cfbbd9789e05bc4af08e6b530">set_next_reset</a>(15*60); <span class="comment">// Next reset in 15 Minutes or later</span></div>
<div class="line"><a class="code" href="classefun.html#aa47ffb6cfbbd9789e05bc4af08e6b530">set_next_reset</a>(0);     <span class="comment">// just returns the time until the next reset.</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.6) -- adapted from Morgengrauen.</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="a0f3aeee35045ba028e49b799747f610d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string set_prompt </td>
          <td>(</td>
          <td class="paramtype">mixed prompt&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the prompt given by the first argument for the interactive object instead of the default prompt. </p>
<p>If the second argument is omitted, <code><a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af" title="Return the current command giver. ">this_player()</a></code> is used as default. The first arg can be a string or a closure.</p>
<p>The result returned is the old prompt.</p>
<p>If the first arg is the number 0, the prompt is not changed, just returned.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a0f3aeee35045ba028e49b799747f610d">set_prompt</a>(mixed prompt, object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="driver_hook_overview.html">hook</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a0a2c1dbf6eb3f152cd5dc1116b2439b6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void set_this_object </td>
          <td>(</td>
          <td class="paramtype">object object_to_pretend_to_be&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is a privileged function, only to be used in the master object or in the simul_efun object. </p>
<p>It changes the result of <a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">efun::this_object()</a> in the using function, and the result of <a class="el" href="classefun.html#a8d720f6391a992bf62bb528a3c48ba14" title="Returns an object pointer to the object that did a call (efun::call_other(), efun::funcall(), etc) to the current object, if any. ">efun::previous_object()</a> in functions called in other objects by <a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a>/efun::apply()/efun::funcall(). Its effect will remain till there is a return of an external function call, or another call of <a class="el" href="classefun.html#a0a2c1dbf6eb3f152cd5dc1116b2439b6" title="This is a privileged function, only to be used in the master object or in the simul_efun object...">efun::set_this_object()</a>. While executing code in the master object's program or the primary simul_efun object's program, <a class="el" href="classefun.html#a0a2c1dbf6eb3f152cd5dc1116b2439b6" title="This is a privileged function, only to be used in the master object or in the simul_efun object...">efun::set_this_object()</a> is granted even if <a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">efun::this_object()</a> is altered by <a class="el" href="classefun.html#a0a2c1dbf6eb3f152cd5dc1116b2439b6" title="This is a privileged function, only to be used in the master object or in the simul_efun object...">efun::set_this_object()</a>. This does not apply to functions inherited from other programs.</p>
<p>Use it with extreme care to avoid inconsistencies. After a call of <a class="el" href="classefun.html#a0a2c1dbf6eb3f152cd5dc1116b2439b6" title="This is a privileged function, only to be used in the master object or in the simul_efun object...">efun::set_this_object()</a>, some LPC-constructs might behave in an odd manner, or even crash the system. In particular, using global variables or calling local functions (except by call_other) is illegal and actively prevented.</p>
<p>Allowed are <a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a>, map functions, access of local variables (which might hold array pointers to a global array), simple arithmetic and the assignment operators.</p>
<dl class="section user"><dt>limit: It is currently not possible to directly restore the original current object. So instead of writing:~~~{.c}</dt><dd>object me = <a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a>; set_this_object(that); &lt;some code&gt;=""&gt; set_this_object(me); &lt;more code&gt;=""&gt;</dd></dl>
<p>~~~one has to use a workaround::~~~{.c} private void doit (object that) { set_this_object(that); &lt;some code&gt;=""&gt; }</p>
<p>funcall(#'doit, that); &lt;more code&gt;=""&gt;</p>
<p>~~~Some people would consider this a feature.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a0a2c1dbf6eb3f152cd5dc1116b2439b6">set_this_object</a>(object object_to_pretend_to_be)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.10) -- actively prevents references to global variables and <span class="keyword">function</span> calls by address <span class="keywordflow">while</span> <a class="code" href="classefun.html#a0a2c1dbf6eb3f152cd5dc1116b2439b6">set_this_object</a> is in effect.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">efun::this_object()</a>, <a class="el" href="classefun.html#ae1bf3a00c85d227ac9d23d415aec2f0d" title="Change the current command giver to ob. ">efun::set_this_player()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae1bf3a00c85d227ac9d23d415aec2f0d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void set_this_player </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Change the current command giver to <code>ob</code>. </p>
<p><code>ob</code> may be 0 if you want to 'deactivate' the current command giver.</p>
<p>This efun is not privileged, therefore it should be redefined by a nomask simul_efun which then either completely disables the efun or at least performs some security checks. It is easy to undermine a mudlib's security using this efun.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#ae1bf3a00c85d227ac9d23d415aec2f0d">set_this_player</a>(object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.1)</div>
<div class="line">changed (3.2.6) -- added the value 0 as acceptable parameter.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a0a2c1dbf6eb3f152cd5dc1116b2439b6" title="This is a privileged function, only to be used in the master object or in the simul_efun object...">efun::set_this_object()</a>, <a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af" title="Return the current command giver. ">efun::this_player()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a681286799e121e42a3158f8ca5c2f2f4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int seteuid </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set effective uid to <code>str</code>. </p>
<p>The calling object must be privileged to do so by the master object. In most installations it can always be set to the current uid of the object, to the uid of the creator of the object file, or to 0.</p>
<p>Result is 0 if the euid could not be changed, and non-0 if it was changed.</p>
<p>When this value is 0, the current object's uid can be changed by <a class="el" href="classefun.html#ade44122dc7cb16d015937a67cc645939" title="Set the uid of object ob to the current object&#39;s effective uid. ">efun::export_uid()</a>, and only then.</p>
<p>If strict euid usage is enforced, objects with euid 0 cannot load or clone other objects.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a681286799e121e42a3158f8ca5c2f2f4">seteuid</a>(string str)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.1@47) -- <span class="keyword">this</span> <a class="code" href="classefun.html">efun</a> is availabe only when <span class="keyword">using</span> euids.</div>
<div class="line">changed (3.2.7) -- <span class="keyword">this</span> <a class="code" href="classefun.html">efun</a> is always available.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ade44122dc7cb16d015937a67cc645939" title="Set the uid of object ob to the current object&#39;s effective uid. ">efun::export_uid()</a>, <a class="el" href="classefun.html#a1cee8cfd71595afe5cb29db76705b601" title="User-ids are not used in compat mode. ">efun::getuid()</a>, <a class="el" href="classefun.html#a8d2464ee0d105312cb194da96f14179d" title="Get the effective user-id of the object (mostly a wizard or domain name). ">efun::geteuid()</a>, <a class="el" href="classmaster.html#a0c44ada9ac997960fdfa18d1f29249c0" title="Should return 1 if ob is allowed to set its euid to newid. ">master::valid_seteuid()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a844989770ac8c827cb57b6999c21b92c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int sgn </td>
          <td>(</td>
          <td class="paramtype">int|&#160;</td>
          <td class="paramname"><em>float arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the sign of the argument. </p>
<blockquote class="doxtable">
<p>0 1</p>
<p></p>
</blockquote>
<p>0 0</p>
<p>&lt; 0 -1</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a844989770ac8c827cb57b6999c21b92c">sgn</a>(<span class="keywordtype">int</span>|float arg)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.9)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ab3455bc278e2680045694e1aa4bd4a22" title="Returns the absolute value of number. ">efun::abs()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ac53ffe809c88eeb6af75fedb41d9bfc3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string sha1 </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>arg </em>[, int iterations ]</td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create and return a SHA1 message digest from <code>arg</code>. </p>
<p><code>arg</code> may be a string, or an array of numbers (each considered to be a character, ignoring all but the lowest byte).</p>
<p>If <code>iterations</code> is given as a number greater than 0, it is the number of iterations used in the digest calculation. If omitted, the driver executes just one iteration.</p>
<p>The efun costs 5 ticks per iteration.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#ac53ffe809c88eeb6af75fedb41d9bfc3">sha1</a>(<span class="keywordtype">string</span> arg [, <span class="keywordtype">int</span> iterations ])</div>
<div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#ac53ffe809c88eeb6af75fedb41d9bfc3">sha1</a>(<span class="keywordtype">int</span>  * arg [, <span class="keywordtype">int</span> iterations ])</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> s;</div>
<div class="line"></div>
<div class="line">s = <a class="code" href="classefun.html#ac53ffe809c88eeb6af75fedb41d9bfc3">sha1</a>(<span class="stringliteral">&quot;Hello&quot;</span>);</div>
<div class="line">s = <a class="code" href="classefun.html#ac53ffe809c88eeb6af75fedb41d9bfc3">sha1</a>( ({ <span class="charliteral">&#39;H&#39;</span>, <span class="charliteral">&#39;e&#39;</span>, <span class="charliteral">&#39;l&#39;</span>, <span class="charliteral">&#39;l&#39;</span>, <span class="charliteral">&#39;o&#39;</span> }) );</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.523)</div>
<div class="line">changed (3.3.712) -- added number arrays as argument, and the number of iterations.</div>
<div class="line">changed (3.3.717) -- added the iteration-based evaluation cost.</div>
<div class="line">deprecated (3.3.719) -- obsoleted by <a class="code" href="classefun.html#a2ae8a96180aad2e6b720a153546b2c25">hash</a>().</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a293b5dd324033d04f2b6da0f6ba4654b" title="Crypt the string str the first two characters from the string seed as a seed. ">efun::crypt()</a>, <a class="el" href="classefun.html#a4f75178a00fc81b8384aa3a757d0902f" title="Create and return a MD5 message digest from arg. ">efun::md5()</a>, <a class="el" href="classefun.html#a31c2c39301c169902bdd78369dab70ae" title="Crypt the string str the first two characters from the string seed as a seed. ">efun::md5_crypt()</a>, <a class="el" href="classefun.html#a2ae8a96180aad2e6b720a153546b2c25" title="Calculate the hash from arg as determined by method. ">efun::hash()</a>, <a class="el" href="classefun.html#a2fcc22b543fc2a8229c4739af28fbcae" title="Calculate the Hashed Message Authenication Code for value based on the digest method and the password...">efun::hmac()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ade3d784e3bea08c4f965f503b9b062d1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object shadow </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int flag&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If <code>flag</code> is non-zero the current object will shadow <code>ob</code>. </p>
<p>If <code>flag</code> is 0, either 0 or the object that is shadowing <code>ob</code> will be returned.</p>
<p>The calling object must be permitted by the master object to do the shadowing. In most installations, an object that defines the function <code>query_prevent_shadow(ob)</code> to return 1 can't be shadowed, and the <a class="el" href="classefun.html#ade3d784e3bea08c4f965f503b9b062d1" title="If flag is non-zero the current object will shadow ob. ">efun::shadow()</a> function will return 0 instead of ob.</p>
<p><a class="el" href="classefun.html#ade3d784e3bea08c4f965f503b9b062d1" title="If flag is non-zero the current object will shadow ob. ">efun::shadow()</a> also fails if: the calling object tries to shadow a function that was defined as "nomask"; the program was compiled with the <a class="el" href="driver_syntax_pragma.html">no_shadow</a>; or the calling object is already shadowing, being shadowed, or has an environment. Also, the target <code>ob</code> must not be shadowing another object.</p>
<p>If an object A shadows an object B, every <a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a> to B will be redirected to A. If object A has not defined the function, the call will be passed to B. There is only one object that can directly call functions in B with <a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a>, and that is A. Not even object B can <a class="el" href="classefun.html#a14431f7de9bcc796d309ac6f3193f5d4">efun::call_other()</a> itself; the calls will still be redirected to object A. All normal (internal) function calls inside B will, however, remain internal to B.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#ade3d784e3bea08c4f965f503b9b062d1">shadow</a>(object ob, int flag)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">With the three objects a.c, b.c and c.c</p>
<p>code like the following:</p>
<div class="fragment"><div class="line"><span class="keywordtype">object</span> a, b, c;</div>
<div class="line"></div>
<div class="line">a = <a class="code" href="classefun.html#a8ef004651be5805383aca5b9a3f8291b">load_object</a>(<span class="stringliteral">&quot;a&quot;</span>);</div>
<div class="line">b = <a class="code" href="classefun.html#a8ef004651be5805383aca5b9a3f8291b">load_object</a>(<span class="stringliteral">&quot;b&quot;</span>);</div>
<div class="line">c = <a class="code" href="classefun.html#a8ef004651be5805383aca5b9a3f8291b">load_object</a>(<span class="stringliteral">&quot;c&quot;</span>);</div>
<div class="line">b-&gt;do_shadow(a);</div>
<div class="line">c-&gt;do_shadow(a);</div>
<div class="line"><a class="code" href="classefun.html#a969ddceb77d814a037ea17410af50e3e">debug_message</a>(<span class="stringliteral">&quot;--- a-&gt;fun() ---\n&quot;</span>);</div>
<div class="line">a-&gt;fun();</div>
<div class="line"><a class="code" href="classefun.html#a969ddceb77d814a037ea17410af50e3e">debug_message</a>(<span class="stringliteral">&quot;--- b-&gt;fun() ---\n&quot;</span>);</div>
<div class="line">b-&gt;fun();</div>
<div class="line"><a class="code" href="classefun.html#a969ddceb77d814a037ea17410af50e3e">debug_message</a>(<span class="stringliteral">&quot;--- c-&gt;fun() ---\n&quot;</span>);</div>
<div class="line">c-&gt;fun();</div>
<div class="line"><a class="code" href="classefun.html#a969ddceb77d814a037ea17410af50e3e">debug_message</a>(<span class="stringliteral">&quot;--- b-&gt;fun2() ---\n&quot;</span>);</div>
<div class="line">b-&gt;fun2();</div>
</div><!-- fragment --><p> produces this output:</p>
<div class="fragment"><div class="line">--- a-&gt;fun() ---</div>
<div class="line">/c [c] fun()</div>
<div class="line">/b [b] fun()</div>
<div class="line">/a [a] fun()</div>
<div class="line">--- b-&gt;fun() ---</div>
<div class="line">/c [c] fun()</div>
<div class="line">/b [b] fun()</div>
<div class="line">/a [a] fun()</div>
<div class="line">--- c-&gt;fun() ---</div>
<div class="line">/c [c] fun()</div>
<div class="line">/b [b] fun()</div>
<div class="line">/a [a] fun()</div>
<div class="line">--- b-&gt;fun2() ---</div>
<div class="line">/b [b] fun2()</div>
<div class="line">/a [a] fun3()</div>
<div class="line">/c [c] fun3()</div>
</div><!-- fragment --><p> code like the following:</p>
<div class="fragment"><div class="line"><span class="keywordtype">object</span> a, b, c;</div>
<div class="line"></div>
<div class="line">a = <a class="code" href="classefun.html#a8ef004651be5805383aca5b9a3f8291b">load_object</a>(<span class="stringliteral">&quot;a&quot;</span>);</div>
<div class="line">b = <a class="code" href="classefun.html#a8ef004651be5805383aca5b9a3f8291b">load_object</a>(<span class="stringliteral">&quot;b&quot;</span>);</div>
<div class="line">c = <a class="code" href="classefun.html#a8ef004651be5805383aca5b9a3f8291b">load_object</a>(<span class="stringliteral">&quot;c&quot;</span>);</div>
<div class="line">b-&gt;do_shadow(a);</div>
<div class="line">c-&gt;do_shadow(a);</div>
<div class="line">a-&gt;fun();<span class="comment"></span></div>
<div class="line"><span class="comment">/// output:</span></div>
<div class="line"><span class="comment"></span><span class="comment">// /c [c] fun()</span></div>
<div class="line"><span class="comment">// /b [b] fun()</span></div>
<div class="line"><span class="comment">// /a [a] fun()</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line">b-&gt;fun();</div>
<div class="line"><span class="comment">// output:</span></div>
<div class="line"><span class="comment">// /c [c] fun()</span></div>
<div class="line"><span class="comment">// /b [b] fun()</span></div>
<div class="line"><span class="comment">// /a [a] fun()</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line">c-&gt;fun();</div>
<div class="line"><span class="comment">// output:</span></div>
<div class="line"><span class="comment">// /c [c] fun()</span></div>
<div class="line"><span class="comment">// /b [b] fun()</span></div>
<div class="line"><span class="comment">// /a [a] fun()</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line">b-&gt;fun2();</div>
<div class="line"><span class="comment">// output:</span></div>
<div class="line"><span class="comment">// /b [b] fun2()</span></div>
<div class="line"><span class="comment">// /a [a] fun3()</span></div>
<div class="line"><span class="comment">// /c [c] fun3()</span></div>
<div class="line"><span class="comment">//</span></div>
</div><!-- fragment --><p> Note that the first call in <code>b::fun2()</code> finds <code>c::fun3()</code> because, for calls originating from b to a, the driver assumes that all shadows beyond c have already had their chance. The second call, however, was to b itself, which the gamedriver recognized as being shadowed by c.</p>
<p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.1@47) -- shadows may now survive the destruction of the shadowee (unless the prepare_destruct in the <a class="code" href="classmaster.html">master</a> <span class="keywordtype">object</span> destructs them manually).</div>
<div class="line">changed (3.2.8) -- programs may protect themselves from being shadowed with the no_shadow.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ac6e2a0ca7c746ee1bc1c56649fe0ffc7" title="The function returns the object which obj is currently shadowing, or 0 if obj is not a shadow...">efun::query_shadowing()</a>, <a class="el" href="classefun.html#a05070447e0963d3e53f870fd8a1e1112" title="The calling object stops shadowing any other object. ">efun::unshadow()</a>, <a class="el" href="classmaster.html#ac28dae705aac1485aaf23bf7167f178b" title="Return 1 if previous_object() is allowed to use efun::shadow() on object victim, 0 if it is not...">master::query_allow_shadow()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a4c6184e20b9727f3f7315013af122117"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shutdown </td>
          <td>(</td>
          <td class="paramtype">int exit_code&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shutdown the mud, setting the process result code to <code>exit_code</code>, or 0 if not given. </p>
<p>Never use this efun. If you need to shutdown the mud, use the shutdown command instead. You may be asking yourself, if you're not supposed to use it why is it here? Sorry, I cannot answer that. It's top-secret.</p>
<p>The efun causes a privilege violation.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a4c6184e20b9727f3f7315013af122117">shutdown</a>()</div>
<div class="line">void <a class="code" href="classefun.html#a4c6184e20b9727f3f7315013af122117">shutdown</a>(int exit_code)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.11) -- introduced the exit code.</div>
<div class="line">changed (3.5.0) -- made the <a class="code" href="classefun.html">efun</a> privileged.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#af38c2aa695e4b3e22f55fc1a6530aabe" title="This function is for system internal use and should never be called by user objects. ">efun::break_point()</a>, <a class="el" href="classefun.html#a0e75e21c1d36f34d61a3061795c11c09" title="Swap out an object. ">efun::swap()</a>, <a class="el" href="classmaster.html#afaf1545f7ccfbb3d897293150f5a45ca" title="Validate the execution of a privileged operation. ">master::privilege_violation()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a933a36f652c733f5117565524dcaedf3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float sin </td>
          <td>(</td>
          <td class="paramtype">int|&#160;</td>
          <td class="paramname"><em>float</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the sine of the argument. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">float</span> <a class="code" href="classefun.html#a933a36f652c733f5117565524dcaedf3">sin</a>(<span class="keywordtype">int</span>|<span class="keywordtype">float</span>)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.9) -- added integers as arguments.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a78b9d0583bd0699e2eac30d2a136817a" title="Returns the arcus sine of its argument. ">efun::asin()</a>, <a class="el" href="classefun.html#af6e6d9edd947ede82b886aa6fb924761" title="Returns the cosinus of the argument. ">efun::cos()</a>, <a class="el" href="classefun.html#a07648648c7f857cfd1479821d4389751" title="Returns the arcus cosine of the argument. ">efun::acos()</a>, <a class="el" href="classefun.html#ae0d1c93eb42a5e19a95fcf72d189ab2f" title="Returns the tangent of the argument. ">efun::tan()</a>, <a class="el" href="classefun.html#a0b28d79466130f759e16240979e44f0d" title="Returns the argument&#39;s arcus tangent. ">efun::atan()</a>, <a class="el" href="classefun.html#a11e580e05e7a7739cc880834099778b1" title="Returns the angle part of the polar coordinates of the point (x, y) in the range (-pi, pi). ">efun::atan2()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1b26f2ff266e671649fc060bea19b228"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int sizeof </td>
          <td>(</td>
          <td class="paramtype">struct xxx val&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of elements of an array or struct, the number of characters in a string, or the number of keys in a mapping. </p>
<p>As a special case, the number 0 can be passed, and the function will return 0.</p>
<p>If there were any objects destroyed in the game since the mapping was last checked for destructed keys, the mapping needs to be checked for destructed objects in keys first. In that case, the runtime increases linear with the number of keys in the mapping (<code>O(n)</code>). Otherwise the runtime is independent of the mappings size (<code>O(1)</code>).</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <span class="keyword">sizeof</span>(mixed * val)</div>
<div class="line"><span class="keywordtype">int</span> <span class="keyword">sizeof</span>(<span class="keywordtype">string</span>  val)</div>
<div class="line"><span class="keywordtype">int</span> <span class="keyword">sizeof</span>(mapping val)</div>
<div class="line"><span class="keywordtype">int</span> <span class="keyword">sizeof</span>(<span class="keyword">struct</span> xxx val)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.9) -- added strings to the possible parameters.</div>
<div class="line">changed (3.3) -- added support <span class="keywordflow">for</span> structs.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a61d5a7558155b9c73a1fbecae6d8b36c" title="Returns the length of the string str. ">efun::strlen()</a>, <a class="el" href="classefun.html#af929b0398229dda16008ec4bc23a5f99" title="Allocate an array of size elements. ">efun::allocate()</a>, <a class="el" href="classefun.html#a3c94a0dd0f29e1f90f48d17e53fec879" title="Return 1 if arg is a pointer, i.e. ">efun::pointerp()</a>, <a class="el" href="classefun.html#a588bcd8d5f59e8c2c08c0d989c530863" title="Returns 1 if the argument is a mapping, or 0 if it is not. ">efun::mappingp()</a>, <a class="el" href="classefun.html#a9ae4e2d42d75ad4aa7f4e100c60c3d41" title="Reserve memory for a mapping. ">efun::m_allocate()</a>, <a class="el" href="classefun.html#abd02e530c8ad0620b241d0933fdc91da" title="Returns the number of values per key of mapping map. ">efun::widthof()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1d350e15339896d085ea396ce81e6fd9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sl_close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Closes the SQLite database associated with the current object. </p>
<p>The function is available only if the driver is compiled with SQLite support. In that case, <a class="el" href="driver_topics_predefined.html">__SQLITE__</a> is defined.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a1d350e15339896d085ea396ce81e6fd9">sl_close</a>()</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.713)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ace394a72e7da146b9eff935f208356ce" title="Opens the file filename for use as a SQLite database. ">efun::sl_open()</a>, <a class="el" href="classefun.html#a93887966f6a6b49721dc3b22575821d2" title="Executes the SQL statement statement for the current SQLite database. ">efun::sl_exec()</a>, <a class="el" href="classefun.html#a5c6153ce59073c021a9958d325e51cd6" title="After inserting a line into a table with an AUTO_INCREMENT field, this efun can be used to return the...">efun::sl_insert_id()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a93887966f6a6b49721dc3b22575821d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed* sl_exec </td>
          <td>(</td>
          <td class="paramtype">string statement&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executes the SQL statement <code>statement</code> for the current SQLite database. </p>
<p>The SQL statement may contain wildcards like <code>?</code> and <code>?nnn</code>, where <code>nnn</code> is an integer. These wildcards can be given as further parameters to sl_exec. With <code>?nnn</code> the number of a specific parameter can be given, the first parameter has number 1.</p>
<p>If the statement returns data, sl_exec returns an array with each row (which is itself an array of columns) as an element.</p>
<p>Pragma statements raise a privilege_violation ("sqlite_pragma", ob, name, value). If the privilege is denied, an error is thrown.</p>
<p>The function is available only if the driver is compiled with SQLite support. In that case, <a class="el" href="driver_topics_predefined.html">__SQLITE__</a> is defined.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed * <a class="code" href="classefun.html#a93887966f6a6b49721dc3b22575821d2">sl_exec</a>(string statement, ...)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.713)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ace394a72e7da146b9eff935f208356ce" title="Opens the file filename for use as a SQLite database. ">efun::sl_open()</a>, <a class="el" href="classefun.html#a5c6153ce59073c021a9958d325e51cd6" title="After inserting a line into a table with an AUTO_INCREMENT field, this efun can be used to return the...">efun::sl_insert_id()</a>, <a class="el" href="classefun.html#a1d350e15339896d085ea396ce81e6fd9" title="Closes the SQLite database associated with the current object. ">efun::sl_close()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a5c6153ce59073c021a9958d325e51cd6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int sl_insert_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>After inserting a line into a table with an <code>AUTO_INCREMENT</code> field, this efun can be used to return the (new) value of the <code>AUTO_INCREMENT</code> field. </p>
<p>The function is available only if the driver is compiled with SQLite support. In that case, <a class="el" href="driver_topics_predefined.html">__SQLITE__</a> is defined.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a5c6153ce59073c021a9958d325e51cd6">sl_insert_id</a>()</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.713)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ace394a72e7da146b9eff935f208356ce" title="Opens the file filename for use as a SQLite database. ">efun::sl_open()</a>, <a class="el" href="classefun.html#a93887966f6a6b49721dc3b22575821d2" title="Executes the SQL statement statement for the current SQLite database. ">efun::sl_exec()</a>, <a class="el" href="classefun.html#a1d350e15339896d085ea396ce81e6fd9" title="Closes the SQLite database associated with the current object. ">efun::sl_close()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ace394a72e7da146b9eff935f208356ce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int sl_open </td>
          <td>(</td>
          <td class="paramtype">string filename&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Opens the file <code>filename</code> for use as a SQLite database. </p>
<p>The file will be created if it doesn't exist. Only one open file per object is allowed. On success this function returns 1, otherwise an error is usually thrown.</p>
<p>The function is available only if the driver is compiled with SQLite support. In that case, <a class="el" href="driver_topics_predefined.html">__SQLITE__</a> is defined.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#ace394a72e7da146b9eff935f208356ce">sl_open</a>(string filename)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.713)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a93887966f6a6b49721dc3b22575821d2" title="Executes the SQL statement statement for the current SQLite database. ">efun::sl_exec()</a>, <a class="el" href="classefun.html#a5c6153ce59073c021a9958d325e51cd6" title="After inserting a line into a table with an AUTO_INCREMENT field, this efun can be used to return the...">efun::sl_insert_id()</a>, <a class="el" href="classefun.html#a1d350e15339896d085ea396ce81e6fd9" title="Closes the SQLite database associated with the current object. ">efun::sl_close()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a9f2f48f11700222aaa6e712ef7992a33"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object snoop </td>
          <td>(</td>
          <td class="paramtype">object snooper&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object snoopee&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Starts a snoop from <code>snooper</code> on <code>snoopee</code>, or if <code>snoopee</code> is not given, terminates any snoop from <code>snooper</code>. </p>
<p>Return <code>snoopee</code> on success, or 0 for a failure (including snooping loops).</p>
<p>The snoop is checked with the master object for validity. It will also fail if a snoop would result in a recursive snoop action.</p>
<p><code>snooper</code> can be an interactive player or an object. If it is an interactive player, the snooped text is prepended with a '' and sent directly to the player's connection. If <code>snooper</code> is an object, the snooped text is sent in two calls to the object's <a class="el" href="classapplied.html#a7694f52f199ec3698af091accf6e6f22" title="When a message is sent to an non-interactive object, via efun::say(), efun::tell_object(), efun::tell_room() or efun::write(), it will get to the function applied::catch_tell(string)(). ">applied::catch_tell()</a> lfun: the first call passes just the "%" (plus the prompt if the object changed it), the second the actual text.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#a9f2f48f11700222aaa6e712ef7992a33">snoop</a>(object snooper)</div>
<div class="line">object <a class="code" href="classefun.html#a9f2f48f11700222aaa6e712ef7992a33">snoop</a>(object snooper, object snoopee)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ae819f6603be71574e728a51db3feb244" title="Returns the user who currently snoops victim. ">efun::query_snoop()</a>, <a class="el" href="classapplied.html#a7694f52f199ec3698af091accf6e6f22" title="When a message is sent to an non-interactive object, via efun::say(), efun::tell_object(), efun::tell_room() or efun::write(), it will get to the function applied::catch_tell(string)(). ">applied::catch_tell()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a726e9875b6a71d74e719bf470c00bbf4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed* sort_array </td>
          <td>(</td>
          <td class="paramtype">mixed  *&#160;</td>
          <td class="paramname"><em>arr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">closure cl&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed extra...&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sort the copy either by the ordering function <code>ob-&gt;wrong_order(a, b)</code>, or by the closure expression <code>cl</code>. </p>
<p>Usually a shallow copy of <code>arr</code> is made first and the sorted copy is returned as result. However, if <code>arr</code> is given as a reference, no copy will be made and <code>arr</code> will be sorted in-place.</p>
<p>If the <code>arr</code> argument equals 0, the result is also 0.</p>
<p><code>ob</code> is the object in which the ordering function is called and may be given as object or by its filename. If <code>ob</code> is omitted or neither a string nor an object, it defaults to <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code>.</p>
<p>The elements from the array to be sorted are passed in pairs to the function <code>wrong_order</code> as arguments, followed by the <code>extra</code> arguments if any.</p>
<p>The function should return a positive number if the elements are in the wrong order. It should return 0 or a negative number if the elements are in the correct order.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed * <a class="code" href="classefun.html#a726e9875b6a71d74e719bf470c00bbf4">sort_array</a>(mixed *arr, string wrong_order)</div>
<div class="line">mixed * <a class="code" href="classefun.html#a726e9875b6a71d74e719bf470c00bbf4">sort_array</a>(mixed *arr, string wrong_order, <span class="keywordtype">object</span>|string ob)</div>
<div class="line">mixed * <a class="code" href="classefun.html#a726e9875b6a71d74e719bf470c00bbf4">sort_array</a>(mixed *arr, string wrong_order, <span class="keywordtype">object</span>|string ob, mixed extra...)</div>
<div class="line">mixed * <a class="code" href="classefun.html#a726e9875b6a71d74e719bf470c00bbf4">sort_array</a>(mixed *arr, closure cl)</div>
<div class="line">mixed * <a class="code" href="classefun.html#a726e9875b6a71d74e719bf470c00bbf4">sort_array</a>(mixed *arr, closure cl, mixed extra...)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">To sort an array:</p>
<div class="fragment"><div class="line">arr = ({ 3, 8, 1, 3 })</div>
</div><!-- fragment --><p> in ascending order with the help of the ordering function:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> is_greater (<span class="keywordtype">int</span> a, <span class="keywordtype">int</span> b) {</div>
<div class="line">  <span class="keywordflow">return</span> a &gt; b;</div>
<div class="line">}</div>
</div><!-- fragment --><p> the following uses of <a class="el" href="classefun.html#a726e9875b6a71d74e719bf470c00bbf4" title="Sort the copy either by the ordering function ob-&gt;wrong_order(a, b), or by the closure expression cl...">efun::sort_array()</a> are equivalent:</p>
<div class="fragment"><div class="line">arr = <a class="code" href="classefun.html#a726e9875b6a71d74e719bf470c00bbf4">sort_array</a>(arr, <span class="stringliteral">&quot;is_greater&quot;</span>, <a class="code" href="classefun.html#a3beb87980adf6911709c4c431e244488">this_object</a>())</div>
<div class="line">arr = <a class="code" href="classefun.html#a726e9875b6a71d74e719bf470c00bbf4">sort_array</a>(arr, &quot;is_greater&quot;)</div>
<div class="line">arr = <a class="code" href="classefun.html#a726e9875b6a71d74e719bf470c00bbf4">sort_array</a>(arr, <span class="preprocessor">#&#39;is_greater)</span></div>
<div class="line"><span class="preprocessor"></span>arr = <a class="code" href="classefun.html#a726e9875b6a71d74e719bf470c00bbf4">sort_array</a>(arr, #<span class="stringliteral">&#39;&gt;)  (this is the preferred variant :-)</span></div>
<div class="line"><span class="stringliteral">arr = sort_array(arr, lambda(({&#39;</span>a, <span class="stringliteral">&#39;b}), ({#&#39;</span>&gt;, <span class="stringliteral">&#39;a, &#39;</span>b})))</div>
</div><!-- fragment --><p> If no implicit shallow copy of <code>arr</code> should be made, pass <code>arr</code> as reference:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a726e9875b6a71d74e719bf470c00bbf4">sort_array</a>(&amp;arr, #<span class="stringliteral">&#39;&gt;)</span></div>
</div><!-- fragment --><p> A more complicated example is to sort the array:</p>
<div class="fragment"><div class="line">arr = ({ ({ <span class="stringliteral">&quot;foo&quot;</span>, 3 }), ({ <span class="stringliteral">&quot;quux&quot;</span>, 1 }), ... })</div>
</div><!-- fragment --><p> in ascending order by the second element of each subarray. For this, the ordering function should be like:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> is_greater (mixed *a, mixed *b) {</div>
<div class="line">  <span class="keywordflow">return</span> a[1] &gt; b[1];</div>
<div class="line">}</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.8) -- added support <span class="keywordflow">for</span> extra arguments.</div>
<div class="line">changed (3.3.720) -- added support <span class="keywordflow">for</span> passing a reference to sort in-place.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ab4a9f331461f994362f7b3cda352dbea" title="Applied to an alist, results in an array of ({ key, data }) pairs, useful if you want to use efun::so...">efun::transpose_array()</a>, <a class="el" href="classefun.html#ac5e7282ed029a438608ee96f18052e33" title="Call the function &lt;ob&gt;-&gt;&lt;func&gt;() resp. ">efun::filter()</a>, <a class="el" href="classefun.html#a33260046a3141e3b6f24f730d13201b9" title="Call the function &lt;ob&gt;-&gt;&lt;func&gt;() resp. ">efun::map()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="afda00b52a57aac8ce24bc5f5a5dc9cc8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string sprintf </td>
          <td>(</td>
          <td class="paramtype">string fmt&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Most of the characters in the format string <code>fmt</code> get passed straight through to the output (i.e. </p>
<p>: printed or put in the return string), to format arguments into the string it is necessary to include an argument format string (AFS) in the format string. An AFS is a series of characters starting with a percent sign "%" and terminated with a argument type specifier. </p>
<pre class="fragment">  To include a "%" sign in the output, it is necessary to include a double percent sign "%%". The sequence "%^" will output "%^" again.

  Valid argument type specifiers are:
  "s" : the argument is a string.
  "d" : the argument is an integer to be included in decimal representation.
  "i" : same as "d".
  "b" : the argument is an integer to be included in binary representation.
  "o" : the argument is an integer to be included in octal representation.
  "x" : the argument is an integer to be included in hexadecimal representation.
  "X" : as "x" except letters are capitalised.
  "e","E","f","g","G" : the argument is a float to be included in decimal representation; see examples for details.
  "c" : the argument is an int to included as a character.
  "O" : the argument is an LPC datatype to be printed in an arbituary format, this is for debugging purposes. If the argument is an object the function master::printf_obj_name() is called on the master object with the object as a parameter; the string returned is included in brackets at the end of object file name. If 0 is returned, nothing is appended after the file name.
  "Q"   Like "O", except that special characters in strings are printed in LPC notation.

  Between the percent sign and the argument type specifier in the AFS, the following modifiers can be included to specify the formatting information. Order is not important unless otherwise specified. "n" is used to specify a integer, which can be a "*" in which case the next argument is used as the number.

  Modifiers:
     n    specifies the field size. If the size is prepended with a 0, the argument is printed with leading zeroes.

  "."n  specifies the precision, for simple strings (not columns or tables) specifies the truncation length.
  ":"n  n specifies both the field size _and_ the precision; if n is prepended by a zero then the pad string is set to "0".
  "'X'" the pad string is set to the char(s) between the single quotes; if the field size is also prepended with a zero then whichever is specified last will overrule. NOTE: to include "'" in the pad string, you must use "\'" (as the backslash has to be escaped past the interpreter); similarly, to include "" you must use "\\".
  " "   pad positive integers with a space.
  "+"   pad positive integers with a plus sign.
  "-"   left-aligned within field size.

     NB: std (s)printf() defaults to right alignment, which is unnatural in the context of a mainly string based language but has been retained for "compatibility" ;)

  "|"   centered within field size.
  "$"   justified to field size. Ignored unless the type specifier is 's'.
  "="   column mode. Ignored unless the argument type specifier is 's'. Field size must be specified; if precision is specified then it sets the width for the string to be wordwrapped at, but otherwise the field size is used. Field size specifies the width of the column the last line of the column is padded with spaces to achieve this length.
  "#"   For strings: table mode.

        Field size must be specified; if precision is specified it sets the number of columns in the table, otherwise the number is "optimally" generated (as few lines and columns as possible). Table mode is passed a list of backslash-n separated 'words' which are put in a format similar to that of ls.

     For %O/%Q: compact output.

  "@"   the argument is an array. The corresponding AFS (minus all "@") is applied to each element of the array.

  When the formatting of an element results in several output lines (column or table mode) and no explicit pad string has been defined, any padding whitespace before the newlines of all but the last line is removed. However, if an explicit pad string has been given, even if it is the simple char:` `(U+00020 SPACE), the padding will not be removed.

  @par Synopsis:
</pre> <div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#afda00b52a57aac8ce24bc5f5a5dc9cc8">sprintf</a>(string fmt, ...)</div>
</div><!-- fragment --><dl class="section user"><dt>Usage:</dt><dd><p class="startdd">~~~{.c} sprintf("decimal=%d, octal=%o, hexadecimal=%x\n", 7, 7, 7);</p>
<p>sprintf("array=%O\n", ({1, 2, 3}));</p>
<p>// this will return the following: // ({ // <a class="el" href="classefun.html#a1b26f2ff266e671649fc060bea19b228" title="Returns the number of elements of an array or struct, the number of characters in a string...">sizeof()</a> == 3 // 1, // 2, // 3 // }) // An array will be printed recursively and each element of the // array will be indented. Can also be used as a debugging tool.</p>
<p>sprintf("%-*#s\n", 80, implode(get_dir("~/."), "\n"));</p>
<p>sprintf("foo") // returns "foo"</p>
<p>sprintf("%s","foo") // returns "foo" sprintf("%7s","foo") // returns "    foo" sprintf("%-7s","foo") // returns "foo    " sprintf("%|7s","foo") // returns "  foo  " sprintf("%7'.'s","foo") // returns "....foo" sprintf("%-7'+-'s","foo") // returns "foo+-+-" sprintf("%|9'-+'s","foo") // returns "-+-foo-+-" sprintf("%3s","foobarbloh") // returns "foobarbloh" sprintf("%3.6s","foobarbloh") // returns "foobar" sprintf("%6.3s","foobarbloh") // returns "   foo" sprintf("%:6s","foobarbloh") // returns "foobar" sprintf("%:3s","foobarbloh") // returns "foo" sprintf("%*.*s",-7,2,"foobarbloh") // returns "fo     "</p>
<p>sprintf("%=12s","this is a very long sentence\n") // returns "   this is a\n" // "   very long\n" // "    sentence\n" sprintf("%=-12s","this is a very long sentence\n") // returns "this is a\n" // "very long\n" // "sentence\n" sprintf("%=|12s","this is a very long sentence\n") // returns "  this is a\n" // "  very long\n" // "  sentence\n" sprintf("%=10.6s","this is a very long sentence\n") // returns "      this\n" // "      is a\n" // "      very\n" // "      long\n" // "    senten\n" // "        ce\n" sprintf("%#-40.3s", "one\ntwo\nthree\nfour\nfive\nsix\nseven\neight\nnine\nten\n") // returns "one          five         nine\n" // "two          six          ten\n" // "three        seven        \n" // "four         eight        " sprintf("%#-40s", "one\ntwo\nthree\nfour\nfive\nsix\nseven\neight\nnine\nten\n") // returns "one     three   five    seven   nine\n" // "two     four    six     eight   ten"</p>
<p>sprintf("%@-5s",({"foo","bar","bloh"})) // returns "foo  bar  bloh "</p>
<p>sprintf("%d",123) // returns "123" sprintf("%7d",123) // returns "    123" sprintf("%-7d",123) // returns "123" (yes, really) sprintf("%d/%d",123,-123) // returns "123/-123" sprintf("% d/% d",123,-123) // returns " 123/-123" sprintf("%+d/%+d",123,-123) // returns "+123/-123" sprintf("%+6d/%6d",123,123) // returns " +123/  123" sprintf("%|6d",123) // returns "  123" (yes, really) sprintf("%|10d",123) // returns "    123" (yes, really) sprintf("%|10d%3s",123,"foo") // returns "    123   foo"</p>
<p>sprintf("%o",16) // returns "20" sprintf("%'0'3o",8) // returns "010"</p>
<p>sprintf("%x",123) // returns "7b" sprintf("%X",123) // returns "7B"</p>
<p>sprintf("%f",123.5) // returns "124" sprintf("%8.3f",123.5) // returns " 123.500" sprintf("%E",123.5) // returns "1E+02" sprintf("%12.4e",123.5) // returns "  1.2350e+02" sprintf("%g",123.5) // returns "124" sprintf("%8.3G",123.5) // returns "     124" sprintf("%8.6g",123.5) // returns "   123.5"</p>
<p>~~~</p>
<p class="enddd"></p>
</dd></dl>
<pre class="fragment">  @par History:
</pre> <div class="fragment"><div class="line">      changed (3.2.9) -- added the %^ sequence <span class="keywordflow">for</span> compatibility with <a class="code" href="classefun.html#a5174fcc80f51ca366f5cfb84e3dd4f15">terminal_colour</a></div>
<div class="line"></div>
<div class="line">added the %Q sequence</div>
<div class="line"></div>
<div class="line">clarified the meaning of leading 0s in the field size modifier</div>
<div class="line"></div>
<div class="line">clarified the interaction between the padding and newlines</div>
<div class="line"></div>
<div class="line">added the $ formatter <span class="keywordflow">for</span> justified printing of strings.</div>
<div class="line">      added the %^ sequence <span class="keywordflow">for</span> compatibility with <a class="code" href="classefun.html#a5174fcc80f51ca366f5cfb84e3dd4f15">terminal_colour</a></div>
<div class="line">      added the %Q sequence</div>
<div class="line">      clarified the meaning of leading 0s in the field size modifier</div>
<div class="line">      clarified the interaction between the padding and newlines</div>
<div class="line">      added the $ formatter <span class="keywordflow">for</span> justified printing of strings.</div>
<div class="line">      changed (3.2.10) -- added modifier # <span class="keywordflow">for</span> %O/%Q and the datatype %b.</div>
</div><!-- fragment --><dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a2f50b85e38b1f7510cddbe6dc5435942" title="A cross between efun::sprintf() and efun::write(). ">efun::printf()</a>, <a class="el" href="classefun.html#a5174fcc80f51ca366f5cfb84e3dd4f15" title="If map is given as a non-0 value, this efun expands all colour-defines of the form &quot;%^KEY%^&quot; (see bel...">efun::terminal_colour()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a01fc0ca89e5b3b03493bd218b85bbd3f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float sqrt </td>
          <td>(</td>
          <td class="paramtype">int|&#160;</td>
          <td class="paramname"><em>float</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the square root of the argument. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">float</span> <a class="code" href="classefun.html#a01fc0ca89e5b3b03493bd218b85bbd3f">sqrt</a>(<span class="keywordtype">int</span>|<span class="keywordtype">float</span>)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.9) -- added integers as arguments.</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="a45e3a155fb859f16c2600eac07df15f5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int sscanf </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string fmt&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed var1&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed var2&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parse a string <code>str</code> using the format <code>fmt</code>. </p>
<p><code>fmt</code> can contain strings seperated by d and s. Every d and s corresponds to one of <code>var1</code>, <code>var2</code>, ... .</p>
<p>The match operators in the format string have one of these formats:</p>
<div class="fragment"><div class="line">%[+][!|~][&lt;size&gt;[.&lt;minmatch&gt;]]&lt;type&gt;</div>
</div><!-- fragment --><p> <code>type</code> may be: d: matches any number. D: matches any number. U: matches any unsigned number. s: matches any string. %: matches the % character. t: matches whitespace (spaces and tab characters), but does not store them (the simple char:(U+00020 SPACE) matches just spaces and can't be given a size specification).</p>
<p><code>size</code> is the expected field size, and <code>minmatch</code> the demanded minimal match length (defaults are 0 for strings and 1 for numbers). Each of these both may be specified numerically, or as '*' - in which case the value of the variable at the current place in the argument list is used.</p>
<p>Specifying + will require that the characters after the field match as well, or the match will be deemed unsuccessful (the variable might still get assigned, though).</p>
<p>Specifying ! will perform the match, but neither store the result nor count the match.</p>
<p>Specifying ~ will perform and count the match, but not store the result.</p>
<p>If the s specifier is not at the end of the format string, it is matched only if the following character(s) or format is found, too. See below for an example.</p>
<p>The difference between d and D/U is that the latter will abort an immediately preceeding s as soon as possible, whereas the former will attempt to make the largest match to s first. D/U will still not skip whitespace; use %.0tD to skip optional whitespace.</p>
<p>The number of matched arguments will be returned.</p>
<p>The function sscanf is special in that arguments are passed by reference automatically.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a45e3a155fb859f16c2600eac07df15f5">sscanf</a>(string str, string fmt, mixed var1, mixed var2, ...)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> who, what;</div>
<div class="line"><span class="keywordflow">if</span> (<a class="code" href="classefun.html#a45e3a155fb859f16c2600eac07df15f5">sscanf</a>(<span class="stringliteral">&quot;throw frisbee to rover&quot;</span>,</div>
<div class="line">   <span class="stringliteral">&quot;throw %s to %s&quot;</span>, what, who) != 2)</div>
<div class="line">   <a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<span class="stringliteral">&quot;Usage: throw &lt;what&gt; to &lt;who&gt;\n&quot;</span>);</div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">   <a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<span class="stringliteral">&quot;You throw a &quot;</span>+what+<span class="stringliteral">&quot; to &quot;</span>+who+<span class="stringliteral">&quot; to get his attention.\n&quot;</span>);</div>
<div class="line"></div>
<div class="line"><a class="code" href="classefun.html#a45e3a155fb859f16c2600eac07df15f5">sscanf</a>(<span class="stringliteral">&quot;ab&quot;</span>, <span class="stringliteral">&quot;%s%s&quot;</span>, who, what)</div>
<div class="line">  ==&gt; result 2, who = <span class="stringliteral">&quot;&quot;</span>, what = <span class="stringliteral">&quot;ab&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="classefun.html#a45e3a155fb859f16c2600eac07df15f5">sscanf</a>(<span class="stringliteral">&quot;ab&quot;</span>, <span class="stringliteral">&quot;%s %s&quot;</span>, who, what)</div>
<div class="line">  ==&gt; result 0, who = 0, what = 0</div>
<div class="line"></div>
<div class="line"><a class="code" href="classefun.html#a45e3a155fb859f16c2600eac07df15f5">sscanf</a>(<span class="stringliteral">&quot;ab &quot;</span>, <span class="stringliteral">&quot;%s %s&quot;</span>, who, what)</div>
<div class="line">  ==&gt; result 2, who = <span class="stringliteral">&quot;ab&quot;</span>, what = <span class="stringliteral">&quot;&quot;</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.3.713/3.2.13) -- added the + specifier.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a5b90a42c555bc61599b700a31b530082" title="Return an array of strings, created when the string str is split into substrings as divided by del...">efun::explode()</a>, <a class="el" href="classefun.html#a07319596f18abab5f21aceb457e701af" title="Match the pattern pattern (interpreted according to opt if given) against all strings in list...">efun::regexp()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a0942012412ffa3f64f1d7c92352a805e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int start_mccp_compress </td>
          <td>(</td>
          <td class="paramtype">int telopt&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This efun must be called inside an interactive player and starts the compression of the driver -&gt; client traffic. </p>
<p>Returns non-zero on success, and 0 on failure.</p>
<p><code>telopt</code> denotes the <a class="el" href="driver_topics_mccp.html">MCCP</a> version and must be either <code>TELOPT_COMPRESS2</code> or <code>TELOPT_COMPRESS</code> from &lt;telnet.h&gt;.</p>
<p>The only exception is when the telnet machine is disabled: then any value will do. This can be used with dedicated clients which send text uncompressed but expect to receive it compressed (Java clients using InflaterInputStream for example).</p>
<p>Available only if the driver is compiled with <a class="el" href="driver_topics_mccp.html">MCCP</a> enabled; <a class="el" href="driver_topics_predefined.html">__MCCP__</a> is defined in that case.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a0942012412ffa3f64f1d7c92352a805e">start_mccp_compress</a>(int telopt)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.447/3.2.10)</div>
<div class="line">changed (3.3.666) -- added the possibility to enable outgoing compression when the telnet machine is enabled (not backported to 3.2 series).</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ab7f14bd8da9ff16ac3c60d868af1aedb" title="This efun must be called inside an interactive player and stops the compression of the driver -&gt; clie...">efun::end_mccp_compress()</a>, <a class="el" href="classefun.html#af6515b75af0e981f626dc18cab2c5e82" title="This efun returns current whether the client uses compression or not ( default this_player() )...">efun::query_mccp()</a>, <a class="el" href="classefun.html#afe44b8bace8716fb752a644c53fa1258" title="This efun gives you statistics about current compression of the player ( default this_player() )...">efun::query_mccp_stats()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a76c8311a125456baec350628b227e039"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string strftime </td>
          <td>(</td>
          <td class="paramtype">string fmt&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int clock&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int localized&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Formats the given time in <code>clock</code> as a string, similar to <a class="el" href="classefun.html#a0063aa195f706f56b790a045c06afcb1" title="Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0.00 and convert it to a nice...">efun::ctime()</a>. </p>
<p>Unlike <a class="el" href="classefun.html#a0063aa195f706f56b790a045c06afcb1" title="Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0.00 and convert it to a nice...">efun::ctime()</a>, <a class="el" href="classefun.html#a76c8311a125456baec350628b227e039" title="Formats the given time in clock as a string, similar to efun::ctime(). ">efun::strftime()</a> accepts a format string with placeholders for the different elements. The format string consists of zero or more conversion specifiers (see below) and ordinary characters. Ordinary characters are just copied to the result. A conversion specifier starts with a percent sign (''). If no format string is given, a default of "%c" will be used.</p>
<p>The argument <code>clock</code> is the number of seconds since the epoch (<code>00:00:00 UTC, January 1, 1970</code>), as returned by <a class="el" href="classefun.html#aa560fa38ca94599aa767ccb916e9bce7" title="Return number of seconds elapsed since `1. ">efun::time()</a>/efun::mktime(). If <code>clock</code> is not given, the current result of <a class="el" href="classefun.html#aa560fa38ca94599aa767ccb916e9bce7" title="Return number of seconds elapsed since `1. ">efun::time()</a> will be used.</p>
<p>The argument <code>localized</code> specifies whether the result will be in English (the classic "C" locale) or in the language configured on the host computer (e.g. German). The language has to be configured with the environment variables <code>LC_TIME</code> or <code>LC_ALL</code> (please ask your admins). If <code>localized</code> is not given, the default is 1. 0: use classic "C" locale (english) 1: use current locale on the host computer (national representation).</p>
<dl class="section user"><dt>note: The resulting string is at most 511 character long.</dt><dd></dd></dl>
<h2>Conversion Specifiers</h2>
<p>This function accepts all conversion specifiers which the function <code><a class="el" href="classefun.html#a76c8311a125456baec350628b227e039" title="Formats the given time in clock as a string, similar to efun::ctime(). ">strftime()</a></code> from the C library accepts. Currently these are:</p>
<p>A replaced by national representation of the full weekday name. a replaced by national representation of the abbreviated weekday name. B replaced by national representation of the full month name. b replaced by national representation of the abbreviated month name. C replaced by (year / 100) as decimal number; single digits are preceded by a zero. c replaced by national representation of time and date. D equivalent to "%m/%d/%y". d replaced by the day of the month as a decimal number (01-31). E* O*</p>
<p>POSIX locale extensions. The sequences Ec EC Ex EX Ey EY Od Oe OH OI Om OM OS Ou OU OV Ow OW Oy are supposed to provide alternate representations. Additionally OB implemented to represent alternative month names (used standalone, without day mentioned).</p>
<p>e replaced by the day of month as a decimal number (1-31); single digits are preceded by a blank. F equivalent to "%Y-%m-%d". G replaced by a year as a decimal number with century. This year is the one that contains the greater part of the week (Monday as the first day of the week). g replaced by the same year as in "%G", but as a decimal number without century (00-99). H replaced by the hour (24-hour clock) as a decimal number (00-23). h the same as b. I replaced by the hour (12-hour clock) as a decimal number (01-12). j replaced by the day of the year as a decimal number (001-366). k replaced by the hour (24-hour clock) as a decimal number (0-23); single digits are preceded by a blank. l replaced by the hour (12-hour clock) as a decimal number (1-12); single digits are preceded by a blank. M replaced by the minute as a decimal number (00-59). m replaced by the month as a decimal number (01-12). n replaced by a newline. O* the same as E*. p replaced by national representation of either "ante meridiem" or "post meridiem" as appropriate. R equivalent to "%H:%M". r equivalent to "%I:%M:%S %p". S replaced by the second as a decimal number (00-60). s replaced by the number of seconds since the Epoch, UTC (see mktime(3)). T equivalent to "%H:%M:%S". t replaced by a tab. U replaced by the week number of the year (Sunday as the first day of the week) as a decimal number (00-53). u replaced by the weekday (Monday as the first day of the week) as a decimal number (1-7). V replaced by the week number of the year (Monday as the first day of the week) as a decimal number (01-53). If the week containing January 1st has four or more days in the new year, then it is week 1; otherwise it is the last week of the previous year, and the next week is week 1. v equivalent to "%e-%b-%Y". W replaced by the week number of the year (Monday as the first day of the week) as a decimal number (00-53). w replaced by the weekday (Sunday as the first day of the week) as a decimal number (0-6). X replaced by national representation of the time. x replaced by national representation of the date. Y replaced by the year with century as a decimal number. y replaced by the year without century as a decimal number (00-99). Z replaced by the time zone name. z replaced by the time zone offset from UTC; a leading plus sign stands for east of UTC, a minus sign for west of UTC, hours and minutes follow with two digits each and no delimiter between them (common form for RFC 822 date headers). %+ replaced by national representation of the date and time (the format is similar to that produced by date(1)). %% replaced by &gt;&gt;`&lt;&lt;'.</p>
<dl class="section user"><dt>limit: There is no conversion specification for the phase of the moon.</dt><dd></dd></dl>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a76c8311a125456baec350628b227e039">strftime</a>()</div>
<div class="line">string <a class="code" href="classefun.html#a76c8311a125456baec350628b227e039">strftime</a>(string fmt)</div>
<div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a76c8311a125456baec350628b227e039">strftime</a>(int clock)</div>
<div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a76c8311a125456baec350628b227e039">strftime</a>(string fmt, int clock)</div>
<div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a76c8311a125456baec350628b227e039">strftime</a>(string fmt, int clock, int localized)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">The below prints <code>"Today is Monday, 24. September 2007.\\n"</code>:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<a class="code" href="classefun.html#a76c8311a125456baec350628b227e039">strftime</a>(<span class="stringliteral">&quot;Today is %A, %d. %B %Y.\n&quot;</span>))</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.718)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a0063aa195f706f56b790a045c06afcb1" title="Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0.00 and convert it to a nice...">efun::ctime()</a>, <a class="el" href="classefun.html#af44be4217f00942db63875e6988a0f56" title="Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0:00, and return the time in ...">efun::gmtime()</a>, <a class="el" href="classefun.html#acd45e9336d29a4f03307ff89318e26ee" title="Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0:00, and return the time in ...">efun::localtime()</a>, <a class="el" href="classefun.html#ae6926710136aed0f66cfd4b825055e2f" title="If the argument ts is an array with 9 elements (int) according to the result of efun::localtime() or ...">efun::mktime()</a>, <a class="el" href="classefun.html#aa560fa38ca94599aa767ccb916e9bce7" title="Return number of seconds elapsed since `1. ">efun::time()</a>, <a class="el" href="classefun.html#a3b84da42b3b5f804d14762ddfcc3da91" title="Return the time since `1. ">efun::utime()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ad45cc3605ecbe92c52b8c1c8408da017"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int stringp </td>
          <td>(</td>
          <td class="paramtype">mixed arg&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return 1 if <code>arg</code> is a string. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#ad45cc3605ecbe92c52b8c1c8408da017">stringp</a>(mixed arg)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a62a23bfd4fb3823c9d808b3bff345980" title="The efun returns 1 if obj is a clone, and 0 if it is not. ">efun::clonep()</a>, <a class="el" href="classefun.html#af96696b3733777271624be5575c72726" title="Returns 1 if the argument is a closure. ">efun::closurep()</a>, <a class="el" href="classefun.html#a1493e7a68d0e7eb19f5f60d3c5761e9c" title="Returns 1 if the arg is a floating point number, 0 else. ">efun::floatp()</a>, <a class="el" href="classefun.html#a588bcd8d5f59e8c2c08c0d989c530863" title="Returns 1 if the argument is a mapping, or 0 if it is not. ">efun::mappingp()</a>, <a class="el" href="classefun.html#acc5e526acbd3a54f8f9625cc1fdc7f75" title="Return 1 if arg is an object. ">efun::objectp()</a>, <a class="el" href="classefun.html#aae25e47ee6526e8297fa3d9c822a22be" title="Return 1 if arg is an integer number. ">efun::intp()</a>, <a class="el" href="classefun.html#af28bd368a436849fb5195eb34ca53af3" title="returns true if arg was passed by reference to the current function, instead of the usual call-by-val...">efun::referencep()</a>, <a class="el" href="classefun.html#a3c94a0dd0f29e1f90f48d17e53fec879" title="Return 1 if arg is a pointer, i.e. ">efun::pointerp()</a>, <a class="el" href="classefun.html#aa0bbde61230276ac5155fa61b54c63f2" title="Returns 1 if value is a symbol. ">efun::symbolp()</a>, <a class="el" href="classefun.html#a1f75bb586fd744aa865714d4bab27b34" title="Return 1 if arg is a struct. ">efun::structp()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a61d5a7558155b9c73a1fbecae6d8b36c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int strlen </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the length of the string <code>str</code>. </p>
<p>This efun is deprecated and replaced by <a class="el" href="classefun.html#a1b26f2ff266e671649fc060bea19b228" title="Returns the number of elements of an array or struct, the number of characters in a string...">efun::sizeof()</a>. Please do not use it in new code and start to phase it out in old code.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a61d5a7558155b9c73a1fbecae6d8b36c">strlen</a>(string str)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a1b26f2ff266e671649fc060bea19b228" title="Returns the number of elements of an array or struct, the number of characters in a string...">efun::sizeof()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="abd0c94bd4ea45cc6849449ef057d75cf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int strrstr </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string str2&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int pos&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the index of the first occurence of <code>str2</code> in <code>str</code> searching from position <code>pos</code> (default: <code>-1 == string end</code>) on backward. </p>
<p>In other words: the index of the last occurance of <code>str2</code> before the given position <code>pos</code>.</p>
<p>The returned index is relative to the beginning of the string.</p>
<p>If <code>str2</code> is not found in <code>str</code>, -1 is returned.</p>
<p>If <code>pos</code> is negative, it designates the start position relative to the end of the string (the search will still proceed towards the beginning of the string).</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#abd0c94bd4ea45cc6849449ef057d75cf">strrstr</a>(string str, string str2)</div>
<div class="line">int <a class="code" href="classefun.html#abd0c94bd4ea45cc6849449ef057d75cf">strrstr</a>(string str, string str2, int pos)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.10)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a09de518ee7570ad7b1eb69f575ca3abf" title="Returns the index of str2 in str, searching from position pos on. ">efun::strstr()</a>, <a class="el" href="classefun.html#a61d5a7558155b9c73a1fbecae6d8b36c" title="Returns the length of the string str. ">efun::strlen()</a>, <a class="el" href="classefun.html#a45e3a155fb859f16c2600eac07df15f5" title="Parse a string str using the format fmt. ">efun::sscanf()</a>, <a class="el" href="classefun.html#afda00b52a57aac8ce24bc5f5a5dc9cc8" title="Most of the characters in the format string fmt get passed straight through to the output (i...">efun::sprintf()</a>, <a class="el" href="classefun.html#a5b90a42c555bc61599b700a31b530082" title="Return an array of strings, created when the string str is split into substrings as divided by del...">efun::explode()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a09de518ee7570ad7b1eb69f575ca3abf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int strstr </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string str2&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int pos&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the index of <code>str2</code> in <code>str</code>, searching from position <code>pos</code> on. </p>
<p>The returned index is relative to the beginning of the string. If <code>str2</code> is not found in <code>str</code>, -1 is returned.</p>
<p>If <code>pos</code> is negative, it designates the start position relative to the end of the string (the search will still proceed towards the end of the string).</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a09de518ee7570ad7b1eb69f575ca3abf">strstr</a>(string str, string str2)</div>
<div class="line">int <a class="code" href="classefun.html#a09de518ee7570ad7b1eb69f575ca3abf">strstr</a>(string str, string str2, int pos)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#abd0c94bd4ea45cc6849449ef057d75cf" title="Returns the index of the first occurence of str2 in str searching from position pos (default: -1 == s...">efun::strrstr()</a>, <a class="el" href="classefun.html#a61d5a7558155b9c73a1fbecae6d8b36c" title="Returns the length of the string str. ">efun::strlen()</a>, <a class="el" href="classefun.html#a45e3a155fb859f16c2600eac07df15f5" title="Parse a string str using the format fmt. ">efun::sscanf()</a>, <a class="el" href="classefun.html#afda00b52a57aac8ce24bc5f5a5dc9cc8" title="Most of the characters in the format string fmt get passed straight through to the output (i...">efun::sprintf()</a>, <a class="el" href="classefun.html#a5b90a42c555bc61599b700a31b530082" title="Return an array of strings, created when the string str is split into substrings as divided by del...">efun::explode()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a8280ed5a59ba55516e4b7bd063283287"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed* struct_info </td>
          <td>(</td>
          <td class="paramtype">struct st&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int what&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return an array of information about the structure of struct <code>st</code>. </p>
<p>If <code>st</code> has a base struct, <code>what</code> determines how the information is returned:</p>
<p><code>what</code> == <code>SINFO_FLAT</code>: All members of <code>st</code>, including those inherited from the base struct, are returned on the top level of the result. The base struct is signified by just its name.</p>
<p><code>what</code> == <code>SINFO_NESTED</code>: Only the members defined in <code>st</code> itself are returned on the top level of the result. The information for the base struct is an array by itself, as it would be returned by a call to <a class="el" href="classefun.html#a8280ed5a59ba55516e4b7bd063283287" title="Return an array of information about the structure of struct st. ">efun::struct_info()</a> for a base struct instance.</p>
<p>The elements in the resulting array are:</p>
<p>string [<code>SI_NAME</code>]: the name of the struct string [<code>SI_PROG_NAME</code>]: the name of program defining the struct string [<code>SI_PROG_ID</code>]: the id of the program defining the struct mixed [<code>SI_BASE</code>]: 0, or the base struct information mixed &gt;&gt;*&lt;&lt;[:macro:&gt;&gt;<code>&lt;&lt;SI_MEMBER</code>+0]: the first member information mixed &gt;&gt;*&lt;&lt;[:macro:&gt;&gt;<code>&lt;&lt;SI_MEMBER</code>+n]: the last member information</p>
<p>The member information entries are arrays themselves with these elements:</p>
<p>string [<code>SIM_NAME</code>]: name of the member int [<code>SIM_TYPE</code>]: the type of the member (compile-time value) string [<code>SIM_EXTRA</code>]: 0, or if the member is a struct, the struct name</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed * <a class="code" href="classefun.html#a8280ed5a59ba55516e4b7bd063283287">struct_info</a>(struct st, int what)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.344)</div>
<div class="line">changed (3.3.417) -- introduced SI_PROG_NAME and SI_PROG_ID in exchange for SI_UNIQUE_NAME.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="driver_syntax_structs.html">struct</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1f75bb586fd744aa865714d4bab27b34"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int structp </td>
          <td>(</td>
          <td class="paramtype">mixed arg&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return 1 if <code>arg</code> is a struct. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a1f75bb586fd744aa865714d4bab27b34">structp</a>(mixed arg)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.273)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a2b1d6366b19ef84232863b29facb9a42" title="Test if the type of struct b is a base of struct s (the values of b and s are irrelevant). ">efun::baseof()</a>, <a class="el" href="classefun.html#af96696b3733777271624be5575c72726" title="Returns 1 if the argument is a closure. ">efun::closurep()</a>, <a class="el" href="classefun.html#a1493e7a68d0e7eb19f5f60d3c5761e9c" title="Returns 1 if the arg is a floating point number, 0 else. ">efun::floatp()</a>, <a class="el" href="classefun.html#a588bcd8d5f59e8c2c08c0d989c530863" title="Returns 1 if the argument is a mapping, or 0 if it is not. ">efun::mappingp()</a>, <a class="el" href="classefun.html#acc5e526acbd3a54f8f9625cc1fdc7f75" title="Return 1 if arg is an object. ">efun::objectp()</a>, <a class="el" href="classefun.html#aae25e47ee6526e8297fa3d9c822a22be" title="Return 1 if arg is an integer number. ">efun::intp()</a>, <a class="el" href="classefun.html#af28bd368a436849fb5195eb34ca53af3" title="returns true if arg was passed by reference to the current function, instead of the usual call-by-val...">efun::referencep()</a>, <a class="el" href="classefun.html#a3c94a0dd0f29e1f90f48d17e53fec879" title="Return 1 if arg is a pointer, i.e. ">efun::pointerp()</a>, <a class="el" href="classefun.html#ad45cc3605ecbe92c52b8c1c8408da017" title="Return 1 if arg is a string. ">efun::stringp()</a>, <a class="el" href="classefun.html#aa0bbde61230276ac5155fa61b54c63f2" title="Returns 1 if value is a symbol. ">efun::symbolp()</a>, <a class="el" href="classefun.html#a62a23bfd4fb3823c9d808b3bff345980" title="The efun returns 1 if obj is a clone, and 0 if it is not. ">efun::clonep()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a0e75e21c1d36f34d61a3061795c11c09"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void swap </td>
          <td>(</td>
          <td class="paramtype">object obj&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Swap out an object. </p>
<p>This efun is only used for system internal debugging and can cause a crash.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a0e75e21c1d36f34d61a3061795c11c09">swap</a>(object obj)</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="a6f70cb143146d31cee7c413d2f0a0b9a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">closure symbol_function </td>
          <td>(</td>
          <td class="paramtype">string arg&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object|&#160;</td>
          <td class="paramname"><em>string ob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a lfun closure, efun closure, or operator closure from the first arg (string or symbol). </p>
<p>For lfuns, the second arg is the object that the lfun belongs to, specified by the object itself or by its name (the object will be loaded in the second case).</p>
<p>If the closure is created for an lfun in an object other than the current object, the result is an 'alien lfun closure'. Such closures are bound to the object executing <a class="el" href="classefun.html#a6f70cb143146d31cee7c413d2f0a0b9a" title="Constructs a lfun closure, efun closure, or operator closure from the first arg (string or symbol)...">efun::symbol_function()</a> (this is what efun::to_object() will return), even though the actual code is in that other object (which <a class="el" href="classefun.html#ac251ce3e185e6ef6e265806ba711e871" title="Returns info about the type of value, as controlled by the flag. ">efun::get_type_info()</a> will return).</p>
<p>Private lfuns can never be accessed this way, static and protected lfuns only if <code>ob</code> is the current object.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">closure <a class="code" href="classefun.html#a6f70cb143146d31cee7c413d2f0a0b9a">symbol_function</a>(symbol arg)</div>
<div class="line">closure <a class="code" href="classefun.html#a6f70cb143146d31cee7c413d2f0a0b9a">symbol_function</a>(string arg)</div>
<div class="line">closure <a class="code" href="classefun.html#a6f70cb143146d31cee7c413d2f0a0b9a">symbol_function</a>(string arg, <span class="keywordtype">object</span>|string ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><a class="code" href="classefun.html#a6f70cb143146d31cee7c413d2f0a0b9a">symbol_function</a>(<span class="stringliteral">&quot;efun::users&quot;</span>)          <span class="comment">// #&#39;users</span></div>
<div class="line"><a class="code" href="classefun.html#a6f70cb143146d31cee7c413d2f0a0b9a">symbol_function</a>(&quot;QueryProp&quot;, other_obj) <span class="comment">// other_obj-&gt;QueryProp()</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2@70)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a4ef2926c525dcf7e7d339d3f424b18a9" title="Constructs a lambda closure, like lambda function in LISP. ">efun::lambda()</a>, <a class="el" href="classefun.html#a78e86c560d9bfc454fc228b3988db651" title="Converts arrays to quoted arrays and strings to symbols. ">efun::quote()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ac7fc587fe8fda9d328a501c95f70bc92"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">closure symbol_variable </td>
          <td>(</td>
          <td class="paramtype">int arg&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs an identifier (lfun) closure from the global variable <code>arg</code> of the current program. </p>
<p>The variable may be given as a symbol, by name, or by its ordinal number in the object's variable table.</p>
<p>If there is no such variable, or if it is not visible outside the object, 0 is returned.</p>
<p>If the argument is an integer, and the variable is both inherited and private in the inherited object (i.e. hidden), then a privilege violation will occur.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">closure <a class="code" href="classefun.html#ac7fc587fe8fda9d328a501c95f70bc92">symbol_variable</a>(string arg)</div>
<div class="line">closure <a class="code" href="classefun.html#ac7fc587fe8fda9d328a501c95f70bc92">symbol_variable</a>(symbol arg)</div>
<div class="line">closure <a class="code" href="classefun.html#ac7fc587fe8fda9d328a501c95f70bc92">symbol_variable</a>(int arg)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> base;</div>
<div class="line"><span class="keywordtype">int</span> var;</div>
<div class="line"><a class="code" href="classefun.html#ac7fc587fe8fda9d328a501c95f70bc92">symbol_variable</a>(<span class="stringliteral">&quot;var&quot;</span>) <span class="comment">// #&#39;&lt;this_object&gt;-&gt;var</span></div>
<div class="line"><a class="code" href="classefun.html#ac7fc587fe8fda9d328a501c95f70bc92">symbol_variable</a>(0)     <span class="comment">// #&#39;&lt;this_object&gt;-&gt;base</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.1@8)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a4ef2926c525dcf7e7d339d3f424b18a9" title="Constructs a lambda closure, like lambda function in LISP. ">efun::lambda()</a>, <a class="el" href="classefun.html#a78e86c560d9bfc454fc228b3988db651" title="Converts arrays to quoted arrays and strings to symbols. ">efun::quote()</a>, <a class="el" href="classefun.html#a6f70cb143146d31cee7c413d2f0a0b9a" title="Constructs a lfun closure, efun closure, or operator closure from the first arg (string or symbol)...">efun::symbol_function()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aa0bbde61230276ac5155fa61b54c63f2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int symbolp </td>
          <td>(</td>
          <td class="paramtype">mixed value&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns 1 if <code>value</code> is a symbol. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#aa0bbde61230276ac5155fa61b54c63f2">symbolp</a>(mixed value)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd"><code>symbolp('foo) // returns 1.</code></p>
<p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2@70)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a78e86c560d9bfc454fc228b3988db651" title="Converts arrays to quoted arrays and strings to symbols. ">efun::quote()</a>, <a class="el" href="classefun.html#a62a23bfd4fb3823c9d808b3bff345980" title="The efun returns 1 if obj is a clone, and 0 if it is not. ">efun::clonep()</a>, <a class="el" href="classefun.html#af96696b3733777271624be5575c72726" title="Returns 1 if the argument is a closure. ">efun::closurep()</a>, <a class="el" href="classefun.html#a1493e7a68d0e7eb19f5f60d3c5761e9c" title="Returns 1 if the arg is a floating point number, 0 else. ">efun::floatp()</a>, <a class="el" href="classefun.html#a588bcd8d5f59e8c2c08c0d989c530863" title="Returns 1 if the argument is a mapping, or 0 if it is not. ">efun::mappingp()</a>, <a class="el" href="classefun.html#acc5e526acbd3a54f8f9625cc1fdc7f75" title="Return 1 if arg is an object. ">efun::objectp()</a>, <a class="el" href="classefun.html#aae25e47ee6526e8297fa3d9c822a22be" title="Return 1 if arg is an integer number. ">efun::intp()</a>, <a class="el" href="classefun.html#af28bd368a436849fb5195eb34ca53af3" title="returns true if arg was passed by reference to the current function, instead of the usual call-by-val...">efun::referencep()</a>, <a class="el" href="classefun.html#a3c94a0dd0f29e1f90f48d17e53fec879" title="Return 1 if arg is a pointer, i.e. ">efun::pointerp()</a>, <a class="el" href="classefun.html#ad45cc3605ecbe92c52b8c1c8408da017" title="Return 1 if arg is a string. ">efun::stringp()</a>, <a class="el" href="classefun.html#a1f75bb586fd744aa865714d4bab27b34" title="Return 1 if arg is a struct. ">efun::structp()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae0d1c93eb42a5e19a95fcf72d189ab2f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float tan </td>
          <td>(</td>
          <td class="paramtype">int|&#160;</td>
          <td class="paramname"><em>float</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the tangent of the argument. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">float</span> <a class="code" href="classefun.html#ae0d1c93eb42a5e19a95fcf72d189ab2f">tan</a>(<span class="keywordtype">int</span>|<span class="keywordtype">float</span>)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.9) -- added integers as arguments.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a933a36f652c733f5117565524dcaedf3" title="Returns the sine of the argument. ">efun::sin()</a>, <a class="el" href="classefun.html#a78b9d0583bd0699e2eac30d2a136817a" title="Returns the arcus sine of its argument. ">efun::asin()</a>, <a class="el" href="classefun.html#af6e6d9edd947ede82b886aa6fb924761" title="Returns the cosinus of the argument. ">efun::cos()</a>, <a class="el" href="classefun.html#a07648648c7f857cfd1479821d4389751" title="Returns the arcus cosine of the argument. ">efun::acos()</a>, <a class="el" href="classefun.html#a0b28d79466130f759e16240979e44f0d" title="Returns the argument&#39;s arcus tangent. ">efun::atan()</a>, <a class="el" href="classefun.html#a11e580e05e7a7739cc880834099778b1" title="Returns the angle part of the polar coordinates of the point (x, y) in the range (-pi, pi). ">efun::atan2()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ac82979d3c13cf20f0fd4b2269248a9ab"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tell_object </td>
          <td>(</td>
          <td class="paramtype">object|&#160;</td>
          <td class="paramname"><em>string ob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed *|mapping|struct|&#160;</td>
          <td class="paramname"><em>object msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send a message <code>str</code> to object <code>ob</code> (which is looked up and loaded by given name if necessary). </p>
<p>If the second argument is a string, the message will be printed to <code>ob</code> if it is an interactive user, otherwise it will be passed to the lfun <a class="el" href="classapplied.html#a7694f52f199ec3698af091accf6e6f22" title="When a message is sent to an non-interactive object, via efun::say(), efun::tell_object(), efun::tell_room() or efun::write(), it will get to the function applied::catch_tell(string)(). ">applied::catch_tell()</a> on the target living object.</p>
<p>If the second argument is an array/mapping/struct/object, it will be passed to the lfun <a class="el" href="classapplied.html#a2986863e0a744404e160c79ac4dafd32" title="When efun::say(), efun::tell_room() or efun::tell_object() are used with a non-string as message...">applied::catch_msg()</a> on the target.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#ac82979d3c13cf20f0fd4b2269248a9ab">tell_object</a>(<span class="keywordtype">object</span>|string ob, string str)</div>
<div class="line">void <a class="code" href="classefun.html#ac82979d3c13cf20f0fd4b2269248a9ab">tell_object</a>(<span class="keywordtype">object</span>|string ob, mixed *|mapping|struct|object msg)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">Just tell Wessex a simple "Hi!":</p>
<div class="fragment"><div class="line"><span class="keywordtype">object</span> who;</div>
<div class="line">who = find_player(<span class="stringliteral">&quot;wessex&quot;</span>);</div>
<div class="line"><a class="code" href="classefun.html#ac82979d3c13cf20f0fd4b2269248a9ab">tell_object</a>(who, <span class="stringliteral">&quot;Hi!\n&quot;</span>);</div>
</div><!-- fragment --><p> This examples shows how <a class="el" href="classefun.html#ad6b55cee01890c09a421e1c8031bf098" title="Send a message str to all living objects in the room ob. ">efun::tell_room()</a> works with <a class="el" href="classapplied.html#a7694f52f199ec3698af091accf6e6f22" title="When a message is sent to an non-interactive object, via efun::say(), efun::tell_object(), efun::tell_room() or efun::write(), it will get to the function applied::catch_tell(string)(). ">applied::catch_tell()</a>:</p>
<p>Object 1 (living with the name "dummymonster"):</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> catch_tell(<span class="keywordtype">string</span> str) {</div>
<div class="line">  <a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<span class="stringliteral">&quot;Received: &quot;</span>+str+<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><p> Object 2:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> func() {</div>
<div class="line">  <span class="keywordtype">object</span> who;</div>
<div class="line">  who=find_living(<span class="stringliteral">&quot;dummymonster&quot;</span>);</div>
<div class="line">  <a class="code" href="classefun.html#ac82979d3c13cf20f0fd4b2269248a9ab">tell_object</a>(who, <span class="stringliteral">&quot;Follow me, mortal one!\n&quot;</span>);</div>
<div class="line">  ...</div>
<div class="line">}</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.11) -- added the <span class="stringliteral">&#39;mixed *&#39;</span> form <span class="keywordflow">for</span> symmetry reasons.</div>
<div class="line">changed (3.3.686) -- added the use of a mapping/<span class="keyword">struct</span>/<span class="keywordtype">object</span> as second argument.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662" title="Write out something to the current user. ">efun::write()</a>, <a class="el" href="classefun.html#a9047308a38d0fbf3c038db31e501851d" title="There are two major modes of calling: ">efun::say()</a>, <a class="el" href="classapplied.html#a7694f52f199ec3698af091accf6e6f22" title="When a message is sent to an non-interactive object, via efun::say(), efun::tell_object(), efun::tell_room() or efun::write(), it will get to the function applied::catch_tell(string)(). ">applied::catch_tell()</a>, <a class="el" href="classapplied.html#a2986863e0a744404e160c79ac4dafd32" title="When efun::say(), efun::tell_room() or efun::tell_object() are used with a non-string as message...">applied::catch_msg()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ad6b55cee01890c09a421e1c8031bf098"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tell_room </td>
          <td>(</td>
          <td class="paramtype">string|&#160;</td>
          <td class="paramname"><em>object ob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed *|mapping|struct|&#160;</td>
          <td class="paramname"><em>object msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object  *&#160;</td>
          <td class="paramname"><em>exclude</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send a message <code>str</code> to all living objects in the room <code>ob</code>. </p>
<p><code>ob</code> can also be the name of the room given as a string. If a receiving object is not an interactive user, the lfun <a class="el" href="classapplied.html#a7694f52f199ec3698af091accf6e6f22" title="When a message is sent to an non-interactive object, via efun::say(), efun::tell_object(), efun::tell_room() or efun::write(), it will get to the function applied::catch_tell(string)(). ">applied::catch_tell()</a> of the object will be invoked with the message as argument. If living objects define <a class="el" href="classapplied.html#a7694f52f199ec3698af091accf6e6f22" title="When a message is sent to an non-interactive object, via efun::say(), efun::tell_object(), efun::tell_room() or efun::write(), it will get to the function applied::catch_tell(string)(). ">applied::catch_tell()</a>, the string will also be sent to that instead of being written to the user. If <code>ob</code> is given by filename, the driver looks up the object under that name, loading it if necessary. If array &gt;&gt;*&lt;&lt;<code>exclude</code> is given, all objects contained in &gt;&gt;*&lt;&lt;<code>exclude</code> are excluded from the message str.</p>
<p>If the second arg is an array/mapping/struct/object, <a class="el" href="classapplied.html#a2986863e0a744404e160c79ac4dafd32" title="When efun::say(), efun::tell_room() or efun::tell_object() are used with a non-string as message...">applied::catch_msg()</a> will be called in all listening living objects.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#ad6b55cee01890c09a421e1c8031bf098">tell_room</a>(<span class="keywordtype">string</span>|object ob, string str)</div>
<div class="line">void <a class="code" href="classefun.html#ad6b55cee01890c09a421e1c8031bf098">tell_room</a>(<span class="keywordtype">string</span>|object ob, string str, object *exclude)</div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#ad6b55cee01890c09a421e1c8031bf098">tell_room</a>(<span class="keywordtype">string</span>|object ob, mixed *|mapping|struct|object msg)</div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#ad6b55cee01890c09a421e1c8031bf098">tell_room</a>(<span class="keywordtype">string</span>|object ob, mixed *|mapping|struct|object msg, object *exclude)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">Just send a simple "Hi!" to all livings in the current:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#ac82979d3c13cf20f0fd4b2269248a9ab">tell_object</a>(<a class="code" href="classefun.html#a657cd0dbc848f16af8079c5d43386952">environment</a>(<a class="code" href="classefun.html#a23dc6aa65a7477371df722a647b661af">this_player</a>()), <span class="stringliteral">&quot;Hi!\n&quot;</span>);</div>
</div><!-- fragment --><p> This example shows how <a class="el" href="classefun.html#ad6b55cee01890c09a421e1c8031bf098" title="Send a message str to all living objects in the room ob. ">efun::tell_room()</a> works with <a class="el" href="classapplied.html#a7694f52f199ec3698af091accf6e6f22" title="When a message is sent to an non-interactive object, via efun::say(), efun::tell_object(), efun::tell_room() or efun::write(), it will get to the function applied::catch_tell(string)(). ">applied::catch_tell()</a>:</p>
<p>Object 1 (living):</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> catch_tell(<span class="keywordtype">string</span> str) {</div>
<div class="line">  <a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<span class="stringliteral">&quot;Received: &quot;</span>+str+<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><p> Object 2:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> func() {</div>
<div class="line">  ...</div>
<div class="line">  tell_room(<a class="code" href="classefun.html#a657cd0dbc848f16af8079c5d43386952">environment</a>(<a class="code" href="classefun.html#a23dc6aa65a7477371df722a647b661af">this_player</a>()), <span class="stringliteral">&quot;HiHo!\n&quot;</span>);</div>
<div class="line">  ...</div>
<div class="line">}</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.3.686) -- added the use of a mapping/<span class="keyword">struct</span>/<span class="keywordtype">object</span> as second argument.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662" title="Write out something to the current user. ">efun::write()</a>, <a class="el" href="classefun.html#a9047308a38d0fbf3c038db31e501851d" title="There are two major modes of calling: ">efun::say()</a>, <a class="el" href="classefun.html#ac82979d3c13cf20f0fd4b2269248a9ab" title="Send a message str to object ob (which is looked up and loaded by given name if necessary). ">efun::tell_object()</a>, <a class="el" href="classapplied.html#a7694f52f199ec3698af091accf6e6f22" title="When a message is sent to an non-interactive object, via efun::say(), efun::tell_object(), efun::tell_room() or efun::write(), it will get to the function applied::catch_tell(string)(). ">applied::catch_tell()</a>, <a class="el" href="classapplied.html#a2986863e0a744404e160c79ac4dafd32" title="When efun::say(), efun::tell_room() or efun::tell_object() are used with a non-string as message...">applied::catch_msg()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a5174fcc80f51ca366f5cfb84e3dd4f15"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">varargs string terminal_colour </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">null|mapping|&#160;</td>
          <td class="paramname"><em>closure map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int wrap&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int indent&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If <code>map</code> is given as a non-0 value, this efun expands all colour-defines of the form "%^KEY%^" (see below for details) from the input-string and replaces them by the apropriate values found for the color-key specified by <code>map</code>. </p>
<p>If <code>map</code> is a mapping, the entries queries have the format "KEY" : "value", non-string contents are ignored with one exception: if the mapping contains an entry 0:value, it is used as a default for all otherwise unrecognized keys. The value in this case can be a string, or a closure. If it is a closure, it takes the key as argument and has to return the replacement string.</p>
<p>If <code>map</code> is given as a closure, it is called with the KEYs to replace, and has to return the replacement string.</p>
<p>The special keys <code>%^%^</code> and <code>%%^^</code> are always replaced with the literal <code>%^</code>.</p>
<p>The parameters <code>wrap</code> and <code>indent</code> are both optional. If only <code>wrap</code> is given, <code>str</code> will be linewrapped at <code>wrap</code> columns (<code>"this is the first line\\nand this is the second line"</code>). If <code>indent</code> is also given, all wrapped lines will also be indented by <code>indent</code> blanks (<code>"this is the first line\\n   and this is the indented second one"</code>.</p>
<p>The wrapper itself ignores the length of the color macros and that what they contain, it wraps the string based on the length of the other chars inside. Therefore it is color-aware.</p>
<p>If <code>map</code> is given as 0, the efun does no colour-define detection and replacement at all, but still does linewrapping and indentation if requested. This way <a class="el" href="classefun.html#a5174fcc80f51ca366f5cfb84e3dd4f15" title="If map is given as a non-0 value, this efun expands all colour-defines of the form &quot;%^KEY%^&quot; (see bel...">efun::terminal_colour()</a> doubles as a simple line wrapping function, duplicating the functionality also provided by <code>sprintf("%-=s", ...)</code>.</p>
<h2>Key Recognition Strategy</h2>
<p>As mentioned above, the special keys <code>%^%^</code> and <code>%%^^</code> are always replaced with the literal <code>%^</code> and play no role in the following considerations.</p>
<p>The input string is supposed to follow this syntax:</p>
<div class="fragment"><div class="line">text { <span class="stringliteral">&#39;%^&#39;</span> colorkey <span class="stringliteral">&#39;%^&#39;</span> text } [ <span class="stringliteral">&#39;%^&#39;</span> colorkey ]</div>
</div><!-- fragment --><p> or in words: the efun splits up the string at every <code>%^</code> it finds and then treats every second substring as color key.</p>
<dl class="section user"><dt>note: This is different from the way MudOS treats the input string. MudOS uses this syntax:~~~{.c}</dt><dd>key_or_text { '%^' key_or_text }</dd></dl>
<div class="fragment"><div class="line"><span class="keywordtype">string</span> mudos_terminal_colour(<span class="keywordtype">string</span> str, mapping ext, <span class="keywordtype">int</span> w, <span class="keywordtype">int</span> i) {</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="classefun.html#a5174fcc80f51ca366f5cfb84e3dd4f15">terminal_colour</a>(<span class="stringliteral">&quot;%^&quot;</span>+<a class="code" href="classefun.html#a7ba15ab03672927eae914004b91b2509">implode</a>(<a class="code" href="classefun.html#a5b90a42c555bc61599b700a31b530082">explode</a>(str, <span class="stringliteral">&quot;%^&quot;</span>)-({<span class="stringliteral">&quot;&quot;</span>})</div>
<div class="line">                                     ,<span class="stringliteral">&quot;%^%^&quot;</span>)</div>
<div class="line">                        , ext, w, i);</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">varargs <span class="keywordtype">string</span> <a class="code" href="classefun.html#a5174fcc80f51ca366f5cfb84e3dd4f15">terminal_colour</a>(string str, null|mapping|closure map, int wrap, int indent)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">The below will result in str == <code>"ansi-green and  and BLUE"</code>:</p>
<div class="fragment"><div class="line">mapping trans;</div>
<div class="line"><span class="keywordtype">string</span> str;</div>
<div class="line"></div>
<div class="line">trans = ([ <span class="stringliteral">&quot;GREEN&quot;</span> : <span class="stringliteral">&quot;ansi-green&quot;</span>, <span class="stringliteral">&quot;RED&quot;</span> : <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;BLUE&quot;</span> : 1 ]);</div>
<div class="line"></div>
<div class="line">str = <a class="code" href="classefun.html#a5174fcc80f51ca366f5cfb84e3dd4f15">terminal_colour</a>( <span class="stringliteral">&quot;%^GREEN%^ and %^RED%^ and %^BLUE%^&quot;</span>, trans );</div>
</div><!-- fragment --><ul>
<li><code>%^GREEN%^</code> is expanded to <code>ansi-green</code>,</li>
<li><code>%^RED%^</code> is stripped (more accurately, it's replaced with <code>""</code>)</li>
<li><code>%^BLUE%^</code> only has each <code>%^</code> removed because the contents of trans are not valid (i.e. not a string). The same would happen to <code>%^DEFINES%^</code> (because the key is not found inside the trans mapping).</li>
</ul>
<p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>tip: If you have adjacent keys, be careful not to omit part of the key indicator. For example, terminal_colour( "%^GREEN%^RED%^", trans ) will return the logical but sometimes unexpected "ansi-greenRED". To get "ansi-green", you'd use: terminal_colour( "%^GREEN%^%^RED%^", trans ).</dt><dd></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.4) -- Efun idea and initial implementation taken from MudOS;</div>
<div class="line">changed (3.2.8) -- sorted out the key recognition strategy (including pure wrapping mode)</div>
<div class="line">changed (3.2.9/3.3.58) -- added the use of closures to specify the colour mappings.</div>
<div class="line">changed (3.2.9/3.3.102) -- officialized the <span class="stringliteral">&quot;%%^^&quot;</span> replacement pattern <span class="keywordflow">for</span> better MudOS compatibility.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#afda00b52a57aac8ce24bc5f5a5dc9cc8" title="Most of the characters in the format string fmt get passed straight through to the output (i...">efun::sprintf()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1f992595c33434f4657015ffe765d2bc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int test_bit </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int n&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return 0 or 1 if bit <code>n</code> was set in string <code>str</code>. </p>
<p>Each character contains 6 bits. So you can store a value between 0 and 63 in one character (2^6=64). Starting character is the blank char:(U+00020 SPACE) which has the value 0. The first character in the string is the one with the lowest bits (0-5).</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a1f992595c33434f4657015ffe765d2bc">test_bit</a>(string str, int n)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">The below returns 1 because "_" stands for the number 63 and therefore the 6th bit is set:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a1f992595c33434f4657015ffe765d2bc">test_bit</a>(<span class="stringliteral">&quot;_&quot;</span>,5);</div>
</div><!-- fragment --><p> The next example returns 0 because char:(U+00020 SPACE) stands for 0 and no bit is set:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a1f992595c33434f4657015ffe765d2bc">test_bit</a>(<span class="stringliteral">&quot; &quot;</span>,3);</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#aae4303bfb007375b5f182294e1fb274e" title="Return the new string where bit n is set in string str. ">efun::set_bit()</a>, <a class="el" href="classefun.html#a9820c9a0cc652f0f9054e8dd9d7e56b0" title="Return the new string where bit n is cleared in string str. ">efun::clear_bit()</a>, <a class="el" href="classefun.html#add033af196d131772d3a99373bd14cd9" title="Return the number of the last set bit in bitstring str. ">efun::last_bit()</a>, <a class="el" href="classefun.html#ae9a22225f7ecf80a5bcd52261d1b27c0" title="Return the number of the next bit in bitstring str after position start. ">efun::next_bit()</a>, <a class="el" href="classefun.html#a4219dca74e569f12726df9bd9e11669d" title="Count the number of set bits in bitstring str and return the number as result. ">efun::count_bits()</a>, <a class="el" href="classefun.html#a481a071b1544dd0eb27556efb3768cb6" title="str1 and str2 are both bitstrings. ">efun::and_bits()</a>, <a class="el" href="classefun.html#af939d33eba6b16a15e87e0737206b0e2" title="str1 and str2 are both bitstrings. ">efun::or_bits()</a>, <a class="el" href="classefun.html#aeda3e1403911d376dd0db4b9b501dc62" title="str1 and str2 are both bitstrings. ">efun::xor_bits()</a>, <a class="el" href="classefun.html#ad37a5b85653678afc3bba3b0fb152a3f" title="Invert the status of all bits in bitstring str and return the new string. ">efun::invert_bits()</a>, <a class="el" href="classefun.html#afcb4b753b24046893741d3c3e0c33e62" title="Copy the bitrange [&lt;em&gt;srcstart&lt;/em&gt;..&lt;em&gt;srcstart&lt;/em&gt;+&lt;em&gt;copylen&lt;/em&gt;] from bitstring src and copy...">efun::copy_bits()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af4fe93bc840224313bc10d018ef288ad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object this_interactive </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the current interactive object, if any (i.e., the one who hit the <code>RETURN</code> key). </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#af4fe93bc840224313bc10d018ef288ad">this_interactive</a>(<span class="keywordtype">void</span>)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af" title="Return the current command giver. ">efun::this_player()</a>, <a class="el" href="classefun.html#a8d720f6391a992bf62bb528a3c48ba14" title="Returns an object pointer to the object that did a call (efun::call_other(), efun::funcall(), etc) to the current object, if any. ">efun::previous_object()</a>, <a class="el" href="classefun.html#abb6bdbce645e4924d4e99dbb9582c3e5" title="Return non-zero if ob is an interactive user. ">efun::interactive()</a>, <a class="el" href="classefun.html#a84dd5e31020dfbdb2f748f7837d6a7ee" title="Return true if ob is a living object (that is, efun::enable_commands() has been called from inside th...">efun::living()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a3beb87980adf6911709c4c431e244488"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object this_object </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the object pointer for this object. </p>
<p>This is not to be confused with the internal name of an object, which is used by the <a class="el" href="classapplied.html#a9c09256888ad9f9ce5cd49a5e45cbe8e" title="Let the object identify itself. ">applied::id()</a> function.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#a3beb87980adf6911709c4c431e244488">this_object</a>(<span class="keywordtype">void</span>)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a23dc6aa65a7477371df722a647b661af" title="Return the current command giver. ">efun::this_player()</a>, <a class="el" href="classefun.html#a8d720f6391a992bf62bb528a3c48ba14" title="Returns an object pointer to the object that did a call (efun::call_other(), efun::funcall(), etc) to the current object, if any. ">efun::previous_object()</a>, <a class="el" href="classefun.html#a4eae6e47ac233059b5613c83cf5855e0" title="Get the name of an object ob or, if no argument is given, of the current object. ">efun::object_name()</a>, <a class="el" href="classefun.html#a12339d2d254849a1342fd79bdb89f638" title="Find an object with the object_name str. ">efun::find_object()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a23dc6aa65a7477371df722a647b661af"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object this_player </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the current command giver. </p>
<p>This can be an interactive user or another living object (like an npc).</p>
<p>If called from inside the <a class="el" href="classapplied.html#ac6da9e44029c67ea80ffa494d9328384" title="This function will be called automatically every __HEART_BEAT_INTERVAL__ seconds. ...">applied::heart_beat()</a> of a non-living object, 0 will be returned.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> <a class="code" href="classefun.html#a23dc6aa65a7477371df722a647b661af">this_player</a>(<span class="keywordtype">void</span>)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><span class="keywordflow">if</span> (<a class="code" href="classefun.html#a23dc6aa65a7477371df722a647b661af">this_player</a>() != <a class="code" href="classefun.html#af4fe93bc840224313bc10d018ef288ad">this_interactive</a>())</div>
<div class="line">   <a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<span class="stringliteral">&quot;Hey, somebody must have forced us to do a</span></div>
<div class="line"><span class="stringliteral">   command!\n&quot;</span>);</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">efun::this_object()</a>, <a class="el" href="classefun.html#a8d720f6391a992bf62bb528a3c48ba14" title="Returns an object pointer to the object that did a call (efun::call_other(), efun::funcall(), etc) to the current object, if any. ">efun::previous_object()</a>, <a class="el" href="classefun.html#abb6bdbce645e4924d4e99dbb9582c3e5" title="Return non-zero if ob is an interactive user. ">efun::interactive()</a>, <a class="el" href="classefun.html#a84dd5e31020dfbdb2f748f7837d6a7ee" title="Return true if ob is a living object (that is, efun::enable_commands() has been called from inside th...">efun::living()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a4a206a58fea219e3186d92d4adf5c3ea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void throw </td>
          <td>(</td>
          <td class="paramtype">mixed message&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Abort execution. </p>
<p>If the current program execution was initiated by <a class="el" href="classefun.html#ae5c7019db4983c1c09bbf9ebe1b93869" title="Evaluate the expressions. ">efun::catch()</a>, that catch expression will return <code>message</code> as error code.</p>
<p>Calling <code><a class="el" href="classefun.html#a4a206a58fea219e3186d92d4adf5c3ea" title="Abort execution. ">throw()</a></code> without an enclosing <code><a class="el" href="classefun.html#ae5c7019db4983c1c09bbf9ebe1b93869" title="Evaluate the expressions. ">catch()</a></code> does not make sense and will result in a "Throw with no catch." error.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <span class="keywordflow">throw</span>(mixed message)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">This will just print the string "aborting execution":</p>
<div class="fragment"><div class="line"><span class="keywordflow">catch</span>(<span class="keywordflow">throw</span>(<span class="stringliteral">&quot;aborting execution&quot;</span>));</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ae5c7019db4983c1c09bbf9ebe1b93869" title="Evaluate the expressions. ">efun::catch()</a>, <a class="el" href="classefun.html#a1a2e9b7b0572256c53dcbc0241cce424" title="Abort execution. ">efun::raise_error()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aa560fa38ca94599aa767ccb916e9bce7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return number of seconds elapsed since `1. </p>
<p>Jan 1970, 0.0:0 GMT`.</p>
<p>The time is based on the time provided by the host system, but the driver does make sure the result of <a class="el" href="classefun.html#aa560fa38ca94599aa767ccb916e9bce7" title="Return number of seconds elapsed since `1. ">efun::time()</a> is monotonically increasing (ie. changes only to bigger numbers).</p>
<p>The result of <a class="el" href="classefun.html#aa560fa38ca94599aa767ccb916e9bce7" title="Return number of seconds elapsed since `1. ">efun::time()</a> does not change during the course of a command execution.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#aa560fa38ca94599aa767ccb916e9bce7">time</a>()</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">Print out the current date and time:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<a class="code" href="classefun.html#a0063aa195f706f56b790a045c06afcb1">ctime</a>(<a class="code" href="classefun.html#aa560fa38ca94599aa767ccb916e9bce7">time</a>())+<span class="stringliteral">&quot;\n&quot;</span>);</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a0063aa195f706f56b790a045c06afcb1" title="Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0.00 and convert it to a nice...">efun::ctime()</a>, <a class="el" href="classefun.html#af44be4217f00942db63875e6988a0f56" title="Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0:00, and return the time in ...">efun::gmtime()</a>, <a class="el" href="classefun.html#acd45e9336d29a4f03307ff89318e26ee" title="Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0:00, and return the time in ...">efun::localtime()</a>, <a class="el" href="classefun.html#a3b84da42b3b5f804d14762ddfcc3da91" title="Return the time since `1. ">efun::utime()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a673b9f37b9750af6efb10678180461ab"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int tls_available </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If the global TLS initialisation could not be set up, <code>tls_is_available()</code> returns 0, otherwise 1. </p>
<p>It is not very useful to call any other tls_* efun if this one returns 0, since there is no TLS-encryption available.</p>
<p>Most likely the global initialisation failed due to a missing or unreadable key resp. certificate-file.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a673b9f37b9750af6efb10678180461ab">tls_available</a>()</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.474)</div>
<div class="line">backported (3.2.11)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a8b5de31f232caee7f2bdfb50e9a626ec" title="Tries to start a TLS-secured connection to the interactive object ob (or this_object() if ob is not g...">efun::tls_init_connection()</a>, <a class="el" href="classefun.html#a640eca286d6cfbc9d0f9f40f7b31269d" title="Shuts down a TLS connection to the interactive object ob (or this_object() if ob is not given) but th...">efun::tls_deinit_connection()</a>, <a class="el" href="classefun.html#a1d9e28db0cff9d02318184eb56aafdba" title="Returns a positive number if ob connection is TLS secured, 0 if it&#39;s unsecured, and a negative number...">efun::tls_query_connection_state()</a>, <a class="el" href="classefun.html#a8fff6671c194e17e8d07f03256faf626" title="If ob does not have a TLS connection, if the connection is still being set-up, or if ob is not intera...">efun::tls_query_connection_info()</a>, <a class="el" href="classefun.html#a0c31ebf810d2ec2717c8b6f7245d241b" title="Checks the certificate of the secured connection bound to obj (default is the current object)...">efun::tls_check_certificate()</a>, <a class="el" href="classefun.html#a30bd281e29f7465ed9ff74217be3f760" title="Reload the certificates and certificate revocation information. ">efun::tls_refresh_certs()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a0c31ebf810d2ec2717c8b6f7245d241b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed* tls_check_certificate </td>
          <td>(</td>
          <td class="paramtype">object obj&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int extra&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks the certificate of the secured connection bound to <code>obj</code> (default is the current object). </p>
<p>An error is thrown if <code>obj</code> is not interactive or TLS is not available.</p>
<p>An error is also thrown if <code>obj</code> doesn't have a secure connection up and running.</p>
<p>Otherwise, the result is an array with these values:</p>
<dl class="section user"><dt>note: An X509 certificate can have more than one object with the same name.</dt><dd></dd></dl>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed * <a class="code" href="classefun.html#a0c31ebf810d2ec2717c8b6f7245d241b">tls_check_certificate</a>(object obj)</div>
<div class="line">mixed * <a class="code" href="classefun.html#a0c31ebf810d2ec2717c8b6f7245d241b">tls_check_certificate</a>(object obj, int extra)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.672/3.2.11)</div>
<div class="line">changed (3.3.711/3.2.12) -- modified the behaviour to return the low-level API result value, and to <a class="code" href="classefun.html#a4a206a58fea219e3186d92d4adf5c3ea">throw</a> an error if the connection is not secure.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a8b5de31f232caee7f2bdfb50e9a626ec" title="Tries to start a TLS-secured connection to the interactive object ob (or this_object() if ob is not g...">efun::tls_init_connection()</a>, <a class="el" href="classefun.html#a640eca286d6cfbc9d0f9f40f7b31269d" title="Shuts down a TLS connection to the interactive object ob (or this_object() if ob is not given) but th...">efun::tls_deinit_connection()</a>, <a class="el" href="classefun.html#ab298aabbd06837fdab935ae82260e51f" title="Returns a string describing the error behind the error number errorno. ">efun::tls_error()</a>, <a class="el" href="classefun.html#a1d9e28db0cff9d02318184eb56aafdba" title="Returns a positive number if ob connection is TLS secured, 0 if it&#39;s unsecured, and a negative number...">efun::tls_query_connection_state()</a>, <a class="el" href="classefun.html#a8fff6671c194e17e8d07f03256faf626" title="If ob does not have a TLS connection, if the connection is still being set-up, or if ob is not intera...">efun::tls_query_connection_info()</a>, <a class="el" href="classefun.html#a673b9f37b9750af6efb10678180461ab" title="If the global TLS initialisation could not be set up, tls_is_available() returns 0, otherwise 1. ">efun::tls_available()</a>, <a class="el" href="classefun.html#a30bd281e29f7465ed9ff74217be3f760" title="Reload the certificates and certificate revocation information. ">efun::tls_refresh_certs()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a640eca286d6cfbc9d0f9f40f7b31269d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tls_deinit_connection </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shuts down a TLS connection to the interactive object <code>ob</code> (or <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code> if <code>ob</code> is not given) but the connection is not closed. </p>
<p>Under normal circumstances there is no need to use this efun: most clients operate in either secure or unsecure mode, but don't allow switching connection security on the fly.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a640eca286d6cfbc9d0f9f40f7b31269d">tls_deinit_connection</a>(object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.474)</div>
<div class="line">backported (3.2.11)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a8b5de31f232caee7f2bdfb50e9a626ec" title="Tries to start a TLS-secured connection to the interactive object ob (or this_object() if ob is not g...">efun::tls_init_connection()</a>, <a class="el" href="classefun.html#ab298aabbd06837fdab935ae82260e51f" title="Returns a string describing the error behind the error number errorno. ">efun::tls_error()</a>, <a class="el" href="classefun.html#a1d9e28db0cff9d02318184eb56aafdba" title="Returns a positive number if ob connection is TLS secured, 0 if it&#39;s unsecured, and a negative number...">efun::tls_query_connection_state()</a>, <a class="el" href="classefun.html#a8fff6671c194e17e8d07f03256faf626" title="If ob does not have a TLS connection, if the connection is still being set-up, or if ob is not intera...">efun::tls_query_connection_info()</a>, <a class="el" href="classefun.html#a673b9f37b9750af6efb10678180461ab" title="If the global TLS initialisation could not be set up, tls_is_available() returns 0, otherwise 1. ">efun::tls_available()</a>, <a class="el" href="classefun.html#a0c31ebf810d2ec2717c8b6f7245d241b" title="Checks the certificate of the secured connection bound to obj (default is the current object)...">efun::tls_check_certificate()</a>, <a class="el" href="classefun.html#a30bd281e29f7465ed9ff74217be3f760" title="Reload the certificates and certificate revocation information. ">efun::tls_refresh_certs()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ab298aabbd06837fdab935ae82260e51f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string tls_error </td>
          <td>(</td>
          <td class="paramtype">int errorno&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a string describing the error behind the error number <code>errorno</code>. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#ab298aabbd06837fdab935ae82260e51f">tls_error</a>(int errorno)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.474)</div>
<div class="line">backported (3.2.11)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a8b5de31f232caee7f2bdfb50e9a626ec" title="Tries to start a TLS-secured connection to the interactive object ob (or this_object() if ob is not g...">efun::tls_init_connection()</a>, <a class="el" href="classefun.html#a640eca286d6cfbc9d0f9f40f7b31269d" title="Shuts down a TLS connection to the interactive object ob (or this_object() if ob is not given) but th...">efun::tls_deinit_connection()</a>, <a class="el" href="classefun.html#a1d9e28db0cff9d02318184eb56aafdba" title="Returns a positive number if ob connection is TLS secured, 0 if it&#39;s unsecured, and a negative number...">efun::tls_query_connection_state()</a>, <a class="el" href="classefun.html#a8fff6671c194e17e8d07f03256faf626" title="If ob does not have a TLS connection, if the connection is still being set-up, or if ob is not intera...">efun::tls_query_connection_info()</a>, <a class="el" href="classefun.html#a673b9f37b9750af6efb10678180461ab" title="If the global TLS initialisation could not be set up, tls_is_available() returns 0, otherwise 1. ">efun::tls_available()</a>, <a class="el" href="classefun.html#a0c31ebf810d2ec2717c8b6f7245d241b" title="Checks the certificate of the secured connection bound to obj (default is the current object)...">efun::tls_check_certificate()</a>, <a class="el" href="classefun.html#a30bd281e29f7465ed9ff74217be3f760" title="Reload the certificates and certificate revocation information. ">efun::tls_refresh_certs()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a8b5de31f232caee7f2bdfb50e9a626ec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int tls_init_connection </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">closure fun&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed extra...&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tries to start a TLS-secured connection to the interactive object <code>ob</code> (or <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code> if <code>ob</code> is not given). </p>
<p>Result: errorcode &lt; 0: unsuccessful, use <a class="el" href="classefun.html#ab298aabbd06837fdab935ae82260e51f" title="Returns a string describing the error behind the error number errorno. ">tls_error()</a> to get a useful description of the error number &gt; 0 : the secure connection is still being set up in the background number == 0 : the secure connection is active.</p>
<p>OpenSSL only:</p>
<p>If the callback &lt;fun&gt;/&lt;fun&gt;:&lt;fob&gt; is specified, it will be called once the fate of the secure connection has been determined. The first argument will be the return code from the handshake (errorcode &lt; 0 on failure, or 0 on success), followed by the interactive object <code>ob</code> and any <code>extra</code> arguments.</p>
<p>If the TLS setup fails, it is not necessary to call <a class="el" href="classefun.html#a640eca286d6cfbc9d0f9f40f7b31269d" title="Shuts down a TLS connection to the interactive object ob (or this_object() if ob is not given) but th...">efun::tls_deinit_connection()</a>.</p>
<dl class="section user"><dt>warning: During the TLS handshake nothing else must be sent to the client! For the most cases (TLS-capable clients logging in) this means that the TLS handshake is the first and only thing the client gets to see while the handshake is in progress.</dt><dd></dd></dl>
<p>The driver automatically suppresses the printing of the prompt while the TLS handshake is in progress.</p>
<p>If <a class="el" href="classefun.html#a8b5de31f232caee7f2bdfb50e9a626ec" title="Tries to start a TLS-secured connection to the interactive object ob (or this_object() if ob is not g...">efun::tls_init_connection()</a> is called in the <a class="el" href="classmaster.html#a5ba74ee9cd2ce5203374a79f48f908d7" title="Return a login object that the requested connection should be bound to. ">master::connect()</a> function, the driver will either call the set callback in place of <a class="el" href="classapplied.html#a6b064bd51c85a6644ac5d38ae5276815" title="When the driver created a new connection (either by accepting it or by creating it with efun::net_con...">applied::logon()</a>, or if no callback has been set, delay the call of <a class="el" href="classapplied.html#a6b064bd51c85a6644ac5d38ae5276815" title="When the driver created a new connection (either by accepting it or by creating it with efun::net_con...">applied::logon()</a> until the state of the connection is clear.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a8b5de31f232caee7f2bdfb50e9a626ec">tls_init_connection</a>(object ob)</div>
<div class="line">int <a class="code" href="classefun.html#a8b5de31f232caee7f2bdfb50e9a626ec">tls_init_connection</a>(object ob, string fun, <span class="keywordtype">string</span>|object fob, mixed extra...)</div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a8b5de31f232caee7f2bdfb50e9a626ec">tls_init_connection</a>(object ob, closure fun, mixed extra...)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.474)</div>
<div class="line">backported (3.2.11)</div>
<div class="line">changed (3.2.13/3.3.713) -- streamlined the handling of secure connections during logon.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a640eca286d6cfbc9d0f9f40f7b31269d" title="Shuts down a TLS connection to the interactive object ob (or this_object() if ob is not given) but th...">efun::tls_deinit_connection()</a>, <a class="el" href="classefun.html#ab298aabbd06837fdab935ae82260e51f" title="Returns a string describing the error behind the error number errorno. ">efun::tls_error()</a>, <a class="el" href="classefun.html#a1d9e28db0cff9d02318184eb56aafdba" title="Returns a positive number if ob connection is TLS secured, 0 if it&#39;s unsecured, and a negative number...">efun::tls_query_connection_state()</a>, <a class="el" href="classefun.html#a8fff6671c194e17e8d07f03256faf626" title="If ob does not have a TLS connection, if the connection is still being set-up, or if ob is not intera...">efun::tls_query_connection_info()</a>, <a class="el" href="classefun.html#a673b9f37b9750af6efb10678180461ab" title="If the global TLS initialisation could not be set up, tls_is_available() returns 0, otherwise 1. ">efun::tls_available()</a>, <a class="el" href="classefun.html#a0c31ebf810d2ec2717c8b6f7245d241b" title="Checks the certificate of the secured connection bound to obj (default is the current object)...">efun::tls_check_certificate()</a>, <a class="el" href="classefun.html#a30bd281e29f7465ed9ff74217be3f760" title="Reload the certificates and certificate revocation information. ">efun::tls_refresh_certs()</a>, <a class="el" href="classmaster.html#a5ba74ee9cd2ce5203374a79f48f908d7" title="Return a login object that the requested connection should be bound to. ">master::connect()</a>, <a class="el" href="classapplied.html#a6b064bd51c85a6644ac5d38ae5276815" title="When the driver created a new connection (either by accepting it or by creating it with efun::net_con...">applied::logon()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a8fff6671c194e17e8d07f03256faf626"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int* tls_query_connection_info </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If <code>ob</code> does not have a TLS connection, if the connection is still being set-up, or if <code>ob</code> is not interactive, the efun returns 0. </p>
<p>If <code>ob</code> has a TLS connection, <a class="el" href="classefun.html#a8fff6671c194e17e8d07f03256faf626" title="If ob does not have a TLS connection, if the connection is still being set-up, or if ob is not intera...">tls_query_connection_info()</a> returns an array that contains some parameters of <code>ob</code> connection:</p>
<p>int|string [<code>TLS_CIPHER</code>]: the cipher used int [<code>TLS_COMP</code>]: the compression used int [<code>TLS_KX</code>]: the key-exchange used int [<code>TLS_MAC</code>]: the digest algorithm used int|string [<code>TLS_PROT</code>]: the protocol used</p>
<p>To translate these numbers into strings, &lt;tls.h&gt; offers a number of macros:</p>
<p>TLS_xxx_TABLE: a literal array of strings describing the value in question. TLS_xxx_NAME(x): a macro translating the numeric result value into a string.</p>
<p>xxx: CIPHER, COMP, KX, MAC, PROT</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> * <a class="code" href="classefun.html#a8fff6671c194e17e8d07f03256faf626">tls_query_connection_info</a>(object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.474)</div>
<div class="line">backported (3.2.11)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a8b5de31f232caee7f2bdfb50e9a626ec" title="Tries to start a TLS-secured connection to the interactive object ob (or this_object() if ob is not g...">efun::tls_init_connection()</a>, <a class="el" href="classefun.html#a640eca286d6cfbc9d0f9f40f7b31269d" title="Shuts down a TLS connection to the interactive object ob (or this_object() if ob is not given) but th...">efun::tls_deinit_connection()</a>, <a class="el" href="classefun.html#ab298aabbd06837fdab935ae82260e51f" title="Returns a string describing the error behind the error number errorno. ">efun::tls_error()</a>, <a class="el" href="classefun.html#a1d9e28db0cff9d02318184eb56aafdba" title="Returns a positive number if ob connection is TLS secured, 0 if it&#39;s unsecured, and a negative number...">efun::tls_query_connection_state()</a>, <a class="el" href="classefun.html#a673b9f37b9750af6efb10678180461ab" title="If the global TLS initialisation could not be set up, tls_is_available() returns 0, otherwise 1. ">efun::tls_available()</a>, <a class="el" href="classefun.html#a0c31ebf810d2ec2717c8b6f7245d241b" title="Checks the certificate of the secured connection bound to obj (default is the current object)...">efun::tls_check_certificate()</a>, <a class="el" href="classefun.html#a30bd281e29f7465ed9ff74217be3f760" title="Reload the certificates and certificate revocation information. ">efun::tls_refresh_certs()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1d9e28db0cff9d02318184eb56aafdba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int tls_query_connection_state </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a positive number if <code>ob</code> connection is TLS secured, 0 if it's unsecured, and a negative number if the TLS connection is still being set-up. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a1d9e28db0cff9d02318184eb56aafdba">tls_query_connection_state</a>(object ob)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.474)</div>
<div class="line">backported (3.2.11)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a8b5de31f232caee7f2bdfb50e9a626ec" title="Tries to start a TLS-secured connection to the interactive object ob (or this_object() if ob is not g...">efun::tls_init_connection()</a>, <a class="el" href="classefun.html#a640eca286d6cfbc9d0f9f40f7b31269d" title="Shuts down a TLS connection to the interactive object ob (or this_object() if ob is not given) but th...">efun::tls_deinit_connection()</a>, <a class="el" href="classefun.html#ab298aabbd06837fdab935ae82260e51f" title="Returns a string describing the error behind the error number errorno. ">efun::tls_error()</a>, <a class="el" href="classefun.html#a8fff6671c194e17e8d07f03256faf626" title="If ob does not have a TLS connection, if the connection is still being set-up, or if ob is not intera...">efun::tls_query_connection_info()</a>, <a class="el" href="classefun.html#a673b9f37b9750af6efb10678180461ab" title="If the global TLS initialisation could not be set up, tls_is_available() returns 0, otherwise 1. ">efun::tls_available()</a>, <a class="el" href="classefun.html#a0c31ebf810d2ec2717c8b6f7245d241b" title="Checks the certificate of the secured connection bound to obj (default is the current object)...">efun::tls_check_certificate()</a>, <a class="el" href="classefun.html#a30bd281e29f7465ed9ff74217be3f760" title="Reload the certificates and certificate revocation information. ">efun::tls_refresh_certs()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a30bd281e29f7465ed9ff74217be3f760"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tls_refresh_certs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reload the certificates and certificate revocation information. </p>
<p>If there are no key and certificate files to be found, this efun will keep the current keys and certificates, to keep TLS working. CAs and CRLs are cleared and reloaded in any case.</p>
<dl class="section user"><dt>warning: when using GnuTLS, a call to efun::tls_refresh_certs() while a connection is in the middle of a TLS handshake might cause an incorrect key to be used.</dt><dd></dd></dl>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a30bd281e29f7465ed9ff74217be3f760">tls_refresh_certs</a>()</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.714/3.2.15)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a8b5de31f232caee7f2bdfb50e9a626ec" title="Tries to start a TLS-secured connection to the interactive object ob (or this_object() if ob is not g...">efun::tls_init_connection()</a>, <a class="el" href="classefun.html#a640eca286d6cfbc9d0f9f40f7b31269d" title="Shuts down a TLS connection to the interactive object ob (or this_object() if ob is not given) but th...">efun::tls_deinit_connection()</a>, <a class="el" href="classefun.html#ab298aabbd06837fdab935ae82260e51f" title="Returns a string describing the error behind the error number errorno. ">efun::tls_error()</a>, <a class="el" href="classefun.html#a1d9e28db0cff9d02318184eb56aafdba" title="Returns a positive number if ob connection is TLS secured, 0 if it&#39;s unsecured, and a negative number...">efun::tls_query_connection_state()</a>, <a class="el" href="classefun.html#a8fff6671c194e17e8d07f03256faf626" title="If ob does not have a TLS connection, if the connection is still being set-up, or if ob is not intera...">efun::tls_query_connection_info()</a>, <a class="el" href="classefun.html#a673b9f37b9750af6efb10678180461ab" title="If the global TLS initialisation could not be set up, tls_is_available() returns 0, otherwise 1. ">efun::tls_available()</a>, <a class="el" href="classefun.html#a0c31ebf810d2ec2717c8b6f7245d241b" title="Checks the certificate of the secured connection bound to obj (default is the current object)...">efun::tls_check_certificate()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a6744067ae555fa96eede33f8b186f2e8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed to_struct </td>
          <td>(</td>
          <td class="paramtype">struct data&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct template&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The given array, mapping or struct <code>data</code> is returned as a struct. </p>
<p>If a <code>template</code> struct is given, the returned struct is of the same type. Without a template, an anonymous struct is returned in case of arrays and mappings and in case of structs <code>data</code> is returned unchanged.</p>
<p>If <code>data</code> is an array, its elements are assigned in order to the resulting struct. For an anonymous struct, all elements of <code>data</code> are assigned, for a templated struct only as many as fit into the struct.</p>
<p>If <code>data</code> is a mapping and no template is given, the resulting anonymous struct contains all elements from <code>data</code> with a string key; the key name is used as struct member name.</p>
<p>If <code>data</code> is a mapping and a template is given, the struct member names are used as keys for lookups in <code>data</code>; the found data is assigned to the struct members.</p>
<p>If <code>data</code> is a struct and a template is given, a struct of the type of template is created and all members from <code>data</code> are copied to the new struct, which exist in both structs. This conversion is only allowed between a struct and one of its base structs or a base struct and one of its children. Otherwise an error is raised.</p>
<p>Neither <code>data</code> nor <code>template</code> will be changed in this process - the result is a new struct value. The actual value of <code>template</code> does not matter, only its type.</p>
<p>Since the returned struct can't be known at compile time, the efun is declared to return 'mixed'.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed <a class="code" href="classefun.html#a6744067ae555fa96eede33f8b186f2e8">to_struct</a>(mixed *|mapping data)</div>
<div class="line">mixed <a class="code" href="classefun.html#a6744067ae555fa96eede33f8b186f2e8">to_struct</a>(mixed *|mapping data, struct template)</div>
<div class="line">mixed <a class="code" href="classefun.html#a6744067ae555fa96eede33f8b186f2e8">to_struct</a>(struct data)</div>
<div class="line">mixed <a class="code" href="classefun.html#a6744067ae555fa96eede33f8b186f2e8">to_struct</a>(struct data, struct template)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.250)</div>
<div class="line">changed (3.3.344) -- added the template argument.</div>
<div class="line">changed (3.3.433) -- added the conversion from mappings.</div>
<div class="line">changed (3.3.720) -- added the conversion of structs into another struct.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd>efun::to_array(), efun::to_string(), <a class="el" href="classefun.html#a6cd46ef2f89a1b7f5a4ec5f4cb7beee1" title="The first form returns a mapping with indices from arr1 and values from arr2... ">efun::mkmapping()</a>, <a class="el" href="driver_syntax_structs.html">struct</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a10ab58b2ef6365c8851dcc8f9d6def03"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int trace </td>
          <td>(</td>
          <td class="paramtype">int traceflags&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the trace flags and returns the old trace flags. </p>
<p>When tracing is on, a lot of information is printed during execution and too much output can crash your connection or even the whole driver.</p>
<p>Tracing is done on a per-connection basis: each interactive(!) user may specifiy their own tracelevel and -prefix. Each gets the traceoutput for just the code executed during the evaluation of the commands he entered.</p>
<p>The trace bits are:</p>
<p><code>TRACE_NOTHING</code> ( 0): stop tracing. <code>TRACE_CALL</code> ( 1): trace all calls to lfuns. <code>TRACE_CALL_OTHER</code> ( 2): trace call_others()s. <code>TRACE_RETURN</code> ( 4): trace function returns. <code>TRACE_ARGS</code> ( 8): print function arguments and results. <code>TRACE_EXEC</code> ( 16): trace all executed instructions. <code>TRACE_HEART_BEAT</code> ( 32): trace heartbeat code. <code>TRACE_APPLY</code> ( 64): trace driver applies. <code>TRACE_OBJNAME</code> (128): print the object names.</p>
<p><code>TRACE_EXEC</code> and <code>TRACE_HEART_BEAT</code> should be avoided as they cause massive output! <code>TRACE_OBJNAME</code> should be avoided when you know what you trace.</p>
<p><a class="el" href="classmaster.html#a26cc180769b766dfb74d76a57ccb9926" title="Check if the interactive user is allowed to use tracing. ">master::valid_trace()</a> is called with <code>("trace", traceflags)</code> as argument to verify the use of this efun.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a10ab58b2ef6365c8851dcc8f9d6def03">trace</a>(int traceflags)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> obj;</div>
<div class="line"><span class="keywordtype">string</span> prefix;</div>
<div class="line">obj = find_player(<span class="stringliteral">&quot;wessex&quot;</span>);</div>
<div class="line">prefix = <a class="code" href="classefun.html#a4eae6e47ac233059b5613c83cf5855e0">object_name</a>(obj);</div>
<div class="line">prefix = prefix[1..];  <span class="comment">// cut off the leading &quot;/&quot;</span></div>
<div class="line"><a class="code" href="classefun.html#af0416a70b75e06959cea1a9a50f9a12e">traceprefix</a>(prefix);</div>
<div class="line"><span class="comment">// From here on, only code in the object &quot;std/player#69&quot;</span></div>
<div class="line"><span class="comment">// will be traced.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><a class="code" href="classefun.html#a10ab58b2ef6365c8851dcc8f9d6def03">trace</a>(TRACE_CALL|TRACE_CALL_OTHER|TRACE_RETURN|TRACE_ARGS);</div>
<div class="line">...</div>
<div class="line">trace(TRACE_NOTHING);</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.9) -- passes the traceflags argument to the valid_trace <a class="code" href="classefun.html#aaf018e933ee843dfe67f2916aeeb51a1">apply</a> as well.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#af0416a70b75e06959cea1a9a50f9a12e" title="If called with a string, only objects matching this prefix will be traced. ">efun::traceprefix()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af0416a70b75e06959cea1a9a50f9a12e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string traceprefix </td>
          <td>(</td>
          <td class="paramtype">int dummy&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If called with a string, only objects matching this prefix will be traced. </p>
<p>The string must not contain a leading "/" because the object names are stored internally without it. If called with a number, the traceprefix will be ignored and all objects will be traced. Returns the last traceprefix or 0 if there wasn't any.</p>
<p><a class="el" href="classmaster.html#a26cc180769b766dfb74d76a57ccb9926" title="Check if the interactive user is allowed to use tracing. ">master::valid_trace()</a> is called with <code>("traceprefix", prefix)</code> as arguments to verify the use of this efun.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#af0416a70b75e06959cea1a9a50f9a12e">traceprefix</a>(string prefix)</div>
<div class="line">string <a class="code" href="classefun.html#af0416a70b75e06959cea1a9a50f9a12e">traceprefix</a>(int dummy)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">The following example shows the basics of how to set up (and later remove) a trace:</p>
<div class="fragment"><div class="line"><span class="keywordtype">object</span> obj;</div>
<div class="line"><span class="keywordtype">string</span> prefix;</div>
<div class="line">obj = find_player(<span class="stringliteral">&quot;wessex&quot;</span>);</div>
<div class="line">prefix = <a class="code" href="classefun.html#a4eae6e47ac233059b5613c83cf5855e0">object_name</a>(obj);</div>
<div class="line">prefix = prefix[1..]; <span class="comment">// cut off the leading &quot;/&quot;</span></div>
<div class="line"><a class="code" href="classefun.html#af0416a70b75e06959cea1a9a50f9a12e">traceprefix</a>(prefix);</div>
<div class="line">  <span class="comment">// From here on, only code in the object &quot;std/player#69&quot;</span></div>
<div class="line">  <span class="comment">// will be traced.</span></div>
<div class="line">  <span class="comment">//</span></div>
<div class="line"><a class="code" href="classefun.html#a10ab58b2ef6365c8851dcc8f9d6def03">trace</a>(TRACE_CALL | TRACE_CALL_OTHER | TRACE_RETURN | TRACE_ARGS);</div>
<div class="line">...</div>
<div class="line">trace(TRACE_NOTHING);</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.9) -- passes prefix to the valid_trace <a class="code" href="classefun.html#aaf018e933ee843dfe67f2916aeeb51a1">apply</a> as well.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a10ab58b2ef6365c8851dcc8f9d6def03" title="Sets the trace flags and returns the old trace flags. ">efun::trace()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a005a3e81b3a804ec38fbbe1fdadd7beb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int transfer </td>
          <td>(</td>
          <td class="paramtype">object item&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object dest&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This efun is for backward compatibility only. </p>
<p>It is only available in compat mode.</p>
<p>Move the object <code>item</code> to the object <code>dest</code>. All kinds of tests are done, and a number is returned specifying the result:</p>
<p>0: Success. 1: Too heavy for destination. 2: Can't be dropped. 3: Can't take it out of it's container. 4: The object can't be inserted into bags etc. 5: The destination doesn't allow insertions of objects. 6: The object can't be picked up.</p>
<p>If an object is transfered to a newly created object, make sure that the new object first is transfered to its destination.</p>
<p>The efun calls <a class="el" href="classapplied.html#a8cec8ec81cb7af8d65f18f84cf745f0f" title="In compat mode, this function is used by efun::transfer(). ">applied::add_weight()</a>, <a class="el" href="classapplied.html#aeeb7272aff0993df78210e757b04a22a" title="In compat mode this lfun is used by efun::transfer(). ">applied::drop()</a>, <a class="el" href="classapplied.html#a84a9cd93622aa531274dd4c027f006ce" title="In compat mode, this function is used by efun::transfer(). ">applied::get()</a>, <a class="el" href="classapplied.html#a60fb09d965441f9502f358d6d10e043c" title="In compat mode, this function is used by efun::transfer(). ">applied::prevent_insert()</a>, <a class="el" href="classapplied.html#a8cec8ec81cb7af8d65f18f84cf745f0f" title="In compat mode, this function is used by efun::transfer(). ">applied::add_weight()</a>, and <a class="el" href="classapplied.html#a4b5d45018717363600be57c0400c37dc" title="In compat mode, this function is used by efun::transfer(). ">applied::can_put_and_get()</a> where needed.</p>
<h2>replacement simul_efun</h2>
<p>This efun can easily be replaced with a simul_efun:</p>
<div class="fragment"><div class="line">  <span class="comment">/*--------------------------------------------------------</span></div>
<div class="line"><span class="comment">* int transfer(object item, object dest)</span></div>
<div class="line"><span class="comment">* {</span></div>
<div class="line"><span class="comment">*     int weight;</span></div>
<div class="line"><span class="comment">*     object from;</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">*     efun::set_this_object(previous_object());</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">*     weight = item-&gt;query_weight();</span></div>
<div class="line"><span class="comment">*     if (!item)</span></div>
<div class="line"><span class="comment">*         return 3;</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">*     from = environment(item);</span></div>
<div class="line"><span class="comment">*     if (from)</span></div>
<div class="line"><span class="comment">*     {</span></div>
<div class="line"><span class="comment">*         /*</span></div>
<div class="line"><span class="comment">           * If the original place of the object is a living object,</span></div>
<div class="line"><span class="comment">           * then we must call drop() to check that the object can be</span></div>
<div class="line"><span class="comment">           * dropped.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">*         if (living(from))</span></div>
<div class="line"><span class="comment">*         {</span></div>
<div class="line"><span class="comment">*             if (item-&gt;drop() || !item)</span></div>
<div class="line"><span class="comment">*                 return 2;</span></div>
<div class="line"><span class="comment">*         }</span></div>
<div class="line"><span class="comment">*         /*</span></div>
<div class="line"><span class="comment">           * If &#39;from&#39; is not a room and not a player, check that we may</span></div>
<div class="line"><span class="comment">           * remove things out of it.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">*         else if (environment(from))</span></div>
<div class="line"><span class="comment">*         {</span></div>
<div class="line"><span class="comment">*             if (!from-&gt;can_put_and_get() || !from)</span></div>
<div class="line"><span class="comment">*                 return 3;</span></div>
<div class="line"><span class="comment">*         }</span></div>
<div class="line"><span class="comment">*     }</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">*     /*</span></div>
<div class="line"><span class="comment">       * If the destination is not a room, and not a player,</span></div>
<div class="line"><span class="comment">       * Then we must test &#39;prevent_insert&#39;, and &#39;can_put_and_get&#39;.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">*     if (environment(dest) &amp;&amp; !living(dest))</span></div>
<div class="line"><span class="comment">*     {</span></div>
<div class="line"><span class="comment">*         if (item-&gt;prevent_insert())</span></div>
<div class="line"><span class="comment">*             return 4;</span></div>
<div class="line"><span class="comment">*         if (!dest-&gt;can_put_and_get() || !dest)</span></div>
<div class="line"><span class="comment">*             return 5;</span></div>
<div class="line"><span class="comment">*     }</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">*     if (living(dest))</span></div>
<div class="line"><span class="comment">*     {</span></div>
<div class="line"><span class="comment">*         if (!item-&gt;get() || !item)</span></div>
<div class="line"><span class="comment">*             return 6;</span></div>
<div class="line"><span class="comment">*     }</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">*     /*</span></div>
<div class="line"><span class="comment">       * If it is not a room, correct the total weight in the</span></div>
<div class="line"><span class="comment">       * destination.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">*     if (environment(dest) &amp;&amp; weight)</span></div>
<div class="line"><span class="comment">*     {</span></div>
<div class="line"><span class="comment">*         if (!dest-&gt;add_weight(weight) || !dest)</span></div>
<div class="line"><span class="comment">*             return 1;</span></div>
<div class="line"><span class="comment">*     }</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">*     /*</span></div>
<div class="line"><span class="comment">       * If it is not a room, correct the weight in the &#39;from&#39; object.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">*     if (from &amp;&amp; environment(from) &amp;&amp; weight)</span></div>
<div class="line"><span class="comment">*     {</span></div>
<div class="line"><span class="comment">*         from-&gt;add_weight(-weight);</span></div>
<div class="line"><span class="comment">*     }</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">*     move_object(item, dest);</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">*     return 0;</span></div>
<div class="line"><span class="comment">* }</span></div>
<div class="line"><span class="comment">* /*--------------------------------------------------------</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">*</span></div>
</div><!-- fragment --><dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a005a3e81b3a804ec38fbbe1fdadd7beb">transfer</a>(object item, object dest)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">deprecated (3.3) -- available only when compiled with USE_DEPRECATED.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a4190a089c412b88e938a4a34865e8366" title="The item, which can be an object_name or an object, is moved into it&#39;s new environment dest...">efun::move_object()</a>, <a class="el" href="classapplied.html#aeeb7272aff0993df78210e757b04a22a" title="In compat mode this lfun is used by efun::transfer(). ">applied::drop()</a>, <a class="el" href="classapplied.html#a84a9cd93622aa531274dd4c027f006ce" title="In compat mode, this function is used by efun::transfer(). ">applied::get()</a>, <a class="el" href="classapplied.html#a60fb09d965441f9502f358d6d10e043c" title="In compat mode, this function is used by efun::transfer(). ">applied::prevent_insert()</a>, <a class="el" href="classapplied.html#a4b5d45018717363600be57c0400c37dc" title="In compat mode, this function is used by efun::transfer(). ">applied::can_put_and_get()</a>, <a class="el" href="classapplied.html#a8cec8ec81cb7af8d65f18f84cf745f0f" title="In compat mode, this function is used by efun::transfer(). ">applied::add_weight()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ab4a9f331461f994362f7b3cda352dbea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed* transpose_array </td>
          <td>(</td>
          <td class="paramtype">mixed  *&#160;</td>
          <td class="paramname"><em>arr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Applied to an alist, results in an array of <code>({ key, data })</code> pairs, useful if you want to use <a class="el" href="classefun.html#a726e9875b6a71d74e719bf470c00bbf4" title="Sort the copy either by the ordering function ob-&gt;wrong_order(a, b), or by the closure expression cl...">efun::sort_array()</a> or <a class="el" href="classefun.html#ac5e7282ed029a438608ee96f18052e33" title="Call the function &lt;ob&gt;-&gt;&lt;func&gt;() resp. ">efun::filter()</a> on the alist. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed * <a class="code" href="classefun.html#ab4a9f331461f994362f7b3cda352dbea">transpose_array</a>(mixed *arr)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><a class="code" href="classefun.html#ab4a9f331461f994362f7b3cda352dbea">transpose_array</a>(({ ({1,2,3}), ({a,b,c}) }))</div>
<div class="line"><span class="comment">// returns ({ ({1,a}), ({2,b}), ({3,c}) })</span></div>
</div><!-- fragment --><p> The mapping 'map' in the example below is returned as an array of <code>({ key, data })</code> pairs, sorted by the keys.:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#a726e9875b6a71d74e719bf470c00bbf4">sort_array</a>(<a class="code" href="classefun.html#ab4a9f331461f994362f7b3cda352dbea">transpose_array</a>(({ <a class="code" href="classefun.html#a706faae97294c390a3cd88cb080d509a">m_indices</a>(map), <a class="code" href="classefun.html#a2bed0d3fd8a81f635ddf28b8f539d4c1">m_values</a>(map) })),</div>
<div class="line">       <a class="code" href="classefun.html#a4ef2926c525dcf7e7d339d3f424b18a9">lambda</a>(({ <span class="stringliteral">&#39;a, &#39;</span>b }),</div>
<div class="line">              ({ #<span class="stringliteral">&#39;&lt;, ({ #&#39;</span>[, <span class="stringliteral">&#39;a, 0 }),</span></div>
<div class="line"><span class="stringliteral">                      ({ #&#39;</span>[, <span class="stringliteral">&#39;b, 0}) }) )</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a726e9875b6a71d74e719bf470c00bbf4" title="Sort the copy either by the ordering function ob-&gt;wrong_order(a, b), or by the closure expression cl...">efun::sort_array()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af80dda2f2c6c28eac1373d859e1ad6b5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string trim </td>
          <td>(</td>
          <td class="paramtype">string s&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int where&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string ch&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove all leading and trailing characters <code>ch</code> from the string <code>s</code> and return the new string. </p>
<p><code>ch</code> may be given as a single character, or a string of characters. If <code>ch</code> is not given, it defaults to the whitespace <code>" \\t"</code>.</p>
<p><code>where</code> can be used to modify where the characters are removed:</p>
<p><code>TRIM_LEFT</code> (1): remove the leading characters <code>TRIM_RIGHT</code> (2): remove the trailing characters <code>TRIM_BOTH</code> (3 or 0): remove both leading and trailing characters</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#af80dda2f2c6c28eac1373d859e1ad6b5">trim</a>(string s)</div>
<div class="line">string <a class="code" href="classefun.html#af80dda2f2c6c28eac1373d859e1ad6b5">trim</a>(string s, int where)</div>
<div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#af80dda2f2c6c28eac1373d859e1ad6b5">trim</a>(string s, int where, int ch)</div>
<div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#af80dda2f2c6c28eac1373d859e1ad6b5">trim</a>(string s, int where, string ch)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><a class="code" href="classefun.html#af80dda2f2c6c28eac1373d859e1ad6b5">trim</a>(<span class="stringliteral">&quot;   1234   &quot;</span>)                  --&gt; <span class="stringliteral">&quot;1234&quot;</span></div>
<div class="line"><a class="code" href="classefun.html#af80dda2f2c6c28eac1373d859e1ad6b5">trim</a>(<span class="stringliteral">&quot;   1234   &quot;</span>, TRIM_RIGHT)      --&gt; <span class="stringliteral">&quot;   1234&quot;</span></div>
<div class="line"><a class="code" href="classefun.html#af80dda2f2c6c28eac1373d859e1ad6b5">trim</a>(<span class="stringliteral">&quot;   1234   &quot;</span>, TRIM_BOTH, <span class="stringliteral">&quot; 1&quot;</span>) --&gt; <span class="stringliteral">&quot;234&quot;</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.7)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a1a9644b0891c8674664e2c80aff7f963" title="This function looks through txt looking for the regular expression pattern. ">efun::regreplace()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a2c59429dab21cfd036e4a73cdb0d6eed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int typeof </td>
          <td>(</td>
          <td class="paramtype">mixed&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a code for the type of the argument, as defined in &lt;lpctypes.h&gt;. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a2c59429dab21cfd036e4a73cdb0d6eed">typeof</a>(mixed)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2@63)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ac251ce3e185e6ef6e265806ba711e871" title="Returns info about the type of value, as controlled by the flag. ">efun::get_type_info()</a>, <a class="el" href="classefun.html#aae25e47ee6526e8297fa3d9c822a22be" title="Return 1 if arg is an integer number. ">efun::intp()</a>, <a class="el" href="classefun.html#acc5e526acbd3a54f8f9625cc1fdc7f75" title="Return 1 if arg is an object. ">efun::objectp()</a>, <a class="el" href="classefun.html#a1493e7a68d0e7eb19f5f60d3c5761e9c" title="Returns 1 if the arg is a floating point number, 0 else. ">efun::floatp()</a>, <a class="el" href="classefun.html#a3c94a0dd0f29e1f90f48d17e53fec879" title="Return 1 if arg is a pointer, i.e. ">efun::pointerp()</a>, <a class="el" href="classefun.html#af96696b3733777271624be5575c72726" title="Returns 1 if the argument is a closure. ">efun::closurep()</a>, <a class="el" href="classefun.html#aa0bbde61230276ac5155fa61b54c63f2" title="Returns 1 if value is a symbol. ">efun::symbolp()</a>, <a class="el" href="classefun.html#ad45cc3605ecbe92c52b8c1c8408da017" title="Return 1 if arg is a string. ">efun::stringp()</a>, <a class="el" href="classefun.html#a588bcd8d5f59e8c2c08c0d989c530863" title="Returns 1 if the argument is a mapping, or 0 if it is not. ">efun::mappingp()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ad7e5e12d8853c0b52534f8a8e57dcef6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">closure unbound_lambda </td>
          <td>(</td>
          <td class="paramtype">mixed  *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a lambda closure that is not bound to an object, like lambda function in LISP. </p>
<p>The closure cannot contain references to global variables, and all lfun closures are inserted as is, since there is no native object for this closure. You need to bind it before it can be called. Ordinary objects can only bind to themselves, binding to other objects causes a privilege violation. The point is that previous_object for calls done from inside the closure will reflect the object doing <a class="el" href="classefun.html#a8e512d3268244957695f1a9fcf988f33" title="Binds an unbound lambda closure to an object and return it. ">efun::bind_lambda()</a>, and all object / uid based security will also refer to this object.</p>
<p>The first argument is an array describing the arguments (symbols) passed to the closure upon evaluation by <a class="el" href="classefun.html#a665f686219e1bffdb5e89a5158167473" title="Evaluates the closure. ">efun::funcall()</a> or <a class="el" href="classefun.html#aaf018e933ee843dfe67f2916aeeb51a1" title="Evaluates the closure cl with the following arguments. ">efun::apply()</a>, the second arg forms the code of the closure.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">closure <a class="code" href="classefun.html#ad7e5e12d8853c0b52534f8a8e57dcef6">unbound_lambda</a>(mixed *args, mixed)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2@82)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="driver_syntax_closures.html">closure</a>, <a class="el" href="classefun.html#a4ef2926c525dcf7e7d339d3f424b18a9" title="Constructs a lambda closure, like lambda function in LISP. ">efun::lambda()</a>, <a class="el" href="classefun.html#aaf018e933ee843dfe67f2916aeeb51a1" title="Evaluates the closure cl with the following arguments. ">efun::apply()</a>, <a class="el" href="classefun.html#a665f686219e1bffdb5e89a5158167473" title="Evaluates the closure. ">efun::funcall()</a>, <a class="el" href="classefun.html#a8e512d3268244957695f1a9fcf988f33" title="Binds an unbound lambda closure to an object and return it. ">efun::bind_lambda()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="afaf15fda40a0e965f474935d37b905a2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed unique_array </td>
          <td>(</td>
          <td class="paramtype">object  *&#160;</td>
          <td class="paramname"><em>obarr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string|&#160;</td>
          <td class="paramname"><em>closure fun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed extra...&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed skip&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Groups objects together for which the separator function returns the same value. </p>
<p>obarr should be an array of objects, other types are ignored.</p>
<p>If the separator function is defined by name, it is searched and called in the objects from <code>obarr</code>. If <code>extra</code> arguments are given, they are passed to the function as arguments.</p>
<p>If the separator function is defined as a closure, it will be passed the objects from <code>obarr</code> as first argument, with the <code>extra</code> arguments (if any) passed following.</p>
<p>If the <code>skip</code> argument is given (it is required when <code>extra</code> arguments are to be used), and the return value from the separator function call matches this value, the object in question will <em>not</em> be included in the returned array. Default value for <code>skip</code> is the number 0.</p>
<p>The returned array is an array of arrays of objects in the form:</p>
<div class="fragment"><div class="line">({ ({ Same1:1, Same1:2, ... Same1:N }),</div>
<div class="line">   ({ Same2:1, Same2:2, ... Same2:N }),</div>
<div class="line">      ....</div>
<div class="line">   ({ SameM:1, SameM:2, ... SameM:N }) })</div>
</div><!-- fragment --><dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed <a class="code" href="classefun.html#afaf15fda40a0e965f474935d37b905a2">unique_array</a>(object *obarr, <span class="keywordtype">string</span>|closure fun)</div>
<div class="line">mixed <a class="code" href="classefun.html#afaf15fda40a0e965f474935d37b905a2">unique_array</a>(object *obarr, <span class="keywordtype">string</span>|closure fun, mixed skip)</div>
<div class="line">mixed <a class="code" href="classefun.html#afaf15fda40a0e965f474935d37b905a2">unique_array</a>(object *obarr, <span class="keywordtype">string</span>|closure fun, mixed extra..., mixed skip)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">The below will return an array of arrays holding all user objects grouped together by their user levels. Wizards have a user level of -1 so they will not appear in the the returned array:</p>
<div class="fragment"><div class="line">mixed *arr;</div>
<div class="line">arr=<a class="code" href="classefun.html#afaf15fda40a0e965f474935d37b905a2">unique_array</a>(<a class="code" href="classefun.html#a46c12392d13bc3a5c91c20a6f7de7c7c">users</a>(), <span class="stringliteral">&quot;_query_level&quot;</span>, -1);</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.3) -- added the possibility to call closures, and to pass extra arguments to the separator <span class="keyword">function</span>.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ac5e7282ed029a438608ee96f18052e33" title="Call the function &lt;ob&gt;-&gt;&lt;func&gt;() resp. ">efun::filter()</a>, <a class="el" href="classefun.html#a33260046a3141e3b6f24f730d13201b9" title="Call the function &lt;ob&gt;-&gt;&lt;func&gt;() resp. ">efun::map()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aadbb0164f8028ef61dbf76a2db6ff243"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed* unmkmapping </td>
          <td>(</td>
          <td class="paramtype">mapping map&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Take mapping <code>map</code> and return an array of arrays with the keys and values from the mapping. </p>
<p>The return array has the form <code>({ keys[], data0[], data1[], ... })</code>, with <code>keys[]</code> being the array of all keys, <code>data0[]</code> the array of all values in the first column, <code>data1[]</code> the array of all values in the second column, etc. In particular, the data for <code>key[x]</code> is stored in <code>data0[x]</code>, <code>data1[x]</code>, etc.</p>
<p><a class="el" href="classefun.html#aadbb0164f8028ef61dbf76a2db6ff243" title="Take mapping map and return an array of arrays with the keys and values from the mapping. ">efun::unmkmapping()</a> is inverse to <a class="el" href="classefun.html#a6cd46ef2f89a1b7f5a4ec5f4cb7beee1" title="The first form returns a mapping with indices from arr1 and values from arr2... ">efun::mkmapping()</a>, so <code>apply(#'mkmapping, unmkmapping(m)) == m</code>.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed * <a class="code" href="classefun.html#aadbb0164f8028ef61dbf76a2db6ff243">unmkmapping</a>(mapping map)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line">mapping m = ([ 1:10;20, 2:11;21 ]);</div>
<div class="line"><a class="code" href="classefun.html#aadbb0164f8028ef61dbf76a2db6ff243">unmkmapping</a>(m)</div>
<div class="line"><span class="comment">// returns ({ ({1, 2}), ({ 10, 11 }), ({ 20, 21 }) })</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.6)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="driver_syntax_mappings.html">mapping</a>, <a class="el" href="classefun.html#a588bcd8d5f59e8c2c08c0d989c530863" title="Returns 1 if the argument is a mapping, or 0 if it is not. ">efun::mappingp()</a>, <a class="el" href="classefun.html#a706faae97294c390a3cd88cb080d509a" title="Returns an array containing the indices of mapping &#39;map&#39;. ">efun::m_indices()</a>, <a class="el" href="classefun.html#a2bed0d3fd8a81f635ddf28b8f539d4c1" title="Returns an array with the values of mapping map. ">efun::m_values()</a>, <a class="el" href="classefun.html#a7d2bbcf03098048f203304b517a88a29" title="Remove the entry with index &#39;key&#39; from mapping &#39;map&#39;. ">efun::m_delete()</a>, <a class="el" href="classefun.html#a1b26f2ff266e671649fc060bea19b228" title="Returns the number of elements of an array or struct, the number of characters in a string...">efun::sizeof()</a>, <a class="el" href="classefun.html#abd02e530c8ad0620b241d0933fdc91da" title="Returns the number of values per key of mapping map. ">efun::widthof()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a412a4ce68bb23fc7517d0c6c31a1905f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string symbol unquote </td>
          <td>(</td>
          <td class="paramtype">symbol&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes a quote from quoted arrays and symbols. </p>
<p>When the last quote from a symbol is removed, the result is a string.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed * <a class="code" href="classefun.html#a412a4ce68bb23fc7517d0c6c31a1905f">unquote</a>(quoted_array)</div>
<div class="line">string|symbol <a class="code" href="classefun.html#a412a4ce68bb23fc7517d0c6c31a1905f">unquote</a>(symbol)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line"><a class="code" href="classefun.html#a412a4ce68bb23fc7517d0c6c31a1905f">unquote</a>(<span class="stringliteral">&#39;foo)         // returns &quot;foo&quot;</span></div>
<div class="line"><span class="stringliteral">unquote( &#39;</span>({1,2,3}) ) <span class="comment">// returns ({1,2,3})</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.9)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a78e86c560d9bfc454fc228b3988db651" title="Converts arrays to quoted arrays and strings to symbols. ">efun::quote()</a>, <a class="el" href="classefun.html#aa0bbde61230276ac5155fa61b54c63f2" title="Returns 1 if value is a symbol. ">efun::symbolp()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a05070447e0963d3e53f870fd8a1e1112"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void unshadow </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The calling object stops shadowing any other object. </p>
<p>If the calling object is being shadowed, that is also stopped.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a05070447e0963d3e53f870fd8a1e1112">unshadow</a>(<span class="keywordtype">void</span>)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ade3d784e3bea08c4f965f503b9b062d1" title="If flag is non-zero the current object will shadow ob. ">efun::shadow()</a>, <a class="el" href="classefun.html#ac6e2a0ca7c746ee1bc1c56649fe0ffc7" title="The function returns the object which obj is currently shadowing, or 0 if obj is not a shadow...">efun::query_shadowing()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a3fa30d4685b1295a17eaf188456796c1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string upper_case </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert all characters in str to upper case, and return the new string. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a3fa30d4685b1295a17eaf188456796c1">upper_case</a>(string str)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd"><code>upper_case("Heya!") // returns "HEYA!"</code></p>
<p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ad0587036475bd3f7ba65855ac3aaa114" title="Convert the first character in str to upper case, and return the new string. ">efun::capitalize()</a>, <a class="el" href="classefun.html#aa09b025daf57d621ec68445ba592caeb" title="Convert all characters in str to lower case, and return the new string. ">efun::lower_case()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a46c12392d13bc3a5c91c20a6f7de7c7c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object* users </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return an array containing all interactive users. </p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">object</span> * <a class="code" href="classefun.html#a46c12392d13bc3a5c91c20a6f7de7c7c">users</a>(<span class="keywordtype">void</span>)</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="a3b84da42b3b5f804d14762ddfcc3da91"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int* utime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the time since `1. </p>
<p>Jan 1970, 00:00:00 GMT` in microsecond precision.</p>
<p>Return is an array: int[0]: number of seconds elapsed int[1]: number of microseconds within the current second.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> * <a class="code" href="classefun.html#a3b84da42b3b5f804d14762ddfcc3da91">utime</a>()</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">Print out the current date and time:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<a class="code" href="classefun.html#a0063aa195f706f56b790a045c06afcb1">ctime</a>(<a class="code" href="classefun.html#a3b84da42b3b5f804d14762ddfcc3da91">utime</a>())+<span class="stringliteral">&quot;\n&quot;</span>);</div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.9)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a0063aa195f706f56b790a045c06afcb1" title="Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0.00 and convert it to a nice...">efun::ctime()</a>, <a class="el" href="classefun.html#af44be4217f00942db63875e6988a0f56" title="Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0:00, and return the time in ...">efun::gmtime()</a>, <a class="el" href="classefun.html#acd45e9336d29a4f03307ff89318e26ee" title="Interpret the argument clock as number of seconds since Jan, 1st, 1970, 0:00, and return the time in ...">efun::localtime()</a>, <a class="el" href="classefun.html#aa560fa38ca94599aa767ccb916e9bce7" title="Return number of seconds elapsed since `1. ">efun::time()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a2801e7dd302b68995897babaee958d39"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string variable_exists </td>
          <td>(</td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int flags&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Look up a variable <code>str</code> in the current object, respectively in the object <code>ob</code>. </p>
<p>The result is the name of the program the variable is defined in. This can be either <code>object_name(ob)</code>, or the name of an inherited program. If !compat mode, the returned name always begins with a '/'.</p>
<p><code>flags</code> can be passed as <code>NAME_HIDDEN</code> to return information about static and protected variables in other objects. It is not possible to return information about private variables.</p>
<p>If the variable cannot be found (because it doesn't exist or it is not visible to the caller), the result is 0.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a2801e7dd302b68995897babaee958d39">variable_exists</a>(string str)</div>
<div class="line">string <a class="code" href="classefun.html#a2801e7dd302b68995897babaee958d39">variable_exists</a>(string str, int flags)</div>
<div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a2801e7dd302b68995897babaee958d39">variable_exists</a>(string str, object ob)</div>
<div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#a2801e7dd302b68995897babaee958d39">variable_exists</a>(string str, object ob, int flags)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.10)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a5d01aa2cfe41a64bb709d8ef3db87b58" title="Look up a function str in the current object, respectively in the object ob. ">efun::function_exists()</a>, <a class="el" href="classefun.html#a5b94e483c0d2c57a5860cfd36280c100" title="Return an array with information about ob variables. ">efun::variable_list()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a5b94e483c0d2c57a5860cfd36280c100"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed* variable_list </td>
          <td>(</td>
          <td class="paramtype">object ob&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int flags&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return an array with information about <code>ob</code> variables. </p>
<p>For every variable, 1 to 3 values (depending on <code>flags</code>) are stored in the result array conveying in this order:</p>
<ul>
<li>the name of the variable</li>
<li>the variable flags (see below)</li>
<li>the return type (listed in &lt;lpctypes.h&gt;)</li>
<li>the value of the variable</li>
</ul>
<p><code>ob</code> may be given as true object or as a filename. In the latter case, the efun does not try to load the object before proceeding.</p>
<p>If <code>ob</code> is not the current object and the value of the variable is requested, a privilege_violation ("variable_list", &lt;ob&gt;) occurs.</p>
<p><code>flags</code> determines both which information is returned for every variable, and which variables should be considered at all. Its value is created by bin-or'ing together the following flags from &lt;functionlist.h&gt;:</p>
<p>Control of returned information:</p>
<p><code>RETURN_FUNCTION_NAME</code> include the variable name <code>RETURN_FUNCTION_FLAGS</code> include the variable flags <code>RETURN_FUNCTION_TYPE</code> include the return type <code>RETURN_VARIABLE_VALUE</code> include the variable value</p>
<p>Control of listed variables:</p>
<p><code>NAME_INHERITED</code> don't list if defined by inheritance <code>TYPE_MOD_STATIC</code> == <code>TYPE_MOD_NOSAVE</code> don't list if nosave ('static') variable <code>TYPE_MOD_PRIVATE</code> don't list if private <code>TYPE_MOD_PROTECTED</code> don't list if protected <code>NAME_HIDDEN</code> don't list if not visible through inheritance</p>
<p>The 'flags' information consists of the bin-or of the list control flags given above, plus the following:</p>
<p><code>TYPE_MOD_VIRTUAL</code> variable is inherited virtually <code>TYPE_MOD_NO_MASK</code> variable is nomask <code>TYPE_MOD_PUBLIC</code> variable is public</p>
<p>All these flags are defined in &lt;functionlist.h&gt;; the return types are defined in &lt;lpctypes.h&gt;.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed * <a class="code" href="classefun.html#a5b94e483c0d2c57a5860cfd36280c100">variable_list</a>(object ob, int flags)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.10)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#ac1f2f96fbcb047b4d200a9d68f05aa8d" title="Returns the names of all files inherited by ob, including ob own filename. ">efun::inherit_list()</a>, <a class="el" href="classefun.html#ae6f59c9fb98b3b61c5cc313efa4f831d" title="Returns an array with information about functions defined in ob. ">efun::functionlist()</a>, <a class="el" href="classefun.html#a2801e7dd302b68995897babaee958d39" title="Look up a variable str in the current object, respectively in the object ob. ">efun::variable_exists()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a82aceeaafc69a2ea441ad52f4657e216"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void walk_mapping </td>
          <td>(</td>
          <td class="paramtype">mapping m&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">closure cl&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed extra&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calls <code>ob-&gt;func(key, value1, ..., valueN, extra,...)</code> resp. </p>
<p>applies the closure to every entry in the mapping. The keys are passed by value, the values are passed by reference and can be changed in the function.</p>
<p>Any number of extra arguments is accepted and passed. These arguments must not be protected references like <code>&amp;(i[])</code>.</p>
<p>If <code>ob</code> is omitted, or neither a string nor an object, it defaults to <code><a class="el" href="classefun.html#a3beb87980adf6911709c4c431e244488" title="Return the object pointer for this object. ">this_object()</a></code>.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a82aceeaafc69a2ea441ad52f4657e216">walk_mapping</a>(mapping m, string func, mixed extra, ...)</div>
<div class="line">void <a class="code" href="classefun.html#a82aceeaafc69a2ea441ad52f4657e216">walk_mapping</a>(mapping m, string func, <span class="keywordtype">string</span>|object ob, mixed extra, ...)</div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#a82aceeaafc69a2ea441ad52f4657e216">walk_mapping</a>(mapping m, closure cl, mixed extra, ...)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2@61)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a33260046a3141e3b6f24f730d13201b9" title="Call the function &lt;ob&gt;-&gt;&lt;func&gt;() resp. ">efun::map()</a>, <a class="el" href="classefun.html#ac5e7282ed029a438608ee96f18052e33" title="Call the function &lt;ob&gt;-&gt;&lt;func&gt;() resp. ">efun::filter()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="abd02e530c8ad0620b241d0933fdc91da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int widthof </td>
          <td>(</td>
          <td class="paramtype">mapping map&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of values per key of mapping <code>map</code>. </p>
<p>If <code>map</code> is 0, the result is 0.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#abd02e530c8ad0620b241d0933fdc91da">widthof</a>(mapping map)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line">mapping m = ([ <span class="stringliteral">&quot;foo&quot;</span>: 1,2 ]);</div>
<div class="line"><a class="code" href="classefun.html#abd02e530c8ad0620b241d0933fdc91da">widthof</a>(m) <span class="comment">// returns 2</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.2.6)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a1b26f2ff266e671649fc060bea19b228" title="Returns the number of elements of an array or struct, the number of characters in a string...">efun::sizeof()</a>, <a class="el" href="classefun.html#a6cd46ef2f89a1b7f5a4ec5f4cb7beee1" title="The first form returns a mapping with indices from arr1 and values from arr2... ">efun::mkmapping()</a>, <a class="el" href="classefun.html#a8c9bb41a965b9516ff6b86c97c35ab0c" title="Create a new mapping with width values per key and fill it with the values from mapping m...">efun::m_reallocate()</a>, <a class="el" href="classefun.html#a2bed0d3fd8a81f635ddf28b8f539d4c1" title="Returns an array with the values of mapping map. ">efun::m_values()</a>, <a class="el" href="classefun.html#aadbb0164f8028ef61dbf76a2db6ff243" title="Take mapping map and return an array of arrays with the keys and values from the mapping. ">efun::unmkmapping()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a68a193afd07ce9f74d4722f8ae4e1efd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mixed* wizlist_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an array with the interesting entries of the wizlist. </p>
<p>Needs to be privileged by the master object.</p>
<p>The result is an array with one entry for every wizard (uid). Every entry is an array itself:</p>
<p>string w[<code>WL_NAME</code>] = Name of the wizard. int w[<code>WL_COMMANDS</code>] = Weighted number of commands execute by objects of this wizard. int w[<code>WL_COST</code>] int w[<code>WL_GIGACOST</code>] = Weighted sum of eval_costs. int w[<code>WL_TOTAL_COST</code>] int w[<code>WL_TOTAL_GIGACOST</code>] = Total sum of eval_costs. int w[<code>WL_HEART_BEATS</code>] = Weighted count of heart_beats. int w[<code>WL_CALL_OUT</code>] = Reserved for <a class="el" href="classefun.html#a80949ae9919cf34ceed353d2f3a005b8" title="Set up a call to function fun in the current object, or to closure cl. ">efun::call_out()</a> (unused yet). int w[<code>WL_ARRAY_TOTAL</code>] = Total size of arrays in elements. int w[<code>WL_MAPPING_TOTAL</code>] = Total size of mappings in elements. int w[<code>WL_STRUCT_TOTAL</code>] = Total size of structs in elements. mixed w[<code>WL_EXTRA</code>] = Extra wizlist-info if set.</p>
<p>The 'weighted' entries decay every hour by 10%.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line">mixed * <a class="code" href="classefun.html#a68a193afd07ce9f74d4722f8ae4e1efd">wizlist_info</a>()</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2.10) -- split the old WL_EVAL_COST into WL_COST and WL_GIGACOST to accomodate <span class="keywordflow">for</span> longer uptimes, and introduced WL_TOTAL_COST/WL_TOTAL_GIGACOST.</div>
<div class="line">changed (3.3.174) -- added WL_MAPPING_TOTAL.</div>
<div class="line">changed (3.3.?) -- added WL_STRUCT_TOTAL.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classmaster.html#afaf1545f7ccfbb3d897293150f5a45ca" title="Validate the execution of a privileged operation. ">master::privilege_violation()</a>, <a class="el" href="classefun.html#a21da0513dbfa7f5b70128a79f2812358" title="Indicate that the wizlist should contain an array of this size with extra info foreach wizard...">efun::set_extra_wizinfo_size()</a>, <a class="el" href="classefun.html#a8d02f1b3e1eba1feaf5edb4d894c29e6" title="Returns the &#39;extra&#39; information that was set for the given wizard wiz in the wizlist. ">efun::get_extra_wizinfo()</a>, <a class="el" href="classefun.html#a6621468655305aa773e3fc8dca0e1110" title="Set the value extra as the &#39;extra&#39; information for the wizlist entry of wiz. ">efun::set_extra_wizinfo()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="afacd7cdaff7309a4b579f4c14db53662"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void write </td>
          <td>(</td>
          <td class="paramtype">mixed msg&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write out something to the current user. </p>
<p>What exactly will be printed in the end depends of the type of <code>msg:</code> </p>
<ul>
<li>If it is a string or a number then just prints it out.</li>
<li>If it is an object then the object will be printed in the form: <code>"OBJ("+object_name((object)mix)+")"</code></li>
<li>If it is an array just <code>&lt;ARRAY&gt;</code> will be printed.</li>
<li>If it is a mapping just <code>&lt;MAPPING&gt;</code> will be printed.</li>
<li>If it is a closure just <code>&lt;CLOSURE&gt;</code> will be printed.</li>
</ul>
<p>If the function is invoked by a command of a non-interactive living object (such as an NPC) and the given argument is a string, the lfun <a class="el" href="classapplied.html#a7694f52f199ec3698af091accf6e6f22" title="When a message is sent to an non-interactive object, via efun::say(), efun::tell_object(), efun::tell_room() or efun::write(), it will get to the function applied::catch_tell(string)(). ">applied::catch_tell()</a> of the living will be invoked with the message as argument.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(mixed msg)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">Just print out a string:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<span class="stringliteral">&quot;Hello world!\n&quot;</span>);</div>
</div><!-- fragment --><p> Other types are mostly just useful for debug purposes:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>(<a class="code" href="classefun.html#a23dc6aa65a7477371df722a647b661af">this_player</a>());  <span class="comment">// prints &quot;OBJ(std/player#1234)&quot;</span></div>
<div class="line"><a class="code" href="classefun.html#afacd7cdaff7309a4b579f4c14db53662">write</a>( ({ <span class="stringliteral">&quot;blub&quot;</span> }) ); <span class="comment">// prints &quot;&lt;ARRAY&gt;&quot;</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a9047308a38d0fbf3c038db31e501851d" title="There are two major modes of calling: ">efun::say()</a>, <a class="el" href="classefun.html#ac82979d3c13cf20f0fd4b2269248a9ab" title="Send a message str to object ob (which is looked up and loaded by given name if necessary). ">efun::tell_object()</a>, <a class="el" href="classefun.html#ad6b55cee01890c09a421e1c8031bf098" title="Send a message str to all living objects in the room ob. ">efun::tell_room()</a>, <a class="el" href="classapplied.html#a7694f52f199ec3698af091accf6e6f22" title="When a message is sent to an non-interactive object, via efun::say(), efun::tell_object(), efun::tell_room() or efun::write(), it will get to the function applied::catch_tell(string)(). ">applied::catch_tell()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aace43816f21156a6d6f2487d1a4d43c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int write_bytes </td>
          <td>(</td>
          <td class="paramtype">string file&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int start&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write string str to file file by overwriting the old bytes at position start. </p>
<p>If start is a negative value then it will be counted from the end of the file. The file will not be appended, instead the function will be aborted. Returns 1 for success 0 for failure during execution.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#aace43816f21156a6d6f2487d1a4d43c8">write_bytes</a>(string file, int start, string str)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.2@232) -- can now append to the file.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a5f0c2d12abfcccf088e5a10fe1ebbb90" title="Encode the saveable variables of the current object into a string. ">efun::save_object()</a>, <a class="el" href="classefun.html#a383474b75b88587a17308ed30dfea60d" title="Append the string str to the file file. ">efun::write_file()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a383474b75b88587a17308ed30dfea60d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int write_file </td>
          <td>(</td>
          <td class="paramtype">string file&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string str&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int flags&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Append the string <code>str</code> to the file <code>file</code>. </p>
<p>Returns 1 for success and 0 if any failure occured.</p>
<p>If <code>flags</code> is 1, the file is removed first; thus making the 'append' effectively an 'overwrite'. Default for <code>flags</code> is 0.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="classefun.html#a383474b75b88587a17308ed30dfea60d">write_file</a>(string file, string str)</div>
<div class="line">int <a class="code" href="classefun.html#a383474b75b88587a17308ed30dfea60d">write_file</a>(string file, string str, int flags)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">changed (3.3.523) -- added the flags parameter.</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a0c87cd9fec8ea173263102f5340e8eeb" title="Return: ">efun::file_size()</a>, <a class="el" href="classefun.html#aace43816f21156a6d6f2487d1a4d43c8" title="Write string str to file file by overwriting the old bytes at position start. ">efun::write_bytes()</a>, <a class="el" href="classefun.html#a383474b75b88587a17308ed30dfea60d" title="Append the string str to the file file. ">efun::write_file()</a>, <a class="el" href="classefun.html#a691ba221d2589d03d70a2b024644d250" title="Reads lines from file. ">efun::read_file()</a>, <a class="el" href="classefun.html#a45d3491b9a1f26d6816b7409ca785150" title="Reads a given amount of bytes from file. ">efun::read_bytes()</a>, <a class="el" href="classefun.html#aaec3d134cb8138d71a07a58e90503ff1" title="Remove the file. ">efun::rm()</a>, <a class="el" href="classefun.html#a457ca99271d2dd61e3378e952e34291a" title="This function takes a path as argument and returns an array of file names and attributes in that dire...">efun::get_dir()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aec4e2d3906875b1b96cfbd0bfa3d7100"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string xml_generate </td>
          <td>(</td>
          <td class="paramtype">mixed  *&#160;</td>
          <td class="paramname"><em>xml</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts the given <code>xml</code> array into an XML conformant string, if possible. </p>
<p>The <code>xml</code> argument array must have the following structure:</p>
<p>It must contain tag arrays of three elements, with the following indices:</p>
<p>string <code>XML_TAG_NAME</code> The name of the XML tag.</p>
<p>mapping <code>XML_TAG_ATTRIBUTES</code> All attributes given to the XML tag as a mapping where the key is the attribute name and the value is its string value.</p>
<p>If the xml tag does not contain any attributes, this element is set to 0.</p>
<p>mixed * <code>XML_TAG_CONTENTS</code> The contents of this xml tag as an array. This array may contain either strings, or arrays of sub-tags again with three elements. (see example)</p>
<p>If the xml tag does not contain anything, the element is set to 0.</p>
<p>In case the parameter does not follow these rules, errors are raised. The method returns a valid XML string otherwise.</p>
<p>The function is available only if the driver is compiled with Iksemel support. In that case, <a class="el" href="driver_topics_predefined.html">__XML_DOM__</a> is defined.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#aec4e2d3906875b1b96cfbd0bfa3d7100">xml_generate</a>(mixed *xml)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">For starters, here's how you can generate individual tags:</p>
<div class="fragment"><div class="line"><a class="code" href="classefun.html#aec4e2d3906875b1b96cfbd0bfa3d7100">xml_generate</a>(({ <span class="stringliteral">&quot;abc&quot;</span>, 0, 0 }));                   <span class="comment">// &quot;&lt;abc/&gt;&quot;</span></div>
<div class="line"><a class="code" href="classefun.html#aec4e2d3906875b1b96cfbd0bfa3d7100">xml_generate</a>(({ <span class="stringliteral">&quot;abc&quot;</span>, ([ <span class="stringliteral">&quot;xyz&quot;</span> : <span class="stringliteral">&quot;cde&quot;</span> ]), 0 })); <span class="comment">// &quot;&lt;abc xyz=&quot;cde&quot;/&gt;&quot;</span></div>
</div><!-- fragment --><p> Nested tags get complicated (and hard to read) quickly, so it's important to format them consistently:</p>
<div class="fragment"><div class="line">mixed *xml = ({ <span class="stringliteral">&quot;book&quot;</span></div>
<div class="line">              , ([ <span class="stringliteral">&quot;language&quot;</span> : <span class="stringliteral">&quot;common&quot;</span> ])</div>
<div class="line">              , ({ ({ <span class="stringliteral">&quot;title&quot;</span></div>
<div class="line">                    , 0</div>
<div class="line">                    , ({ <span class="stringliteral">&quot;This is a title&quot;</span> })</div>
<div class="line">                   })</div>
<div class="line">                 , ({ <span class="stringliteral">&quot;chapter&quot;</span></div>
<div class="line">                    , 0</div>
<div class="line">                    , ({ <span class="stringliteral">&quot;This is a chapter&quot;</span> })</div>
<div class="line">                   })</div>
<div class="line">                 , ({ <span class="stringliteral">&quot;chapter&quot;</span></div>
<div class="line">                    , 0</div>
<div class="line">                    , ({ <span class="stringliteral">&quot;We want &quot;</span></div>
<div class="line">                       , ({ <span class="stringliteral">&quot;b&quot;</span></div>
<div class="line">                          , 0</div>
<div class="line">                          , ({ <span class="stringliteral">&quot;bold&quot;</span> })</div>
<div class="line">                         })</div>
<div class="line">                       , <span class="stringliteral">&quot;here&quot;</span></div>
<div class="line">                      })</div>
<div class="line">                   })</div>
<div class="line">                })</div>
<div class="line">             });</div>
<div class="line"></div>
<div class="line"><a class="code" href="classefun.html#aec4e2d3906875b1b96cfbd0bfa3d7100">xml_generate</a>(xml); <span class="comment">// &quot;&lt;book language=&quot;common&quot;&gt;&lt;title&gt;This is the title&lt;/title&gt;&lt;chapter&gt;This is a chapter&lt;/chapter&gt;&lt;chapter&gt;We want &lt;b&gt;bold&lt;/b&gt; here.&lt;/chapter&gt;&lt;/book&gt;&quot;</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section user"><dt>History:</dt><dd><div class="fragment"><div class="line">introduced (3.3.718)</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd>efun::xml_parse() </dd></dl>

</div>
</div>
<a class="anchor" id="aeda3e1403911d376dd0db4b9b501dc62"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string xor_bits </td>
          <td>(</td>
          <td class="paramtype">string str1&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string str2&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>str1</code> and <code>str2</code> are both bitstrings. </p>
<p>The result of the function is a bitstring with the binary-xor of <code>str1</code> and <code>str2</code>, ie. a string in which a bit is set only if the corresponding bits in either <code>str1</code> or <code>str2</code> (but not both) is set.</p>
<dl class="section user"><dt>Synopsis:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">string</span> <a class="code" href="classefun.html#aeda3e1403911d376dd0db4b9b501dc62">xor_bits</a>(string str1, string str2)</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><p class="startdd">The below example demonstrates how <a class="el" href="classefun.html#aeda3e1403911d376dd0db4b9b501dc62" title="str1 and str2 are both bitstrings. ">efun::xor_bits()</a> cancels out the bit common to s1 and s2, but retains bits present only in one string:</p>
<div class="fragment"><div class="line"><span class="keywordtype">string</span> s1, s2, s3;</div>
<div class="line"></div>
<div class="line">s1 = <a class="code" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a>(<span class="stringliteral">&quot;&quot;</span>, 3);</div>
<div class="line">s1 = <a class="code" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a>(s1, 15);  <span class="comment">// s1 is &quot;( (&quot;, bits 3 and 15</span></div>
<div class="line"></div>
<div class="line">s2 = <a class="code" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a>(<span class="stringliteral">&quot;&quot;</span>, 3);</div>
<div class="line">s2 = <a class="code" href="classefun.html#aae4303bfb007375b5f182294e1fb274e">set_bit</a>(s2, 4);   <span class="comment">// s2 is &quot;8&quot;, bits 3 and 4</span></div>
<div class="line"></div>
<div class="line">s3 = <a class="code" href="classefun.html#aeda3e1403911d376dd0db4b9b501dc62">xor_bits</a>(s1, s2); <span class="comment">// s3 is &quot;0 (&quot;, bits 4 and 15</span></div>
</div><!-- fragment --><p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classefun.html#a9820c9a0cc652f0f9054e8dd9d7e56b0" title="Return the new string where bit n is cleared in string str. ">efun::clear_bit()</a>, <a class="el" href="classefun.html#aae4303bfb007375b5f182294e1fb274e" title="Return the new string where bit n is set in string str. ">efun::set_bit()</a>, <a class="el" href="classefun.html#a1f992595c33434f4657015ffe765d2bc" title="Return 0 or 1 if bit n was set in string str. ">efun::test_bit()</a>, <a class="el" href="classefun.html#ae9a22225f7ecf80a5bcd52261d1b27c0" title="Return the number of the next bit in bitstring str after position start. ">efun::next_bit()</a>, <a class="el" href="classefun.html#add033af196d131772d3a99373bd14cd9" title="Return the number of the last set bit in bitstring str. ">efun::last_bit()</a>, <a class="el" href="classefun.html#a4219dca74e569f12726df9bd9e11669d" title="Count the number of set bits in bitstring str and return the number as result. ">efun::count_bits()</a>, <a class="el" href="classefun.html#a481a071b1544dd0eb27556efb3768cb6" title="str1 and str2 are both bitstrings. ">efun::and_bits()</a>, <a class="el" href="classefun.html#af939d33eba6b16a15e87e0737206b0e2" title="str1 and str2 are both bitstrings. ">efun::or_bits()</a>, <a class="el" href="classefun.html#ad37a5b85653678afc3bba3b0fb152a3f" title="Invert the status of all bits in bitstring str and return the new string. ">efun::invert_bits()</a>, <a class="el" href="classefun.html#afcb4b753b24046893741d3c3e0c33e62" title="Copy the bitrange [&lt;em&gt;srcstart&lt;/em&gt;..&lt;em&gt;srcstart&lt;/em&gt;+&lt;em&gt;copylen&lt;/em&gt;] from bitstring src and copy...">efun::copy_bits()</a> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>efun/<a class="el" href="abs_8c_source.html">abs.c</a></li>
<li>efun/<a class="el" href="acos_8c_source.html">acos.c</a></li>
<li>efun/<a class="el" href="add__action_8c_source.html">add_action.c</a></li>
<li>efun/<a class="el" href="all__environment_8c_source.html">all_environment.c</a></li>
<li>efun/<a class="el" href="all__inventory_8c_source.html">all_inventory.c</a></li>
<li>efun/<a class="el" href="allocate_8c_source.html">allocate.c</a></li>
<li>efun/<a class="el" href="and__bits_8c_source.html">and_bits.c</a></li>
<li>efun/<a class="el" href="apply_8c_source.html">apply.c</a></li>
<li>efun/<a class="el" href="asin_8c_source.html">asin.c</a></li>
<li>efun/<a class="el" href="atan_8c_source.html">atan.c</a></li>
<li>efun/<a class="el" href="atan2_8c_source.html">atan2.c</a></li>
<li>efun/<a class="el" href="attach__erq__demon_8c_source.html">attach_erq_demon.c</a></li>
<li>efun/<a class="el" href="baseof_8c_source.html">baseof.c</a></li>
<li>efun/<a class="el" href="binary__message_8c_source.html">binary_message.c</a></li>
<li>efun/<a class="el" href="bind__lambda_8c_source.html">bind_lambda.c</a></li>
<li>efun/<a class="el" href="blueprint_8c_source.html">blueprint.c</a></li>
<li>efun/<a class="el" href="break__point_8c_source.html">break_point.c</a></li>
<li>efun/<a class="el" href="call__direct_8c_source.html">call_direct.c</a></li>
<li>efun/<a class="el" href="call__direct__resolved_8c_source.html">call_direct_resolved.c</a></li>
<li>efun/<a class="el" href="call__other_8c_source.html">call_other.c</a></li>
<li>efun/<a class="el" href="call__out_8c_source.html">call_out.c</a></li>
<li>efun/<a class="el" href="call__out__info_8c_source.html">call_out_info.c</a></li>
<li>efun/<a class="el" href="call__resolved_8c_source.html">call_resolved.c</a></li>
<li>efun/<a class="el" href="caller__stack_8c_source.html">caller_stack.c</a></li>
<li>efun/<a class="el" href="caller__stack__depth_8c_source.html">caller_stack_depth.c</a></li>
<li>efun/<a class="el" href="capitalize_8c_source.html">capitalize.c</a></li>
<li>efun/<a class="el" href="catch_8c_source.html">catch.c</a></li>
<li>efun/<a class="el" href="ceil_8c_source.html">ceil.c</a></li>
<li>efun/<a class="el" href="clear__bit_8c_source.html">clear_bit.c</a></li>
<li>efun/<a class="el" href="clone__object_8c_source.html">clone_object.c</a></li>
<li>efun/<a class="el" href="clonep_8c_source.html">clonep.c</a></li>
<li>efun/<a class="el" href="clones_8c_source.html">clones.c</a></li>
<li>efun/<a class="el" href="closurep_8c_source.html">closurep.c</a></li>
<li>efun/<a class="el" href="command_8c_source.html">command.c</a></li>
<li>efun/<a class="el" href="command__stack_8c_source.html">command_stack.c</a></li>
<li>efun/<a class="el" href="command__stack__depth_8c_source.html">command_stack_depth.c</a></li>
<li>efun/<a class="el" href="configure__driver_8c_source.html">configure_driver.c</a></li>
<li>efun/<a class="el" href="configure__interactive_8c_source.html">configure_interactive.c</a></li>
<li>efun/<a class="el" href="convert__charset_8c_source.html">convert_charset.c</a></li>
<li>efun/<a class="el" href="copy_8c_source.html">copy.c</a></li>
<li>efun/<a class="el" href="copy__bits_8c_source.html">copy_bits.c</a></li>
<li>efun/<a class="el" href="copy__file_8c_source.html">copy_file.c</a></li>
<li>efun/<a class="el" href="cos_8c_source.html">cos.c</a></li>
<li>efun/<a class="el" href="count__bits_8c_source.html">count_bits.c</a></li>
<li>efun/<a class="el" href="creator_8c_source.html">creator.c</a></li>
<li>efun/<a class="el" href="crypt_8c_source.html">crypt.c</a></li>
<li>efun/<a class="el" href="ctime_8c_source.html">ctime.c</a></li>
<li>efun/<a class="el" href="db__affected__rows_8c_source.html">db_affected_rows.c</a></li>
<li>efun/<a class="el" href="db__close_8c_source.html">db_close.c</a></li>
<li>efun/<a class="el" href="db__coldefs_8c_source.html">db_coldefs.c</a></li>
<li>efun/<a class="el" href="db__connect_8c_source.html">db_connect.c</a></li>
<li>efun/<a class="el" href="db__conv__string_8c_source.html">db_conv_string.c</a></li>
<li>efun/<a class="el" href="db__error_8c_source.html">db_error.c</a></li>
<li>efun/<a class="el" href="db__exec_8c_source.html">db_exec.c</a></li>
<li>efun/<a class="el" href="db__fetch_8c_source.html">db_fetch.c</a></li>
<li>efun/<a class="el" href="db__handles_8c_source.html">db_handles.c</a></li>
<li>efun/<a class="el" href="db__insert__id_8c_source.html">db_insert_id.c</a></li>
<li>efun/<a class="el" href="debug__info_8c_source.html">debug_info.c</a></li>
<li>efun/<a class="el" href="debug__message_8c_source.html">debug_message.c</a></li>
<li>efun/<a class="el" href="deep__copy_8c_source.html">deep_copy.c</a></li>
<li>efun/<a class="el" href="deep__inventory_8c_source.html">deep_inventory.c</a></li>
<li>efun/<a class="el" href="destruct_8c_source.html">destruct.c</a></li>
<li>efun/<a class="el" href="disable__commands_8c_source.html">disable_commands.c</a></li>
<li>efun/<a class="el" href="ed_8c_source.html">ed.c</a></li>
<li>efun/<a class="el" href="enable__commands_8c_source.html">enable_commands.c</a></li>
<li>efun/<a class="el" href="enable__telnet_8c_source.html">enable_telnet.c</a></li>
<li>efun/<a class="el" href="end__mccp__compress_8c_source.html">end_mccp_compress.c</a></li>
<li>efun/<a class="el" href="environment_8c_source.html">environment.c</a></li>
<li>efun/<a class="el" href="exec_8c_source.html">exec.c</a></li>
<li>efun/<a class="el" href="execute__command_8c_source.html">execute_command.c</a></li>
<li>efun/<a class="el" href="exp_8c_source.html">exp.c</a></li>
<li>efun/<a class="el" href="expand__define_8c_source.html">expand_define.c</a></li>
<li>efun/<a class="el" href="explode_8c_source.html">explode.c</a></li>
<li>efun/<a class="el" href="export__uid_8c_source.html">export_uid.c</a></li>
<li>efun/<a class="el" href="extern__call_8c_source.html">extern_call.c</a></li>
<li>efun/<a class="el" href="file__size_8c_source.html">file_size.c</a></li>
<li>efun/<a class="el" href="filter_8c_source.html">filter.c</a></li>
<li>efun/<a class="el" href="filter__indices_8c_source.html">filter_indices.c</a></li>
<li>efun/<a class="el" href="filter__objects_8c_source.html">filter_objects.c</a></li>
<li>efun/<a class="el" href="find__call__out_8c_source.html">find_call_out.c</a></li>
<li>efun/<a class="el" href="find__input__to_8c_source.html">find_input_to.c</a></li>
<li>efun/<a class="el" href="find__object_8c_source.html">find_object.c</a></li>
<li>efun/<a class="el" href="first__inventory_8c_source.html">first_inventory.c</a></li>
<li>efun/<a class="el" href="floatp_8c_source.html">floatp.c</a></li>
<li>efun/<a class="el" href="floor_8c_source.html">floor.c</a></li>
<li>efun/<a class="el" href="funcall_8c_source.html">funcall.c</a></li>
<li>efun/<a class="el" href="function__exists_8c_source.html">function_exists.c</a></li>
<li>efun/<a class="el" href="functionlist_8c_source.html">functionlist.c</a></li>
<li>efun/<a class="el" href="garbage__collection_8c_source.html">garbage_collection.c</a></li>
<li>efun/<a class="el" href="get__combine__charset_8c_source.html">get_combine_charset.c</a></li>
<li>efun/<a class="el" href="get__connection__charset_8c_source.html">get_connection_charset.c</a></li>
<li>efun/<a class="el" href="get__dir_8c_source.html">get_dir.c</a></li>
<li>efun/<a class="el" href="get__error__file_8c_source.html">get_error_file.c</a></li>
<li>efun/<a class="el" href="get__eval__cost_8c_source.html">get_eval_cost.c</a></li>
<li>efun/<a class="el" href="get__extra__wizinfo_8c_source.html">get_extra_wizinfo.c</a></li>
<li>efun/<a class="el" href="get__max__commands_8c_source.html">get_max_commands.c</a></li>
<li>efun/<a class="el" href="get__type__info_8c_source.html">get_type_info.c</a></li>
<li>efun/<a class="el" href="geteuid_8c_source.html">geteuid.c</a></li>
<li>efun/<a class="el" href="getuid_8c_source.html">getuid.c</a></li>
<li>efun/<a class="el" href="gmtime_8c_source.html">gmtime.c</a></li>
<li>efun/<a class="el" href="hash_8c_source.html">hash.c</a></li>
<li>efun/<a class="el" href="heart__beat__info_8c_source.html">heart_beat_info.c</a></li>
<li>efun/<a class="el" href="hmac_8c_source.html">hmac.c</a></li>
<li>efun/<a class="el" href="idna__stringprep_8c_source.html">idna_stringprep.c</a></li>
<li>efun/<a class="el" href="idna__to__ascii_8c_source.html">idna_to_ascii.c</a></li>
<li>efun/<a class="el" href="idna__to__unicode_8c_source.html">idna_to_unicode.c</a></li>
<li>efun/<a class="el" href="implode_8c_source.html">implode.c</a></li>
<li>efun/<a class="el" href="inherit__list_8c_source.html">inherit_list.c</a></li>
<li>efun/<a class="el" href="input__to_8c_source.html">input_to.c</a></li>
<li>efun/<a class="el" href="input__to__info_8c_source.html">input_to_info.c</a></li>
<li>efun/<a class="el" href="interactive_8c_source.html">interactive.c</a></li>
<li>efun/<a class="el" href="intp_8c_source.html">intp.c</a></li>
<li>efun/<a class="el" href="invert__bits_8c_source.html">invert_bits.c</a></li>
<li>efun/<a class="el" href="json__parse_8c_source.html">json_parse.c</a></li>
<li>efun/<a class="el" href="json__serialize_8c_source.html">json_serialize.c</a></li>
<li>efun/<a class="el" href="lambda_8c_source.html">lambda.c</a></li>
<li>efun/<a class="el" href="last__bit_8c_source.html">last_bit.c</a></li>
<li>efun/<a class="el" href="last__instructions_8c_source.html">last_instructions.c</a></li>
<li>efun/<a class="el" href="limited_8c_source.html">limited.c</a></li>
<li>efun/<a class="el" href="living_8c_source.html">living.c</a></li>
<li>efun/<a class="el" href="load__name_8c_source.html">load_name.c</a></li>
<li>efun/<a class="el" href="load__object_8c_source.html">load_object.c</a></li>
<li>efun/<a class="el" href="localtime_8c_source.html">localtime.c</a></li>
<li>efun/<a class="el" href="log_8c_source.html">log.c</a></li>
<li>efun/<a class="el" href="lower__case_8c_source.html">lower_case.c</a></li>
<li>efun/<a class="el" href="m__add_8c_source.html">m_add.c</a></li>
<li>efun/<a class="el" href="m__allocate_8c_source.html">m_allocate.c</a></li>
<li>efun/<a class="el" href="m__contains_8c_source.html">m_contains.c</a></li>
<li>efun/<a class="el" href="m__delete_8c_source.html">m_delete.c</a></li>
<li>efun/<a class="el" href="m__entry_8c_source.html">m_entry.c</a></li>
<li>efun/<a class="el" href="m__indices_8c_source.html">m_indices.c</a></li>
<li>efun/<a class="el" href="m__reallocate_8c_source.html">m_reallocate.c</a></li>
<li>efun/<a class="el" href="m__values_8c_source.html">m_values.c</a></li>
<li>efun/<a class="el" href="make__shared__string_8c_source.html">make_shared_string.c</a></li>
<li>efun/<a class="el" href="map_8c_source.html">map.c</a></li>
<li>efun/<a class="el" href="map__indices_8c_source.html">map_indices.c</a></li>
<li>efun/<a class="el" href="map__objects_8c_source.html">map_objects.c</a></li>
<li>efun/<a class="el" href="mappingp_8c_source.html">mappingp.c</a></li>
<li>efun/<a class="el" href="master_8c_source.html">master.c</a></li>
<li>efun/<a class="el" href="match__command_8c_source.html">match_command.c</a></li>
<li>efun/<a class="el" href="max_8c_source.html">max.c</a></li>
<li>efun/<a class="el" href="md5_8c_source.html">md5.c</a></li>
<li>efun/<a class="el" href="md5__crypt_8c_source.html">md5_crypt.c</a></li>
<li>efun/<a class="el" href="member_8c_source.html">member.c</a></li>
<li>efun/<a class="el" href="min_8c_source.html">min.c</a></li>
<li>efun/<a class="el" href="mkdir_8c_source.html">mkdir.c</a></li>
<li>efun/<a class="el" href="mkmapping_8c_source.html">mkmapping.c</a></li>
<li>efun/<a class="el" href="mktime_8c_source.html">mktime.c</a></li>
<li>efun/<a class="el" href="move__object_8c_source.html">move_object.c</a></li>
<li>efun/<a class="el" href="negate_8c_source.html">negate.c</a></li>
<li>efun/<a class="el" href="net__connect_8c_source.html">net_connect.c</a></li>
<li>efun/<a class="el" href="next__bit_8c_source.html">next_bit.c</a></li>
<li>efun/<a class="el" href="next__inventory_8c_source.html">next_inventory.c</a></li>
<li>efun/<a class="el" href="notify__fail_8c_source.html">notify_fail.c</a></li>
<li>efun/<a class="el" href="object__info_8c_source.html">object_info.c</a></li>
<li>efun/<a class="el" href="object__name_8c_source.html">object_name.c</a></li>
<li>efun/<a class="el" href="object__time_8c_source.html">object_time.c</a></li>
<li>efun/<a class="el" href="objectp_8c_source.html">objectp.c</a></li>
<li>efun/<a class="el" href="or__bits_8c_source.html">or_bits.c</a></li>
<li>efun/<a class="el" href="parse__command_8c_source.html">parse_command.c</a></li>
<li>efun/<a class="el" href="pg__close_8c_source.html">pg_close.c</a></li>
<li>efun/<a class="el" href="pg__connect_8c_source.html">pg_connect.c</a></li>
<li>efun/<a class="el" href="pg__conv__string_8c_source.html">pg_conv_string.c</a></li>
<li>efun/<a class="el" href="pg__pending_8c_source.html">pg_pending.c</a></li>
<li>efun/<a class="el" href="pg__query_8c_source.html">pg_query.c</a></li>
<li>efun/<a class="el" href="pointerp_8c_source.html">pointerp.c</a></li>
<li>efun/<a class="el" href="pow_8c_source.html">pow.c</a></li>
<li>efun/<a class="el" href="present_8c_source.html">present.c</a></li>
<li>efun/<a class="el" href="present__clone_8c_source.html">present_clone.c</a></li>
<li>efun/<a class="el" href="previous__object_8c_source.html">previous_object.c</a></li>
<li>efun/<a class="el" href="printf_8c_source.html">printf.c</a></li>
<li>efun/<a class="el" href="process__string_8c_source.html">process_string.c</a></li>
<li>efun/<a class="el" href="program__name_8c_source.html">program_name.c</a></li>
<li>efun/<a class="el" href="program__time_8c_source.html">program_time.c</a></li>
<li>efun/<a class="el" href="query__actions_8c_source.html">query_actions.c</a></li>
<li>efun/<a class="el" href="query__command_8c_source.html">query_command.c</a></li>
<li>efun/<a class="el" href="query__editing_8c_source.html">query_editing.c</a></li>
<li>efun/<a class="el" href="query__idle_8c_source.html">query_idle.c</a></li>
<li>efun/<a class="el" href="query__input__pending_8c_source.html">query_input_pending.c</a></li>
<li>efun/<a class="el" href="query__ip__name_8c_source.html">query_ip_name.c</a></li>
<li>efun/<a class="el" href="query__ip__number_8c_source.html">query_ip_number.c</a></li>
<li>efun/<a class="el" href="query__limits_8c_source.html">query_limits.c</a></li>
<li>efun/<a class="el" href="query__load__average_8c_source.html">query_load_average.c</a></li>
<li>efun/<a class="el" href="query__mccp_8c_source.html">query_mccp.c</a></li>
<li>efun/<a class="el" href="query__mccp__stats_8c_source.html">query_mccp_stats.c</a></li>
<li>efun/<a class="el" href="query__mud__port_8c_source.html">query_mud_port.c</a></li>
<li>efun/<a class="el" href="query__notify__fail_8c_source.html">query_notify_fail.c</a></li>
<li>efun/<a class="el" href="query__once__interactive_8c_source.html">query_once_interactive.c</a></li>
<li>efun/<a class="el" href="query__shadowing_8c_source.html">query_shadowing.c</a></li>
<li>efun/<a class="el" href="query__snoop_8c_source.html">query_snoop.c</a></li>
<li>efun/<a class="el" href="query__udp__port_8c_source.html">query_udp_port.c</a></li>
<li>efun/<a class="el" href="query__verb_8c_source.html">query_verb.c</a></li>
<li>efun/<a class="el" href="quote_8c_source.html">quote.c</a></li>
<li>efun/<a class="el" href="raise__error_8c_source.html">raise_error.c</a></li>
<li>efun/<a class="el" href="random_8c_source.html">random.c</a></li>
<li>efun/<a class="el" href="read__bytes_8c_source.html">read_bytes.c</a></li>
<li>efun/<a class="el" href="read__file_8c_source.html">read_file.c</a></li>
<li>efun/<a class="el" href="referencep_8c_source.html">referencep.c</a></li>
<li>efun/<a class="el" href="regexp_8c_source.html">regexp.c</a></li>
<li>efun/<a class="el" href="regexp__package_8c_source.html">regexp_package.c</a></li>
<li>efun/<a class="el" href="regexplode_8c_source.html">regexplode.c</a></li>
<li>efun/<a class="el" href="regmatch_8c_source.html">regmatch.c</a></li>
<li>efun/<a class="el" href="regreplace_8c_source.html">regreplace.c</a></li>
<li>efun/<a class="el" href="remove__action_8c_source.html">remove_action.c</a></li>
<li>efun/<a class="el" href="remove__call__out_8c_source.html">remove_call_out.c</a></li>
<li>efun/<a class="el" href="remove__input__to_8c_source.html">remove_input_to.c</a></li>
<li>efun/<a class="el" href="remove__interactive_8c_source.html">remove_interactive.c</a></li>
<li>efun/<a class="el" href="rename_8c_source.html">rename.c</a></li>
<li>efun/<a class="el" href="rename__object_8c_source.html">rename_object.c</a></li>
<li>efun/<a class="el" href="replace__program_8c_source.html">replace_program.c</a></li>
<li>efun/<a class="el" href="restore__object_8c_source.html">restore_object.c</a></li>
<li>efun/<a class="el" href="restore__value_8c_source.html">restore_value.c</a></li>
<li>efun/<a class="el" href="reverse_8c_source.html">reverse.c</a></li>
<li>efun/<a class="el" href="rm_8c_source.html">rm.c</a></li>
<li>efun/<a class="el" href="rmdir_8c_source.html">rmdir.c</a></li>
<li>efun/<a class="el" href="rmember_8c_source.html">rmember.c</a></li>
<li>efun/<a class="el" href="rusage_8c_source.html">rusage.c</a></li>
<li>efun/<a class="el" href="save__object_8c_source.html">save_object.c</a></li>
<li>efun/<a class="el" href="save__value_8c_source.html">save_value.c</a></li>
<li>efun/<a class="el" href="say_8c_source.html">say.c</a></li>
<li>efun/<a class="el" href="send__erq_8c_source.html">send_erq.c</a></li>
<li>efun/<a class="el" href="send__udp_8c_source.html">send_udp.c</a></li>
<li>efun/<a class="el" href="set__bit_8c_source.html">set_bit.c</a></li>
<li>efun/<a class="el" href="set__buffer__size_8c_source.html">set_buffer_size.c</a></li>
<li>efun/<a class="el" href="set__combine__charset_8c_source.html">set_combine_charset.c</a></li>
<li>efun/<a class="el" href="set__connection__charset_8c_source.html">set_connection_charset.c</a></li>
<li>efun/<a class="el" href="set__driver__hook_8c_source.html">set_driver_hook.c</a></li>
<li>efun/<a class="el" href="set__environment_8c_source.html">set_environment.c</a></li>
<li>efun/<a class="el" href="set__extra__wizinfo_8c_source.html">set_extra_wizinfo.c</a></li>
<li>efun/<a class="el" href="set__extra__wizinfo__size_8c_source.html">set_extra_wizinfo_size.c</a></li>
<li>efun/<a class="el" href="set__heart__beat_8c_source.html">set_heart_beat.c</a></li>
<li>efun/<a class="el" href="set__is__wizard_8c_source.html">set_is_wizard.c</a></li>
<li>efun/<a class="el" href="set__limits_8c_source.html">set_limits.c</a></li>
<li>efun/<a class="el" href="set__max__commands_8c_source.html">set_max_commands.c</a></li>
<li>efun/<a class="el" href="set__modify__command_8c_source.html">set_modify_command.c</a></li>
<li>efun/<a class="el" href="set__next__reset_8c_source.html">set_next_reset.c</a></li>
<li>efun/<a class="el" href="set__prompt_8c_source.html">set_prompt.c</a></li>
<li>efun/<a class="el" href="set__this__object_8c_source.html">set_this_object.c</a></li>
<li>efun/<a class="el" href="set__this__player_8c_source.html">set_this_player.c</a></li>
<li>efun/<a class="el" href="seteuid_8c_source.html">seteuid.c</a></li>
<li>efun/<a class="el" href="sgn_8c_source.html">sgn.c</a></li>
<li>efun/<a class="el" href="sha1_8c_source.html">sha1.c</a></li>
<li>efun/<a class="el" href="shadow_8c_source.html">shadow.c</a></li>
<li>efun/<a class="el" href="shutdown_8c_source.html">shutdown.c</a></li>
<li>efun/<a class="el" href="sin_8c_source.html">sin.c</a></li>
<li>efun/<a class="el" href="sizeof_8c_source.html">sizeof.c</a></li>
<li>efun/<a class="el" href="sl__close_8c_source.html">sl_close.c</a></li>
<li>efun/<a class="el" href="sl__exec_8c_source.html">sl_exec.c</a></li>
<li>efun/<a class="el" href="sl__insert__id_8c_source.html">sl_insert_id.c</a></li>
<li>efun/<a class="el" href="sl__open_8c_source.html">sl_open.c</a></li>
<li>efun/<a class="el" href="snoop_8c_source.html">snoop.c</a></li>
<li>efun/<a class="el" href="sort__array_8c_source.html">sort_array.c</a></li>
<li>efun/<a class="el" href="sprintf_8c_source.html">sprintf.c</a></li>
<li>efun/<a class="el" href="sqrt_8c_source.html">sqrt.c</a></li>
<li>efun/<a class="el" href="sscanf_8c_source.html">sscanf.c</a></li>
<li>efun/<a class="el" href="start__mccp__compress_8c_source.html">start_mccp_compress.c</a></li>
<li>efun/<a class="el" href="strftime_8c_source.html">strftime.c</a></li>
<li>efun/<a class="el" href="stringp_8c_source.html">stringp.c</a></li>
<li>efun/<a class="el" href="strlen_8c_source.html">strlen.c</a></li>
<li>efun/<a class="el" href="strrstr_8c_source.html">strrstr.c</a></li>
<li>efun/<a class="el" href="strstr_8c_source.html">strstr.c</a></li>
<li>efun/<a class="el" href="struct__info_8c_source.html">struct_info.c</a></li>
<li>efun/<a class="el" href="structp_8c_source.html">structp.c</a></li>
<li>efun/<a class="el" href="swap_8c_source.html">swap.c</a></li>
<li>efun/<a class="el" href="symbol__function_8c_source.html">symbol_function.c</a></li>
<li>efun/<a class="el" href="symbol__variable_8c_source.html">symbol_variable.c</a></li>
<li>efun/<a class="el" href="symbolp_8c_source.html">symbolp.c</a></li>
<li>efun/<a class="el" href="tan_8c_source.html">tan.c</a></li>
<li>efun/<a class="el" href="tell__object_8c_source.html">tell_object.c</a></li>
<li>efun/<a class="el" href="tell__room_8c_source.html">tell_room.c</a></li>
<li>efun/<a class="el" href="terminal__colour_8c_source.html">terminal_colour.c</a></li>
<li>efun/<a class="el" href="test__bit_8c_source.html">test_bit.c</a></li>
<li>efun/<a class="el" href="this__interactive_8c_source.html">this_interactive.c</a></li>
<li>efun/<a class="el" href="this__object_8c_source.html">this_object.c</a></li>
<li>efun/<a class="el" href="this__player_8c_source.html">this_player.c</a></li>
<li>efun/<a class="el" href="throw_8c_source.html">throw.c</a></li>
<li>efun/<a class="el" href="time_8c_source.html">time.c</a></li>
<li>efun/<a class="el" href="tls__available_8c_source.html">tls_available.c</a></li>
<li>efun/<a class="el" href="tls__check__certificate_8c_source.html">tls_check_certificate.c</a></li>
<li>efun/<a class="el" href="tls__deinit__connection_8c_source.html">tls_deinit_connection.c</a></li>
<li>efun/<a class="el" href="tls__error_8c_source.html">tls_error.c</a></li>
<li>efun/<a class="el" href="tls__init__connection_8c_source.html">tls_init_connection.c</a></li>
<li>efun/<a class="el" href="tls__query__connection__info_8c_source.html">tls_query_connection_info.c</a></li>
<li>efun/<a class="el" href="tls__query__connection__state_8c_source.html">tls_query_connection_state.c</a></li>
<li>efun/<a class="el" href="tls__refresh__certs_8c_source.html">tls_refresh_certs.c</a></li>
<li>efun/<a class="el" href="to__struct_8c_source.html">to_struct.c</a></li>
<li>efun/<a class="el" href="trace_8c_source.html">trace.c</a></li>
<li>efun/<a class="el" href="traceprefix_8c_source.html">traceprefix.c</a></li>
<li>efun/<a class="el" href="transfer_8c_source.html">transfer.c</a></li>
<li>efun/<a class="el" href="transpose__array_8c_source.html">transpose_array.c</a></li>
<li>efun/<a class="el" href="trim_8c_source.html">trim.c</a></li>
<li>efun/<a class="el" href="typeof_8c_source.html">typeof.c</a></li>
<li>efun/<a class="el" href="unbound__lambda_8c_source.html">unbound_lambda.c</a></li>
<li>efun/<a class="el" href="unique__array_8c_source.html">unique_array.c</a></li>
<li>efun/<a class="el" href="unmkmapping_8c_source.html">unmkmapping.c</a></li>
<li>efun/<a class="el" href="unquote_8c_source.html">unquote.c</a></li>
<li>efun/<a class="el" href="unshadow_8c_source.html">unshadow.c</a></li>
<li>efun/<a class="el" href="upper__case_8c_source.html">upper_case.c</a></li>
<li>efun/<a class="el" href="users_8c_source.html">users.c</a></li>
<li>efun/<a class="el" href="utime_8c_source.html">utime.c</a></li>
<li>efun/<a class="el" href="variable__exists_8c_source.html">variable_exists.c</a></li>
<li>efun/<a class="el" href="variable__list_8c_source.html">variable_list.c</a></li>
<li>efun/<a class="el" href="walk__mapping_8c_source.html">walk_mapping.c</a></li>
<li>efun/<a class="el" href="widthof_8c_source.html">widthof.c</a></li>
<li>efun/<a class="el" href="wizlist__info_8c_source.html">wizlist_info.c</a></li>
<li>efun/<a class="el" href="write_8c_source.html">write.c</a></li>
<li>efun/<a class="el" href="write__bytes_8c_source.html">write_bytes.c</a></li>
<li>efun/<a class="el" href="write__file_8c_source.html">write_file.c</a></li>
<li>efun/<a class="el" href="xml__generate_8c_source.html">xml_generate.c</a></li>
<li>efun/<a class="el" href="xor__bits_8c_source.html">xor_bits.c</a></li>
<li>efun/<a class="el" href="include__list_8c_source.html">include_list.c</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classefun.html">efun</a></li>
    <li class="footer">Generated on Thu Mar 9 2017 17:45:25 for LDMud by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
